"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[4213],{24986:function(e,t,r){r(13062);var n=r(71230),a=(r(89032),r(15746)),o=(r(61023),r(11324)),i=(r(52560),r(71577)),l=(r(51838),r(48086)),c=r(15671),s=r(43144),u=r(97326),d=r(60136),p=r(82963),f=r(61120),m=r(4942),v=r(45697),h=r.n(v),y=r(55609),b=r(67294),g=(r(98703),r(84391)),C=r(99124);function Z(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.Z)(e);if(t){var a=(0,f.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,p.Z)(this,r)}}var R=function(e){(0,d.Z)(r,e);var t=E(r);function r(e){var n;return(0,c.Z)(this,r),n=t.call(this,e),(0,m.Z)((0,u.Z)(n),"componentWillReceiveProps",(function(e){n.setState({isVerifyFileType:!!e.isVerifyFileType&&e.isVerifyFileType,onSuccess:e.onSuccess?e.onSuccess:void 0,onFailure:e.onFailure?e.onFailure:void 0})})),(0,m.Z)((0,u.Z)(n),"onUpload",(function(){return!1})),(0,m.Z)((0,u.Z)(n),"onCancel",(function(){n.setState(F(F({},n.state),{},{visible:!1}))})),(0,m.Z)((0,u.Z)(n),"onUploadSuccessCallback",(function(e,t){var r=n.props.onSuccess;t&&r&&r(t)})),(0,m.Z)((0,u.Z)(n),"onCheckValue",(function(e,t){var r,n=Z(e);try{for(n.s();!(r=n.n()).done;){if(r.value.uid===t)return!0}}catch(e){n.e(e)}finally{n.f()}return!1})),(0,m.Z)((0,u.Z)(n),"onChange",(function(e){var t=e.file,r=n.state.domain,a=n.state,o=a.isVerifyFileType,i=a.verifyFileType,c=t.name.slice(t.name.lastIndexOf(".")+1),s="";if(t.name&&(s=t.name.slice(0,t.name.lastIndexOf("."))),t.size>=152e5)return l.ZP.error("单个压缩包最大限制为15兆，请重新上传");if(o){if(i.some((function(e){return e===c})))return l.ZP.error("不支持上传压缩文件")}else if(i.some((function(e){return e===c}))&&"zip"!==c)return l.ZP.error("仅支持zip格式压缩包，请重新上传");return n.props.dispatch({type:"applicationFiles/uploadAmazonFile",payload:{file:t,domain:r,fileType:c,fileKey:s,onSuccessCallback:n.onUploadSuccessCallback.bind((0,u.Z)(n),t)}}),!1})),n.state={isVerifyFileType:!!e.isVerifyFileType&&e.isVerifyFileType,verifyFileType:["zip","rar","7z","wim","cab","iso","jar","ace","tar","arj","lzh"],onSuccess:e.onSuccess?e.onSuccess:void 0,onFailure:e.onFailure?e.onFailure:void 0,domain:e.domain},n}return(0,s.Z)(r,[{key:"render",value:function(){var e={action:"",name:"file",onChange:this.onChange,beforeUpload:this.onUpload,showUploadList:!1,multiple:!0};return b.createElement("div",{className:C.Z["app-comp-expense-common-upload-box"]},b.createElement(n.Z,null,b.createElement(a.Z,{sm:17,id:C.Z["app-comp-expense-common-upload-btn "]},b.createElement(o.Z,e,b.createElement(i.Z,{className:C.Z["app-comp-expense-common-upload-reset-hover"]},b.createElement(g.Z,null),"点击上传")),b.createElement("br",null),b.createElement("span",{className:C.Z["upload-style"]},"上传压缩包仅支持zip格式，单个压缩包限制15M"))))}}]),r}(b.Component);(0,m.Z)(R,"propTypes",{domain:h().string}),(0,m.Z)(R,"defaultProps",{domain:"deflateDomain"}),t.Z=(0,y.connect)()(R)},81243:function(e,t,r){var n=r(15671),a=r(43144),o=r(97326),i=r(60136),l=r(82963),c=r(61120),s=r(4942),u=r(67294),d=r(93517),p=r.n(d),f=r(45697),m=r.n(f),v=r(55609);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.Z)(this,r)}}var y=function(e){(0,i.Z)(r,e);var t=h(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,o.Z)(e),"render",(function(){var t=e.props,r=t.subjectId,n=t.subjectsDetail,a=void 0===n?{}:n,o=p().get(a,"".concat(r,".name"),""),i=p().get(a,"".concat(r,".accountingCode"),"");return u.createElement("span",null,"".concat(o).concat(i))})),e}return(0,a.Z)(r,[{key:"componentDidUpdate",value:function(e){var t=e.subjectId,r=void 0===t?void 0:t,n=e.dispatch,a=this.props,o=a.subjectId,i=void 0===o?void 0:o,l=a.subjectsDetail;i&&r!==i&&!(void 0===l?{}:l)[i]&&n({type:"expenseHouseContract/fetchSubjectsDetail",payload:{namespace:i,param:{id:i}}})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"expenseHouseContract/resetSubjectsDetail"})}}]),r}(u.Component);(0,s.Z)(y,"propTypes",{subjectId:m().string.isRequired,subjectsDetail:m().object}),(0,s.Z)(y,"defaultProps",{subjectId:"",subjectsDetail:{}}),t.Z=(0,v.connect)((function(e){return{subjectsDetail:e.expenseHouseContract.subjectsDetail}}))(y)},8926:function(e,t,r){r(36037);var n=r(47933),a=(r(9070),r(20924)),o=(r(36616),r(51368)),i=r(15671),l=r(43144),c=r(97326),s=r(60136),u=r(82963),d=r(61120),p=r(4942),f=r(94315),m=r.n(f),v=r(67294),h=r(45697),y=r.n(h),b=r(93517),g=r.n(b),C=r(96036),Z=r(81243),D=r(612),P=r(80385),F=r(8240);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.Z)(e);if(t){var a=(0,d.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.Z)(this,r)}}var R=function(e){(0,s.Z)(r,e);var t=E(r);function r(e){var l;return(0,i.Z)(this,r),l=t.call(this,e),(0,p.Z)((0,c.Z)(l),"onChangeRadioGroupValue",(function(e){var t=l.props.form,r=void 0===t?{}:t;e.target.value===P.Rpr.credit&&r.setFieldsValue({mediumIdNumber:void 0}),e.target.value===P.Rpr.idCard&&r.setFieldsValue({mediumUnifiedCode:void 0}),l.setState({updateRadioValue:!1,radioValue:e.target.value})})),(0,p.Z)((0,c.Z)(l),"validatorIdentityCardId",(function(e,t,r){return t?(0,F.us)(t)?void r():r("请输入正确的身份证号"):r("请输入证件号码")})),(0,p.Z)((0,c.Z)(l),"renderExpenseInfo",(function(){var e=l.props.form.getFieldDecorator,t=l.props,r=t.houseContractDetail,n=void 0===r?{}:r,a=t.subjectId,i=t.disabled,c=n.agentMoney,s=[{label:"费用金额(元)",form:e("agentMoney",{initialValue:m().existy(c)&&m().not.empty(c)?P.fbc.exchangePriceToYuan(c):"",rules:[{required:!0,message:"请填写内容"}]})(v.createElement(o.Z,{min:0,max:9999999999,disabled:i,formatter:P.fbc.limitDecimals,parser:P.fbc.limitDecimals}))},{label:"科目",form:e("agentAccountingId",{initialValue:a,rules:[{required:!0,message:"没有科目"}]})(v.createElement(Z.Z,{subjectId:a}))}];return v.createElement(C.KP,{items:s,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,p.Z)((0,c.Z)(l),"renderCorresponding",(function(e,t){var r=l.props.form.getFieldDecorator,n=l.props.houseContractDetail,o=(void 0===n?{}:n).agentPayeeInfo,i={payeeInfo:void 0===o?{}:o};if(l.state.radioValue===P.Rpr.credit){var c={label:"统一信用代码",form:r("mediumUnifiedCode",{initialValue:l.state.updateRadioValue&&g().get(i,"payeeInfo.credit_no")?g().get(i,"payeeInfo.credit_no"):""})(v.createElement(a.Z,{disabled:t}))};e.push(c)}if(l.state.radioValue===P.Rpr.idCard){var s={label:"身份证号",form:r("mediumIdNumber",{initialValue:l.state.updateRadioValue&&g().get(i,"payeeInfo.id_card_no")?g().get(i,"payeeInfo.id_card_no"):"",rules:[{required:!0,validator:l.validatorIdentityCardId}]})(v.createElement(a.Z,{disabled:t}))};e.push(s)}})),(0,p.Z)((0,c.Z)(l),"renderReceiptInfo",(function(){var e=l.props,t=e.form,r=e.houseContractDetail,n=void 0===r?{}:r,a=e.disabled,o=n.agentPayeeInfo,i={payeeInfo:void 0===o?{}:o};return v.createElement(D.Z,{form:t,disabled:a,detail:i,label:{cardNameLabel:"中介费收款人"},placeholder:{cardNamePlace:"请输入姓名",cardNumPlace:"请输入卡号",bankNamePlace:"请输入全称"},formName:{cardNameForm:"agentPayee",cardNumForm:"agentPayeeAccount",bankNameForm:"agentBankName"},isHouse:!0,layout:{labelCol:{span:8},wrapperCol:{span:16}},namespace:"agent"})})),(0,p.Z)((0,c.Z)(l),"renderPaymentMethodInfo",(function(){var e=l.props.form.getFieldDecorator,t=l.props.isUpdateContract,r=[{label:"收款类型",form:e("mediumPayMethod",{initialValue:l.state.radioValue,rules:[{required:!0,message:"请选择收款类型"}]})(v.createElement(n.ZP.Group,{onChange:l.onChangeRadioGroupValue,disabled:t},v.createElement(n.ZP,{value:P.Rpr.idCard},P.Rpr.description(P.Rpr.idCard)),v.createElement(n.ZP,{value:P.Rpr.credit},P.Rpr.description(P.Rpr.credit))))}];return l.renderCorresponding(r,t),v.createElement(C.KP,{items:r,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,p.Z)((0,c.Z)(l),"render",(function(){return v.createElement(C.IT,{title:"合同中介费信息"},l.renderExpenseInfo(),l.renderReceiptInfo(),l.renderPaymentMethodInfo())})),l.state={radioValue:P.Rpr.idCard,updateRadioValue:!0},l}return(0,l.Z)(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.houseContractDetail,n=void 0===r?{}:r;if(m().existy(n)&&m().not.empty(n)&&t.updateRadioValue){var a=n.agentPayeeInfo,o=(void 0===a?{}:a).payment;return{radioValue:void 0===o?P.Rpr.idCard:o}}return null}}]),r}(v.Component);(0,p.Z)(R,"propTypes",{houseContractDetail:y().object,subjectId:y().string,disabled:y().bool,isUpdateContract:y().bool}),(0,p.Z)(R,"defaultProps",{houseContractDetail:{},disabled:!1,isUpdateContract:!1}),t.Z=R},90963:function(e,t,r){r.d(t,{Z:function(){return A}});var n=r(15671),a=r(97326),o=r(60136),i=r(82963),l=r(61120),c=r(4942),s=r(67294),u=r(45697),d=r.n(u),p=r(93517),f=r.n(p),m=r(96036),v=r(88144),h=(r(51838),r(48086)),y=r(43144),b=(r(36037),r(47933)),g=r(80385),C=(r(52560),r(71577)),Z=(r(36616),r(51368)),D=r(49101),P=r(1058),F=r(22681);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}var R={platformDisable:"platformDisable",platform:"platform",vendor:"vendor",city:"city",district:"district",costCount:"costCount",operatCreate:"operatCreate",operatDelete:"operatDelete"},N=function(e){(0,o.Z)(r,e);var t=E(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),(0,c.Z)((0,a.Z)(e),"onChange",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.props,n=r.value,a=void 0===n?{}:n,o=r.onChange,i=a.key,l=a.config,c=void 0===l?[]:l,s=a.cityDisable,u=t.platform,d=t.vendorName,p=t.vendor,f=t.city,m=t.citySpelling,v=t.district,h=t.costCount,y=t.vendorDisable,b=t.districtDisable,g={vendorDisable:y,cityDisable:s,districtDisable:b};-1===c.indexOf(R.platform)&&-1===c.indexOf(R.platformDisable)||(g.platform=u),-1!==c.indexOf(R.vendor)&&(g.vendor=p,g.vendorName=d),-1!==c.indexOf(R.city)&&(g.city=f,g.citySpelling=m),-1!==c.indexOf(R.district)&&(g.district=v),-1!==c.indexOf(R.costCount)&&(g.costCount=h),o&&o(i,g)})),(0,c.Z)((0,a.Z)(e),"onCreate",(function(){var t=e.props.onCreate;t&&t()})),(0,c.Z)((0,a.Z)(e),"onDelete",(function(){var t=e.props,r=t.onDelete,n=t.value,a=(void 0===n?{}:n).key;r&&r(a)})),(0,c.Z)((0,a.Z)(e),"onChangePlatform",(function(t){var r=e.props.value,n=(void 0===r?{}:r).costCount;e.onChange({platform:t,vendor:void 0,city:void 0,district:void 0,costCount:n,citySpelling:void 0})})),(0,c.Z)((0,a.Z)(e),"onChangeVendor",(function(t,r){var n=e.props.value,a=void 0===n?{}:n,o=a.platform,i=a.costCount,l=r&&r.props?r.props.children:void 0;e.onChange({platform:o,vendor:t,city:void 0,district:void 0,costCount:i,vendorName:l,citySpelling:void 0})})),(0,c.Z)((0,a.Z)(e),"onChangeCity",(function(t,r){var n=e.props.value,a=void 0===n?{}:n,o=a.platform,i=a.vendor,l=a.costCount,c=a.vendorName,s=a.vendorDisable,u=f().get(r,"props.spell",[]);e.onChange({platform:o,vendor:i,city:t,district:void 0,costCount:l,vendorName:c,citySpelling:u,vendorDisable:s})})),(0,c.Z)((0,a.Z)(e),"onChangeDistrict",(function(t){var r=e.props.value,n=void 0===r?{}:r,a=n.platform,o=n.vendor,i=n.city,l=n.costCount,c=n.vendorName,s=n.citySpelling,u=n.vendorDisable;e.onChange({platform:a,vendor:o,vendorName:c,city:i,district:t,costCount:l,citySpelling:s,vendorDisable:u})})),e}return(0,y.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.value,r=void 0===t?{}:t,n=e.disabled,a=r.key,o=r.platform,i=r.vendor,l=r.city,c=r.district,u=r.costCount,d=r.config,p=r.citySpelling,f=r.vendorDisable,h=r.cityDisable,y=r.districtDisable,b=!0===n||y,E=!0===n||f,N=!0===n||h,I=[];if(-1!==d.indexOf(R.platform)){var x="platform-".concat(a);I.push({label:"平台",form:s.createElement(v.Yg,{namespace:x,value:o,allowClear:!0,showSearch:!0,optionFilterProp:"children",placeholder:"请选择平台",onChange:this.onChangePlatform})})}if(-1!==d.indexOf(R.platformDisable)){var V="platform-".concat(a);I.push({label:"平台",form:s.createElement(v.Yg,{namespace:V,value:o,allowClear:!0,showSearch:!0,optionFilterProp:"children",placeholder:"请选择平台",onChange:this.onChangePlatform,disabled:!0})})}if(-1!==d.indexOf(R.vendor)){var O="supplier-".concat(a);I.push({label:"供应商",span:4,layout:{labelCol:{span:6},wrapperCol:{span:18}},form:s.createElement(v.o2,{namespace:O,value:i,platforms:o,allowClear:!0,showSearch:!0,optionFilterProp:"children",placeholder:"请选择供应商",onChange:this.onChangeVendor,disabled:E})})}if(-1!==d.indexOf(R.city)){var j="city-".concat(a);I.push({label:"城市",span:4,form:s.createElement(v.Wn,{namespace:j,value:l,allowClear:!0,showSearch:!0,optionFilterProp:"children",placeholder:"请选择城市",platforms:o,suppliers:i,onChange:this.onChangeCity,isExpenseModel:!0,disabled:N})})}if(-1!==d.indexOf(R.district)){var w="district-".concat(a);I.push({label:"商圈",layout:{labelCol:{span:6},wrapperCol:{span:18}},span:5,form:s.createElement(v.Wc,{className:F.Z["app-comp-expense-house-contract-common-districts"],namespace:w,value:c,state:[g.hQm.enable,g.hQm.preparation,g.hQm.waitClose],allowClear:!0,showSearch:!0,optionFilterProp:"children",placeholder:"请选择商圈",platforms:o,suppliers:i,cities:p,onChange:this.onChangeDistrict,disabled:b})})}if(-1!==d.indexOf(R.costCount)){var S=0;u&&(S=u),I.push({label:"分摊金额(元)",span:3,layout:{labelCol:{span:12},wrapperCol:{span:12}},form:s.createElement(Z.Z,{min:0,value:S,step:.01,disabled:n,formatter:g.fbc.limitDecimals,parser:g.fbc.limitDecimals,onChange:this.onChangeCostCount})})}return-1===d.indexOf(R.operatCreate)||-1===d.indexOf(R.operatDelete)||n?-1===d.indexOf(R.operatCreate)||n?-1===d.indexOf(R.operatDelete)||n||I.push({span:3,form:s.createElement("div",null,s.createElement(C.Z,{onClick:this.onDelete,shape:"circle",icon:s.createElement(P.Z,null)}))}):I.push({span:3,form:s.createElement("div",null,s.createElement(C.Z,{onClick:this.onCreate,shape:"circle",icon:s.createElement(D.Z,null)}))}):I.push({span:3,form:s.createElement("div",null,s.createElement(C.Z,{onClick:this.onCreate,shape:"circle",icon:s.createElement(D.Z,null)}),s.createElement(C.Z,{className:"app-global-mgl8",onClick:this.onDelete,shape:"circle",icon:s.createElement(P.Z,null)}))}),s.createElement("div",null,s.createElement(m.KP,{items:I,cols:6,layout:{labelCol:{span:8},wrapperCol:{span:16}},className:F.Z["app-comp-expense-house-contract-common"]}))}}]),r}(s.Component);(0,c.Z)(N,"propTypes",{value:d().object.isRequired,onChange:d().func.isRequired,onCreate:d().func.isRequired,onDelete:d().func.isRequired,disabled:d().bool}),(0,c.Z)(N,"defaultProps",{value:{},onChange:function(){},onCreate:function(){},onDelete:function(){},disabled:!1}),N.CommonItemsType=R;var I=N;function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}var O=I.CommonItemsType,j=b.ZP.Group,w=function(e){(0,o.Z)(r,e);var t=V(r);function r(e){var o;(0,n.Z)(this,r),o=t.call(this,e),(0,c.Z)((0,a.Z)(o),"onChangeItem",(function(e,t){var r=o.state,n=r.costBelong,a=r.costItems,i=o.props.getPlatFormVendor;f().set(a,"".concat(e),t);var l={costBelong:n,costItems:a};o.props.onChange(l),t&&i&&i(t)})),(0,c.Z)((0,a.Z)(o),"onCreateItem",(function(){var e=o.state,t=e.costBelong,r=e.costItems;r[r.length-1].vendorDisable=!0,r[r.length-1].cityDisable=!0,r[r.length-1].districtDisable=!0;var n=r[r.length-1];if(o.isValidObj(n)){Number(o.props.selectedCostCenterType)===g.F$Y.project&&r.push({platform:r[0].platform}),Number(o.props.selectedCostCenterType)===g.F$Y.headquarter&&r.push({platform:r[0].platform,vendor:r[0].vendor,vendorName:r[0].vendorName,vendorDisable:!0}),Number(o.props.selectedCostCenterType)===g.F$Y.city&&r.push({platform:r[0].platform,vendor:r[0].vendor,vendorName:r[0].vendorName,vendorDisable:!0,city:void 0,cityDisable:!1}),Number(o.props.selectedCostCenterType)===g.F$Y.district&&(r[r.length-1].districtDisable=!0,r.push({platform:r[0].platform,vendor:r[0].vendor,vendorName:r[0].vendorName,vendorDisable:!0,city:void 0,cityDisable:!1,district:void 0,districtDisable:!1}));var a={costBelong:t,costItems:r};o.props.onChange(a)}else h.ZP.error("请将内容填写完整再进行添加操作！")})),(0,c.Z)((0,a.Z)(o),"onDeleteItem",(function(e){var t=o.state,r=t.costBelong,n=t.costItems;n.splice(e,1);var a=n[n.length-1];a.vendor&&1===n.length&&(a.vendorDisable=!1),a.city&&(a.cityDisable=!1),a.district&&(a.districtDisable=!1),n[n.length-1]=a;var i={costBelong:r,costItems:n};o.props.onChange(i)})),(0,c.Z)((0,a.Z)(o),"getConfig",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=o.props.selectedCostCenterType,n=[];switch(Number(r)){case g.F$Y.project:n=[O.platformDisable];break;case g.F$Y.headquarter:n=[O.platformDisable,O.vendor];break;case g.F$Y.city:n=[O.platformDisable,O.vendor,O.city];break;case g.F$Y.district:case g.F$Y.knight:n=[O.platformDisable,O.vendor,O.city,O.district];break;default:n=[O.platformDisable]}return e&&n.push(O.operatCreate),t&&n.push(O.operatDelete),n})),(0,c.Z)((0,a.Z)(o),"isValidObj",(function(e){var t=!0;for(var r in e)if(!e[r])return void(t=!1);return t})),(0,c.Z)((0,a.Z)(o),"renderItems",(function(){var e=o.state.costItems,t=o.props,r=t.selectedCostCenterType,n=t.disabled;return s.createElement("div",{className:F.Z["app-comp-expense-house-contract-common-expense-info"]},e.map((function(e,t,a){var i=a.length,l=[];l=1!==i||5!==Number(r)&&4!==Number(r)&&0!==Number(r)?t>0&&t===i-1?o.getConfig():1!==i||3!==Number(r)&&2!==Number(r)?o.getConfig(!1,!0):o.getConfig(!0,!1):o.getConfig(!1,!1);var c=Object.assign({key:t},e,{config:l,costCenter:o.state.selectedCostCenterType});return s.createElement(I,{key:t,value:c,disabled:n,onCreate:o.onCreateItem,onDelete:o.onDeleteItem,onChange:o.onChangeItem})})))})),(0,c.Z)((0,a.Z)(o),"renderSelect",(function(){var e=o.state.costBelong,t=[{label:"成本分摊",form:(0,o.props.form.getFieldDecorator)("costBelong",{initialValue:"".concat(e),rules:[{required:!0}]})(s.createElement(j,{onChange:o.onChangeCostBelong},s.createElement(b.ZP,{value:"".concat(g.eL2.average)},g.eL2.description(g.eL2.average))))}];return s.createElement(m.KP,{items:t,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,c.Z)((0,a.Z)(o),"render",(function(){return s.createElement("div",null,o.renderSelect(),o.renderItems())}));var i=e.value||{};return o.state={costBelong:g.eL2.average,costItems:i.costItems||[{}]},o}return(0,y.Z)(r,null,[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.value||{}):null}}]),r}(s.Component);(0,c.Z)(w,"propTypes",{onChange:d().func,disabled:d().bool,getPlatFormVendor:d().func}),(0,c.Z)(w,"defaultProps",{selectedCostCenterType:g.F$Y.project,onChange:function(){},disabled:!1,getPlatFormVendor:function(){}});var S=w;function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}var Y=m.Hr.Option,B=function(){},q=function(e){(0,o.Z)(r,e);var t=k(r);function r(e){var o;return(0,n.Z)(this,r),o=t.call(this,e),(0,c.Z)((0,a.Z)(o),"onChangeCostCenterType",(function(e){var t=o.props.form,r=t.getFieldValue("expense"),n=[{vendorDisable:!1,cityDisable:!1,districtDisable:!1}],a=r.costItems[0].platform;n[0].platform=a,Number(e)===g.F$Y.headquarter&&(n[0].vendor=void 0),Number(e)===g.F$Y.city&&(n[0].vendor=void 0,n[0].city=void 0),Number(e)===g.F$Y.district&&(n[0].vendor=void 0,n[0].city=void 0,n[0].district=void 0);var i=M(M({},r),{},{costItems:n});o.props.onChangeCostCenterType(e),t.setFieldsValue({expense:i})})),(0,c.Z)((0,a.Z)(o),"onChangePlatform",(function(e){var t=o.props,r=t.form,n=t.onChangePlatform,a=r.getFieldValue("expense"),i=r.getFieldValue("costCenterType"),l=M(M({},a),{},{costItems:a.costItems.map((function(){var t={platform:e};return Number(i)===g.F$Y.headquarter&&(t.vendor=void 0),Number(i)===g.F$Y.city&&(t.vendor=void 0,t.city=void 0),Number(i)===g.F$Y.district&&(t.vendor=void 0,t.city=void 0,t.district=void 0),t}))});l.costItems=l.costItems.slice(0,1),r.setFieldsValue({expense:l}),n(e),o.setState({apportionData:{platform:e},currentInvoiceFlag:!1},(function(){o.props.form.resetFields("invoiceTitle")}))})),(0,c.Z)((0,a.Z)(o),"getPlatFormVendor",(function(e){o.setState({apportionData:e,currentInvoiceFlag:!1},(function(){o.props.form.resetFields("invoiceTitle")}))})),(0,c.Z)((0,a.Z)(o),"renderFirstLine",(function(){var e=o.props,t=e.houseContractDetail,r=void 0===t?{}:t,n=e.disabled,a=e.form,i=(void 0===a?{}:a).getFieldDecorator,l=f().get(r,"platformCodes.0",""),c=f().get(r,"costCenterType","");return s.createElement(m.KP,{items:[{label:"成本中心",form:i("costCenterType",{initialValue:"".concat(c),rules:[{required:!0,message:"请选择"}]})(s.createElement(m.Hr,{allowClear:!0,disabled:n,showSearch:!0,optionFilterProp:"children",placeholder:"请选择成本中心",onChange:o.onChangeCostCenterType},s.createElement(Y,{key:g.F$Y.project,value:"".concat(g.F$Y.project)},g.F$Y.description(g.F$Y.project)),s.createElement(Y,{key:g.F$Y.headquarter,value:"".concat(g.F$Y.headquarter)},g.F$Y.description(g.F$Y.headquarter)),s.createElement(Y,{key:g.F$Y.city,value:"".concat(g.F$Y.city)},g.F$Y.description(g.F$Y.city)),s.createElement(Y,{key:g.F$Y.district,value:"".concat(g.F$Y.district)},g.F$Y.description(g.F$Y.district))))},{label:"平台",form:i("platformCode",{initialValue:l,rules:[{required:!0,message:"请选择"}]})(s.createElement(v.Yg,{allowClear:!0,showSearch:!0,disabled:n,optionFilterProp:"children",placeholder:"请选择平台",onChange:o.onChangePlatform}))}],layout:{labelCol:{span:8},wrapperCol:{span:16}},cols:3})})),(0,c.Z)((0,a.Z)(o),"renderAscriptionInfo",(function(){var e=o.props,t=e.houseContractDetail,r=void 0===t?{}:t,n=e.editMode,a=e.disabled,i=e.form,l=void 0===i?{}:i,c=l.getFieldDecorator,u=(0,l.getFieldValue)("costCenterType"),d={costCenter:u,costItems:f().get(r,"costAllocations",[]).map((function(e,t){var n={platform:f().get(e,"platform_code","")};return(e.supplier_id||Number(u)===g.F$Y.headquarter)&&(n.vendor=e.supplier_id,n.vendorName=f().get(r,"supplierNames.0",""),n.vendorDisable=!0),(e.city_code||Number(u)===g.F$Y.city)&&(n.city="".concat(e.city_code),n.citySpelling=e.city_spelling,f().get(r,"costAllocations",[]).length-1!==t&&(n.cityDisable=!0)),(e.biz_district_id||Number(u)===g.F$Y.district)&&(n.district=e.biz_district_id,f().get(r,"costAllocations",[]).length-1!==t&&(n.districtDisable=!0)),n}))};if(d.costItems.length>0)return c("expense",{initialValue:d})(s.createElement(S,{disabled:a,form:l,selectedCostCenterType:u,getPlatFormVendor:o.getPlatFormVendor}));return n?s.createElement("div",null):c("expense",{initialValue:{costItems:[{platform:""}]}})(s.createElement(S,{disabled:a,form:l,selectedCostCenterType:u,getPlatFormVendor:o.getPlatFormVendor}))})),(0,c.Z)((0,a.Z)(o),"renderInvoice",(function(){var e=o.props.form.getFieldDecorator,t=o.state,r=t.apportionData,n=t.currentInvoiceFlag,a=o.props,i=a.houseContractDetail,l=void 0===i?{}:i,c=a.disabled,u=[{label:"发票抬头",form:e("invoiceTitle",{initialValue:n?f().get(l,"agentInvoiceTitle",""):r.vendorName})(s.createElement(v.o2,{platforms:r.platform,allowClear:!0,showSearch:!0,optionFilterProp:"children",placeholder:"请选择供应商",isSubmitNameAsValue:!0,disabled:c}))}];return s.createElement(m.KP,{items:u,layout:{labelCol:{span:2},wrapperCol:{span:5}},cols:1})})),(0,c.Z)((0,a.Z)(o),"render",(function(){return s.createElement(m.IT,{title:"成本归属/分摊"},o.renderFirstLine(),o.renderAscriptionInfo(),o.renderInvoice())})),o.state={apportionData:{},currentInvoiceFlag:!0},o}return r}(s.Component);(0,c.Z)(q,"propTypes",{editMode:d().bool,houseContractDetail:d().object,form:d().object.isRequired,onChangeCostCenterType:d().func,onChangePlatform:d().func,disabled:d().bool}),(0,c.Z)(q,"defaultProps",{editMode:!1,houseContractDetail:{},onChangePlatform:B,onChangeCostCenterType:B,disabled:!1});var A=q},612:function(e,t,r){var n=r(93433),a=r(15671),o=r(43144),i=r(97326),l=r(60136),c=r(82963),s=r(61120),u=r(4942),d=(r(29093),r(16317)),p=r(93517),f=r.n(p),m=r(45697),v=r.n(m),h=r(67294),y=r(55609),b=r(96036);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var a=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var C=d.Z.Option,Z=function(e){(0,l.Z)(r,e);var t=g(r);function r(){var e;return(0,a.Z)(this,r),e=t.call(this),(0,u.Z)((0,i.Z)(e),"onSearchCardName",(function(t){var r=e.props.collection,a=(void 0===r?{}:r).cardName,o=void 0===a?[]:a;o.find((function(e){return e===t}))||e.setState({cardNameData:[].concat((0,n.Z)(o),[t])})})),(0,u.Z)((0,i.Z)(e),"onSearchCardNum",(function(t){var r=e.props.collection,a=(void 0===r?{}:r).cardNum,o=void 0===a?[]:a;o.find((function(e){return e===t}))||e.setState({cardNumData:[].concat((0,n.Z)(o),[t])})})),(0,u.Z)((0,i.Z)(e),"onSearchBankName",(function(t){var r=e.props.collection,a=(void 0===r?{}:r).bankName,o=void 0===a?[]:a;o.find((function(e){return e===t}))||e.setState({bankNameData:[].concat((0,n.Z)(o),[t])})})),(0,u.Z)((0,i.Z)(e),"onChangeCardNum",(function(t){var r=e.props,n=r.form,a=void 0===n?{}:n,o=r.collection,i=void 0===o?{}:o,l=r.namespace,c=a.setFieldsValue,s=i.originalBankName,u=void 0===s?[]:s,d=i.originalCardNum,p=(void 0===d?[]:d).findIndex((function(e){return e===t}));"rent"===l&&u[p]&&c({rentBankName:u[p]}),"agent"===l&&u[p]&&c({agentBankName:u[p]}),"pledge"===l&&u[p]&&c({pledgeBankName:u[p]})})),e.state={collection:void 0,cardNameData:[],cardNumData:[],bankNameData:[]},e}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"expenseCostOrder/fetchCollection",payload:{}})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"expenseCostOrder/resetCollection",payload:{}})}},{key:"render",value:function(){var e=this.props,t=e.form,r=void 0===t?{}:t,n=e.detail,a=void 0===n?{}:n,o=e.label,i=void 0===o?{}:o,l=e.placeholder,c=void 0===l?{}:l,s=e.disabled,u=e.formName,p=void 0===u?{}:u,m=e.layout,v=void 0===m?{labelCol:{span:9},wrapperCol:{span:15}}:m,y=r.getFieldDecorator,g=this.state,Z=g.cardNameData,D=void 0===Z?[]:Z,P=g.cardNumData,F=void 0===P?[]:P,E=g.bankNameData,R=void 0===E?[]:E,N=i.cardNameLabel,I=void 0===N?"收款人":N,x=i.cardNumLabel,V=void 0===x?"收款账户":x,O=i.bankNameLabel,j=void 0===O?"开户支行":O,w=c.cardNamePlace,S=void 0===w?"请填写收款人":w,T=c.cardNumPlace,M=void 0===T?"请填写收款账号":T,k=c.bankNamePlace,Y=void 0===k?"请填写开户支行":k,B=p.cardNameForm,q=void 0===B?"payee":B,A=p.cardNumForm,U=void 0===A?"payeeAccount":A,z=p.bankNameForm,_=void 0===z?"bankName":z,$=[{label:I,form:y(q,{initialValue:f().get(a,"payeeInfo.card_name",void 0),rules:[{required:!0,message:"请填写内容"}]})(h.createElement(d.Z,{showSearch:!0,placeholder:S,onSearch:this.onSearchCardName,style:{width:"100%"},disabled:s},D.map((function(e,t){return h.createElement(C,{key:t,value:e},e)}))))},{label:V,form:y(U,{initialValue:f().get(a,"payeeInfo.card_num",void 0),rules:[{required:!0,message:"请填写内容"}]})(h.createElement(d.Z,{showSearch:!0,placeholder:M,onSearch:this.onSearchCardNum,onChange:this.onChangeCardNum,style:{width:"100%"},disabled:s},F.map((function(e,t){return h.createElement(C,{key:t,value:e},e)}))))},{label:j,form:y(_,{initialValue:f().get(a,"payeeInfo.bank_details",void 0),rules:[{required:!0,message:"请填写内容"}]})(h.createElement(d.Z,{placeholder:Y,showSearch:!0,onSearch:this.onSearchBankName,style:{width:"100%"},disabled:s},R.map((function(e,t){return h.createElement(C,{key:t,value:e},e)}))))}];return h.createElement(b.KP,{items:$,cols:3,layout:v})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.collection,n=void 0===r?{}:r,a=t.collection;if(void 0===(void 0===a?void 0:a)&&Object.keys(n).length>0){var o=n.cardName,i=void 0===o?[]:o,l=n.cardNum,c=void 0===l?[]:l,s=n.bankName;return{cardNameData:i,cardNumData:c,bankNameData:void 0===s?[]:s,collection:n}}return null}}]),r}(h.Component);(0,u.Z)(Z,"propTypes",{collection:v().object,form:v().object.isRequired,detail:v().object,label:v().object,placeholder:v().object,disabled:v().bool,formName:v().object,layout:v().object,namespace:v().string}),(0,u.Z)(Z,"defaultProps",{collection:{},form:{},detail:{},label:{},placeholder:{},disabled:!1,formName:{},layout:{},namespace:""}),t.Z=(0,y.connect)((function(e){return{collection:e.expenseCostOrder.collection}}))(Z)},8583:function(e,t,r){r(9070);var n=r(20924),a=r(15671),o=r(97326),i=r(60136),l=r(82963),c=r(61120),s=r(4942),u=(r(54071),r(14072)),d=(r(36037),r(47933)),p=r(94315),f=r.n(p),m=r(30381),v=r.n(m),h=r(67294),y=r(45697),b=r.n(y),g=r(96036),C=r(53384),Z=r(80385);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.Z)(this,r)}}var P=d.ZP.Group,F=u.Z.RangePicker,E=function(e){(0,i.Z)(r,e);var t=D(r);function r(){var e;(0,a.Z)(this,r);for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return e=t.call.apply(t,[this].concat(l)),(0,s.Z)((0,o.Z)(e),"onChangeMigrateFlag",(function(t){var r=e.props.onChangeMigrateFlag;r&&r(t.target.value)})),(0,s.Z)((0,o.Z)(e),"onCheckContractDate",(function(e,t,r){if(f().not.existy(t)||f().empty(t))r("请选择日期");else{var n=v()(t[0]).format("YYYYMMDD"),a=v()(t[1]).format("YYYYMMDD");n&&a&&n===a?r("合同开始时间和结束时间不能是同一天！！！"):r()}})),(0,s.Z)((0,o.Z)(e),"onVerify",(function(e,t,r){!t.pay||0!==t.betting&&!t.betting?r("请选择"):r()})),(0,s.Z)((0,o.Z)(e),"disabledDate",(function(t){var r=e.props.houseContractDetail,n=(void 0===r?{}:r).fromContractInfo,a=(void 0===n?{}:n).contract_end_date;return!!t&&(t&&t<v()("".concat(a)).add(1,"days"))})),(0,s.Z)((0,o.Z)(e),"renderFirstLineInfo",(function(){var t=e.props,r=t.houseContractDetail,a=void 0===r?{}:r,o=t.disabled,i=t.form,l=(void 0===i?{}:i).getFieldDecorator,c=a.fromContractId,s=a.migrateFlag,u=a.migrateOaNote;if(c)return null;var p=[{label:"合同录入类型",form:l("migrateFlag",{initialValue:s?1:0,rules:[{required:!0,message:"请选择"}]})(h.createElement(P,{onChange:e.onChangeMigrateFlag,disabled:o},h.createElement(d.ZP,{value:1},"现存执行合同补入"),h.createElement(d.ZP,{value:0},"新合同")))},{label:"原OA审批单号",form:l("migrateOaNote",{initialValue:u,rules:[{required:!1}]})(h.createElement(n.Z,{disabled:o}))}];return h.createElement(g.KP,{items:p,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,s.Z)((0,o.Z)(e),"renderReceiptInfo",(function(){var t=e.props,r=t.form,n=void 0===r?{}:r,a=t.isCreate,o=t.houseContractDetail,i=void 0===o?{}:o,l=t.disabled,c=t.isCreateRenew,s=n.getFieldDecorator,u=i.contractStartDate,d=i.contractEndDate,p=i.fromContractId,f=i.state,m=i.paymentMethodPledge,y=void 0===m?void 0:m,b=i.paymentMethodRent,D=void 0===b?void 0:b,P=i.firstRentCycle,E=void 0===P?[]:P,R=[];u&&!c&&R.push(v()(String(u),"YYYY-MM-DD")),d&&!c&&R.push(v()(String(d),"YYYY-MM-DD")),p&&f===Z.hRz.pendding&&(R=[]);var N=[{label:"合同租期",form:s("contractDate",{initialValue:R,rules:[{required:!0,validator:e.onCheckContractDate}]})(h.createElement(F,{disabled:l,disabledDate:p?e.disabledDate:null}))},{label:"付款方式",form:s("paymentMethod",{initialValue:{betting:y,pay:D},rules:[{required:!0,validator:e.onVerify}]})(h.createElement(C.Z,{form:n,isCreate:a,disabled:l,firstRentCycle:E}))}];return h.createElement(g.KP,{items:N,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,s.Z)((0,o.Z)(e),"render",(function(){var t=e.props.isCreateRenew,r=t?"续签合同信息":"合同信息";return h.createElement(g.IT,{title:r},t?null:e.renderFirstLineInfo(),e.renderReceiptInfo())})),e}return r}(h.Component);(0,s.Z)(E,"propTypes",{onChangeMigrateFlag:b().func,houseContractDetail:b().object,disabled:b().bool,isCreate:b().bool,form:b().object}),(0,s.Z)(E,"defaultProps",{form:{},houseContractDetail:{},isCreate:!1,disabled:!1,onChangeMigrateFlag:function(){}}),t.Z=E},53384:function(e,t,r){r(36616);var n=r(51368),a=r(15671),o=r(43144),i=r(97326),l=r(60136),c=r(82963),s=r(61120),u=r(4942),d=r(67294),p=r(45697),f=r.n(p),m=r(30637);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var a=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var y=function(e){(0,l.Z)(r,e);var t=h(r);function r(e){var o;(0,a.Z)(this,r),o=t.call(this,e),(0,u.Z)((0,i.Z)(o),"onChangeBetting",(function(e){var t=o.props,r=t.onChange,n=t.form,a=t.isCreate,i=o.state.pay;if(a){var l=n.getFieldsValue,c=n.setFieldsValue,s=l(["monthMoney"]).monthMoney;c(s&&e?{pledgeMoney:s*e}:{pledgeMoney:void 0}),(0===s&&e||0===e&&s)&&c({pledgeMoney:0})}"value"in o.props||o.setState({betting:e,pay:i}),r&&r({betting:e,pay:i})})),(0,u.Z)((0,i.Z)(o),"onChangePay",(function(e){var t=o.props,r=t.onChange,n=t.form,a=o.state.betting;(0,n.setFieldsValue)({periodMonthNum:e}),"value"in o.props||o.setState({betting:a,pay:e}),r&&r({pay:e,betting:a})})),(0,u.Z)((0,i.Z)(o),"renderContent",(function(){var e=o.props,t=e.disabled,r=e.firstRentCycle,a=o.state,i=a.betting,l=a.pay,c=t&&0===r.length;return d.createElement("div",null,d.createElement("span",{className:m.Z["app-comp-expense-house-contract-from-customize"]},d.createElement("span",{className:m.Z["app-comp-expense-house-contract-from-customize"]},"押"),d.createElement(n.Z,{min:1,max:120,precision:0,value:i,className:m.Z["app-comp-expense-house-contract-from-payment"],disabled:t,onChange:o.onChangeBetting})),d.createElement("span",null,d.createElement("span",{className:m.Z["app-comp-expense-house-contract-from-customize"]},"付"),d.createElement(n.Z,{min:1,max:120,precision:0,value:l,className:m.Z["boss-expense-house-contract-from-pay"],disabled:c,onChange:o.onChangePay})))})),(0,u.Z)((0,i.Z)(o),"render",(function(){return o.renderContent()}));var l=e.value||{};return o.state={betting:l.betting||0,pay:l.pay||0},o}return(0,o.Z)(r,null,[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.value||{}):null}}]),r}(d.Component);(0,u.Z)(y,"propTypes",{value:f().object,onChange:f().func,form:f().object,isCreate:f().bool,disabled:f().bool,firstRentCycle:f().array}),(0,u.Z)(y,"defaultProps",{onChange:function(){},form:{},isCreate:!1,disabled:!1,firstRentCycle:[]}),t.Z=y},55965:function(e,t,r){r(36616);var n=r(51368),a=r(15671),o=r(97326),i=r(60136),l=r(82963),c=r(61120),s=r(4942),u=r(94315),d=r.n(u),p=r(67294),f=r(45697),m=r.n(f),v=r(96036),h=r(81243),y=r(612),b=r(80385);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.Z)(this,r)}}var C=function(e){(0,i.Z)(r,e);var t=g(r);function r(){var e;(0,a.Z)(this,r);for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return e=t.call.apply(t,[this].concat(l)),(0,s.Z)((0,o.Z)(e),"renderExpenseInfo",(function(){var t=e.props,r=t.houseContractDetail,a=void 0===r?{}:r,o=t.subjectId,i=t.disabled,l=t.isCreateRenew,c=t.migrateFlag,s=t.form,u=(void 0===s?{}:s).getFieldDecorator,f=a.pledgeMoney,m=[],y=0===c?"押金金额(元)":"期初押金(元)";return void 0!==l?m.push({label:y,span:5,layout:{labelCol:{span:13},wrapperCol:{span:10}},form:u("pledgeMoney",{initialValue:d().existy(f)&&d().not.empty(f)?b.fbc.exchangePriceToYuan(f):"",rules:[{required:!0,message:"请填写内容"}]})(p.createElement(n.Z,{max:9999999999,min:0,disabled:i,formatter:b.fbc.limitDecimals,parser:b.fbc.limitDecimals}))},{span:7,layout:{labelCol:{span:0},wrapperCol:{span:16}},form:u("message",{})(p.createElement("span",{style:{color:"red",textAlign:"left"}},"此为合同押金,请与付款押金区分"))},{label:"科目",span:7,layout:{labelCol:{span:10},wrapperCol:{span:14}},form:u("pledgeAccountingId",{initialValue:o,rules:[{required:!0,message:"没有科目"}]})(p.createElement(h.Z,{subjectId:o}))}):m.push({label:y,span:8,layout:{labelCol:{span:8},wrapperCol:{span:16}},form:u("pledgeMoney",{initialValue:d().existy(f)&&d().not.empty(f)?b.fbc.exchangePriceToYuan(f):"",rules:[{required:!0,message:"请填写内容"}]})(p.createElement(n.Z,{min:0,max:9999999999,disabled:i,formatter:b.fbc.limitDecimals,parser:b.fbc.limitDecimals}))},{label:"科目",span:8,layout:{labelCol:{span:8},wrapperCol:{span:16}},form:u("pledgeAccountingId",{initialValue:o,rules:[{required:!0,message:"没有科目"}]})(p.createElement(h.Z,{subjectId:o}))}),p.createElement(v.KP,{items:m,cols:3})})),(0,s.Z)((0,o.Z)(e),"renderReceiptInfo",(function(){var t=e.props,r=t.form,n=t.houseContractDetail,a=void 0===n?{}:n,o=t.disabled,i=a.pledgePayeeInfo,l={payeeInfo:void 0===i?{}:i};return p.createElement(y.Z,{form:r,disabled:o,detail:l,label:{cardNameLabel:"押金收款人"},placeholder:{cardNamePlace:"请输入姓名",cardNumPlace:"请输入卡号",bankNamePlace:"请输入全称"},formName:{cardNameForm:"pledgePayee",cardNumForm:"pledgePayeeAccount",bankNameForm:"pledgeBankName"},isHouse:!0,layout:{labelCol:{span:8},wrapperCol:{span:16}},namespace:"pledge"})})),(0,s.Z)((0,o.Z)(e),"render",(function(){return p.createElement(v.IT,{title:"合同押金信息"},e.renderExpenseInfo(),e.renderReceiptInfo())})),e}return r}(p.Component);(0,s.Z)(C,"propTypes",{houseContractDetail:m().object,subjectId:m().string,disabled:m().bool,migrateFlag:m().number}),(0,s.Z)(C,"defaultProps",{houseContractDetail:{},disabled:!1,migrateFlag:0}),t.Z=C},62504:function(e,t,r){r(36616);var n=r(51368),a=r(15671),o=r(43144),i=r(97326),l=r(60136),c=r(82963),s=r(61120),u=r(4942),d=(r(9070),r(20924)),p=r(93517),f=r.n(p),m=r(30381),v=r.n(m),h=r(67294),y=r(45697),b=r.n(y),g=r(55609),C=r(96036),Z=r(24986),D=r(80385),P=r(30637);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var a=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var E=d.Z.TextArea,R=C.Hr.Option,N="attachments",I=C.KT.CoreFinderList,x=function(e){(0,l.Z)(r,e);var t=F(r);function r(e){var o;return(0,a.Z)(this,r),o=t.call(this,e),(0,u.Z)((0,i.Z)(o),"onUploadSuccess",(function(e){var t=o.state.fileList,r=void 0===t?[]:t;r.push(e),o.setState({fileList:r}),o.props.form.setFieldsValue((0,u.Z)({},N,r))})),(0,u.Z)((0,i.Z)(o),"onDeleteFile",(function(e){var t=o.state.fileList,r=void 0===t?[]:t;r.splice(e,1),o.setState({fileList:r}),o.props.form.setFieldsValue((0,u.Z)({},N,r))})),(0,u.Z)((0,i.Z)(o),"onUploadFileSuccess",(function(e,t,r){o.setState({fileName:r,fileType:e,fileUrl:t,visible:!0})})),(0,u.Z)((0,i.Z)(o),"disabledDate",(function(e){var t=o.props.houseContractDetail,r=(void 0===t?{}:t).contractEndDate;return e&&e<v()(String(r)).add(1,"days")})),(0,u.Z)((0,i.Z)(o),"renderCorePreview",(function(e){if(Array.isArray(e)&&f().get(e,"0")){var t=e.map((function(e){return{key:e}}));return h.createElement(I,{data:t,enableDownload:!1,enableRemove:!0,onRemove:o.onDeleteFile})}return h.createElement(h.Fragment,null)})),(0,u.Z)((0,i.Z)(o),"renderUpload",(function(){var e=o.props.disabled,t=o.state.fileList,r=void 0===t?[]:t;return e?r.map((function(e,t){return h.createElement("p",{key:t},e)})):h.createElement("div",null,h.createElement(Z.Z,{domain:"cost",namespace:o.private.namespace,onSuccess:o.onUploadSuccess,onFailure:o.onUploadFailure}),o.renderCorePreview(r))})),(0,u.Z)((0,i.Z)(o),"renderAddress",(function(){var e=o.props,t=e.houseContractDetail,r=void 0===t?{}:t,n=e.disabled,a=e.isUpdate,i=e.form,l=(void 0===i?{}:i).getFieldDecorator,c=r.houseAddress,s=n&&c&&a,u=[{label:"房屋地址",form:l("address",{initialValue:c,rules:[{required:!0,message:"请填写内容"}]})(h.createElement(d.Z,{placeholder:"请输入房屋地址",disabled:s}))}];return h.createElement(C.KP,{items:u,cols:1,layout:{labelCol:{span:3},wrapperCol:{span:21}}})})),(0,u.Z)((0,i.Z)(o),"renderBaseInfo",(function(){var e=o.props,t=e.houseContractDetail,r=void 0===t?{}:t,a=e.disabled,i=e.isCreateRenew,l=e.isUpdate,c=e.form,s=(void 0===c?{}:c).getFieldDecorator,u=r.pcUsage,p=r.area,f=r.contractStartDate,m=r.contractEndDate,y=r.landlordName,b=r.fromContractId,g=r.state,Z=r.houseSource,P=[];f&&!i&&P.push(v()(String(f),"YYYY-MM-DD")),m&&!i&&P.push(v()(String(m),"YYYY-MM-DD")),b&&g===D.hRz.pendding&&(P=[]);var F=a&&y&&l,E=[{label:"房东姓名",form:s("landlordName",{initialValue:y,rules:[{required:!0,message:"请填写内容"}]})(h.createElement(d.Z,{placeholder:"请输入房东姓名",disabled:F}))},{label:"用途",form:s("usage",{initialValue:u,rules:[{required:!0,message:"请选择用途"}]})(h.createElement(C.Hr,{placeholder:"请选择用途",mode:"multiple",showArrow:!0,disabled:a},h.createElement(R,{value:D.Tzu.office},D.Tzu.description(D.Tzu.office)),h.createElement(R,{value:D.Tzu.dormitory},D.Tzu.description(D.Tzu.dormitory)),h.createElement(R,{value:D.Tzu.warehouse},D.Tzu.description(D.Tzu.warehouse)),h.createElement(R,{value:D.Tzu.charging},D.Tzu.description(D.Tzu.charging)),h.createElement(R,{value:D.Tzu.other},D.Tzu.description(D.Tzu.other))))},{label:"房屋面积(㎡)",form:s("area",{initialValue:p,rules:[{required:!0,message:"请填写内容"}]})(h.createElement(n.Z,{min:1,disabled:a}))},{label:"房屋来源",form:s("source",{initialValue:Z||D.BHm.rent,rules:[{required:!0,message:"请选择房屋来源"}]})(h.createElement(C.Hr,{placeholder:"请选择房屋来源",disabled:a},h.createElement(R,{value:D.BHm.rent},D.BHm.description(D.BHm.rent)),h.createElement(R,{value:D.BHm.acquisition},D.BHm.description(D.BHm.acquisition)),h.createElement(R,{value:D.BHm.other},D.BHm.description(D.BHm.other))))}];return h.createElement(C.KP,{items:E,cols:3,layout:{labelCol:{span:9},wrapperCol:{span:15}},style:{marginLeft:-4}})})),(0,u.Z)((0,i.Z)(o),"renderExtraInfo",(function(){var e=o.props,t=e.houseContractDetail,r=void 0===t?{}:t,n=e.disabled,a=e.form,i=[{label:"备注",form:(0,(void 0===a?{}:a).getFieldDecorator)("note",{initialValue:r.note,rules:[{required:!1}]})(h.createElement(E,{form:o.props.form,disabled:n}))},{label:"上传附件",form:h.createElement("div",null,o.renderUpload())}];return h.createElement(C.KP,{items:i,cols:1,layout:{labelCol:{span:3},wrapperCol:{span:21}}})})),(0,u.Z)((0,i.Z)(o),"renderHiddenForm",(function(){var e=o.props,t=e.form,r=void 0===t?{}:t,n=e.houseContractDetail,a=(void 0===n?{}:n).attachments,i=void 0===a?[]:a,l=[{label:"",form:r.getFieldDecorator(N,{initialValue:i})(h.createElement(d.Z,{hidden:!0}))}];return h.createElement(C.KP,{className:P.Z["app-comp-expense-house-contract-from-hidden"],items:l,cols:1,layout:{labelCol:{span:2},wrapperCol:{span:22}}})})),(0,u.Z)((0,i.Z)(o),"render",(function(){return h.createElement(C.IT,{title:"房屋信息"},o.renderAddress(),o.renderBaseInfo(),o.renderExtraInfo(),o.renderHiddenForm())})),o.state={isUpload:!1,fileList:f().get(e,"houseContractDetail.attachments",[]),fileType:null,fileUrl:null,visible:!1},o.private={namespace:"namespace".concat(Math.floor(1e5*Math.random()))},o}return(0,o.Z)(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.isCreateRenew,n=e.houseContractDetail,a=void 0===n?{}:n,o=t.houseContractDetail,i=void 0===o?void 0:o,l=t.isUpload,c=void 0!==l&&l;if(void 0===i&&Object.keys(a).length>0){var s=a.fromContractId,u=void 0===s?void 0:s,d=a.state,p=void 0===d?void 0:d,f=a.attachments,m=void 0===f?[]:f;return{fileList:(r||p===D.hRz.pendding&&u)&&!1===c?[]:m,isUpload:!0}}return null}}]),r}(h.Component);(0,u.Z)(x,"propTypes",{houseContractDetail:b().object,disabled:b().bool,isUpdate:b().bool}),(0,u.Z)(x,"defaultProps",{houseContractDetail:{},disabled:!1,isUpdate:!1,fileName:""}),t.Z=(0,g.connect)()(x)},2203:function(e,t,r){var n=r(15671),a=r(97326),o=r(60136),i=r(82963),l=r(61120),c=r(4942),s=r(67294),u=r(45697),d=r.n(u),p=r(96036),f=r(53384);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}var v=function(e){(0,o.Z)(r,e);var t=m(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),(0,c.Z)((0,a.Z)(e),"onVerify",(function(e,t,r){!t.pay||0!==t.betting&&!t.betting?r("请选择"):r()})),(0,c.Z)((0,a.Z)(e),"renderRenew",(function(){var t=e.props,r=t.form,n=void 0===r?{}:r,a=t.isCreate,o=t.houseContractDetail,i=void 0===o?{}:o,l=t.disabled,c=i.paymentMethodPledge,u=void 0===c?void 0:c,d=i.paymentMethodRent,m=void 0===d?void 0:d,v=i.firstRentCycle,h=void 0===v?[]:v,y=[{label:"付款方式",form:(0,n.getFieldDecorator)("paymentMethod",{initialValue:{betting:u||1,pay:m||1},rules:[{required:!0,validator:e.onVerify}]})(s.createElement(f.Z,{form:n,isCreate:a,disabled:l,firstRentCycle:h}))}];return s.createElement(p.KP,{items:y,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,c.Z)((0,a.Z)(e),"render",(function(){return s.createElement(p.IT,{title:"付款方式"},e.renderRenew())})),e}return r}(s.Component);(0,c.Z)(v,"propTypes",{form:d().object,isCreate:d().bool,houseContractDetail:d().object,disabled:d().bool}),(0,c.Z)(v,"defaultProps",{form:{},houseContractDetail:{},isCreate:!1,disabled:!1}),t.Z=v},35833:function(e,t,r){r(36037);var n=r(47933),a=(r(9070),r(20924)),o=(r(36616),r(51368)),i=r(15671),l=r(43144),c=r(97326),s=r(60136),u=r(82963),d=r(61120),p=r(4942),f=(r(54071),r(14072)),m=r(94315),v=r.n(m),h=r(93517),y=r.n(h),b=r(30381),g=r.n(b),C=r(67294),Z=r(45697),D=r.n(Z),P=r(96036),F=r(81243),E=r(612),R=r(80385),N=r(8240);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.Z)(e);if(t){var a=(0,d.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.Z)(this,r)}}var x=f.Z.RangePicker,V=function(e){(0,s.Z)(r,e);var t=I(r);function r(e){var l;return(0,i.Z)(this,r),l=t.call(this,e),(0,p.Z)((0,c.Z)(l),"onChangeRadioGroupValue",(function(e){var t=l.props.form,r=void 0===t?{}:t;e.target.value===R.Rpr.credit&&r.setFieldsValue({idNumber:void 0}),e.target.value===R.Rpr.idCard&&r.setFieldsValue({UnifiedCode:void 0}),l.setState({updateRadioValue:!1,radioValue:e.target.value})})),(0,p.Z)((0,c.Z)(l),"onChangeMonthMoney",(function(e){var t=l.props,r=t.isCreate,n=t.form,a=void 0===n?{}:n;if(r){var o=a.getFieldsValue,i=a.setFieldsValue,c=o(["paymentMethod"]).paymentMethod.betting;i(c&&e?{pledgeMoney:c*e}:{pledgeMoney:void 0}),(0===c&&e||0===e&&c)&&i({pledgeMoney:0})}})),(0,p.Z)((0,c.Z)(l),"onChangePayCycle",(function(e){var t=l.props.form,r=void 0===t?{}:t;(0,r.setFieldsValue)({paymentMethod:{betting:(0,r.getFieldsValue)(["paymentMethod"]).paymentMethod.betting,pay:e}})})),(0,p.Z)((0,c.Z)(l),"onChangeNoApportionMoney",(function(e){l.setState({noApportionMoney:e})})),(0,p.Z)((0,c.Z)(l),"disabledDateDate",(function(e){var t=(0,l.props.form.getFieldsValue)(["contractDate"]).contractDate,r=y().has(t,"1")?g()(t[1]):void 0;if(r)return e&&e>r.add(1,"days")})),(0,p.Z)((0,c.Z)(l),"disableDateTime",(function(e){var t=(0,l.props.form.getFieldsValue)(["contractDate"]).contractDate,r=y().has(t,"0")?g()(t[0]):void 0,n=y().has(t,"1")?g()(t[1]).add(1,"days"):void 0;if(r&&n)return e>n||e<r})),(0,p.Z)((0,c.Z)(l),"validatorIdentityCardId",(function(e,t,r){return t?(0,N.us)(t)?void r():r("请输入正确的身份证号"):r("请输入证件号码")})),(0,p.Z)((0,c.Z)(l),"renderBaseInfo",(function(){var e=l.props,t=e.houseContractDetail,r=void 0===t?{}:t,n=e.disabled,a=e.migrateFlag,i=e.form,c=void 0===i?{}:i,s=e.subjectId,u=e.isUpdateContract,d=c.getFieldDecorator,p=c.getFieldsValue,m=l.state.noApportionMoney,h=2!==(p(["contractDate"]).contractDate||[]).length,y=!0===n?n:h,b=r.monthMoney,Z=r.schedulePrepareDays,D=r.periodMonthNum,E=r.initPaidMoney,N=r.initPaidMonthNum,I=r.firstRentCycle,V=void 0===I?[]:I,O=r.lastAllocationMoney,j=r.allocationEndDate,w=r.allocationStartDate,S=n&&0===V.length,T=!0===u||n,M=[{label:"月租金(元)",form:d("monthMoney",{initialValue:v().existy(b)&&v().not.empty(b)?R.fbc.exchangePriceToYuan(b):"",rules:[{required:!0,message:"请填写内容"}]})(C.createElement(o.Z,{max:9999999999,min:0,formatter:R.fbc.limitDecimals,parser:R.fbc.limitDecimals,disabled:u,onChange:l.onChangeMonthMoney}))},{label:"科目",form:d("rentAccountingId",{initialValue:s,rules:[{required:!0,message:"没有科目"}]})(C.createElement(F.Z,{subjectId:s}))},{label:"提前付款天数(天)",form:d("schedulePrepareDays",{initialValue:Z,rules:[{required:!0,message:"请填写内容"}]})(C.createElement(o.Z,{min:0,max:9999999999,disabled:T}))},{label:"付款周期（月／次）",form:d("periodMonthNum",{initialValue:"".concat(D||""),rules:[{required:!0,message:"请输入"}]})(C.createElement(o.Z,{min:1,max:120,precision:0,disabled:S,onChange:l.onChangePayCycle}))},{label:"已支付租金金额(元)",form:d("initPaidMoney",{initialValue:v().existy(E)&&v().not.empty(N)?R.fbc.exchangePriceToYuan(E):"",rules:[{required:!1}]})(C.createElement(o.Z,{max:9999999999,min:0,formatter:R.fbc.limitDecimals,parser:R.fbc.limitDecimals,disabled:T}))},{label:"已支付租金月数(月)",form:d("initPaidMonthNum",{initialValue:N,rules:[{required:!1}]})(C.createElement(o.Z,{max:9999999999,min:0,disabled:T}))}];1===a&&M.push({label:"未分摊金额(元)",form:d("noApportionMoney",{initialValue:v().existy(O)&&v().not.empty(O)?R.fbc.exchangePriceToYuan(O):void 0,rules:[{required:!0,message:"请填写内容"}]})(C.createElement(o.Z,{max:9999999999,min:0,formatter:R.fbc.limitDecimals,parser:R.fbc.limitDecimals,disabled:T,onChange:l.onChangeNoApportionMoney}))}),1===a&&m>0&&M.push({label:"未分摊时间段",form:d("noApportionTime",{initialValue:j&&w?[g()(String(w)),g()(String(j))]:void 0,rules:[{required:!0,message:"请选择"}]})(C.createElement(x,{format:"YYYY-MM-DD",disabled:y,disabledDate:l.disableDateTime}))}),1!==a||m||M.push({label:"已分摊结束日期",form:d("noApportionDate",{initialValue:v().existy(j)&&v().not.empty(j)?g()(String(j)):null,rules:[{required:!0,message:"请选择"}]})(C.createElement(f.Z,{format:"YYYY-MM-DD",disabled:y,disabledDate:l.disabledDateDate}))});return C.createElement(P.KP,{items:M,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,p.Z)((0,c.Z)(l),"renderReceiptInfo",(function(){var e=l.props,t=e.form,r=void 0===t?{}:t,n=e.houseContractDetail,a=void 0===n?{}:n,o=e.disabled,i=a.rentPayeeInfo,c={payeeInfo:void 0===i?{}:i};return C.createElement(E.Z,{form:r,disabled:o,detail:c,label:{cardNameLabel:"房租收款人"},placeholder:{cardNamePlace:"请输入姓名",cardNumPlace:"请输入卡号",bankNamePlace:"请输入全称"},formName:{cardNameForm:"rentPayee",cardNumForm:"rentPayeeAccount",bankNameForm:"rentBankName"},isHouse:!0,layout:{labelCol:{span:8},wrapperCol:{span:16}},namespace:"rent"})})),(0,p.Z)((0,c.Z)(l),"renderCorresponding",(function(e,t){var r=l.props.houseContractDetail,n=void 0===r?{}:r,o=l.props.form.getFieldDecorator,i=n.rentPayeeInfo,c={payeeInfo:void 0===i?{}:i};if(l.state.radioValue===R.Rpr.credit){var s={label:"统一信用代码",form:o("UnifiedCode",{initialValue:l.state.updateRadioValue&&y().get(c,"payeeInfo.credit_no")?y().get(c,"payeeInfo.credit_no"):""})(C.createElement(a.Z,{disabled:t}))};e.push(s)}if(l.state.radioValue===R.Rpr.idCard){var u={label:"身份证号",form:o("idNumber",{initialValue:l.state.updateRadioValue&&y().get(c,"payeeInfo.id_card_no")?y().get(c,"payeeInfo.id_card_no"):"",rules:[{required:!0,validator:l.validatorIdentityCardId}]})(C.createElement(a.Z,{disabled:t}))};e.push(u)}})),(0,p.Z)((0,c.Z)(l),"renderPaymentMethodInfo",(function(){var e=l.props.form.getFieldDecorator,t=l.props.isUpdateContract,r=[{label:"收款类型",form:e("payMethod",{initialValue:l.state.radioValue,rules:[{required:!0,message:"请选择收款类型"}]})(C.createElement(n.ZP.Group,{onChange:l.onChangeRadioGroupValue,disabled:t},C.createElement(n.ZP,{value:R.Rpr.idCard},R.Rpr.description(R.Rpr.idCard)),C.createElement(n.ZP,{value:R.Rpr.credit},R.Rpr.description(R.Rpr.credit))))}];return l.renderCorresponding(r,t),C.createElement(P.KP,{items:r,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,p.Z)((0,c.Z)(l),"render",(function(){return C.createElement(P.IT,{title:"合同租金信息"},l.renderBaseInfo(),l.renderReceiptInfo(),l.renderPaymentMethodInfo())})),l.state={fileList:[],noApportionMoney:0,houseContractDetail:void 0,radioValue:R.Rpr.idCard,updateRadioValue:!0},l.private={namespace:"namespace".concat(Math.floor(1e5*Math.random()))},l}return(0,l.Z)(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.houseContractDetail,n=void 0===r?{}:r;if(v().existy(n)&&v().not.empty(n)&&t.updateRadioValue){var a=n.rentPayeeInfo,o=(void 0===a?{}:a).payment;return{radioValue:void 0===o?R.Rpr.idCard:o}}var i=t.houseContractDetail,l=void 0===i?void 0:i;if(void 0!==l&&Object.keys(n).length>0){var c=l.lastAllocationMoney;return{houseContractDetail:n,noApportionMoney:void 0===c?0:c}}return null}}]),r}(C.Component);(0,p.Z)(V,"propTypes",{subjectId:D().string,houseContractDetail:D().object,disabled:D().bool,isCreate:D().bool,form:D().object,migrateFlag:D().number,isUpdateContract:D().bool}),(0,p.Z)(V,"defaultProps",{houseContractDetail:{},disabled:!1,isCreate:!1,form:{},migrateFlag:0,isUpdateContract:!1}),t.Z=V},99124:function(e,t){t.Z={"app-comp-expense-common-upload-box":"HvPrJmcqrWJOrV5j8C5g","app-comp-expense-common-upload-btn":"FXDaFFzmn3v5c61WEw2o","app-comp-expense-common-upload-reset-hover":"Ztvt9wDo4OQefPj4bgYI",icon:"f1zznHvQSxAiiPbzC_L5",p:"LMfU9da5ocO97R5I6Pr5","upload-style":"IJtlVgqAmW2YjinmEqBg"}},22681:function(e,t){t.Z={"app-comp-expense-house-contract-common-districts":"QvQAs2_PFKvjEIDtRzPG","app-comp-expense-house-contract-common":"bxh94LL6yPUuG_DrQuQn","app-comp-expense-house-contract-common-expense-info":"NimUe4clvIZ3FH6RcHIA","app-comp-expense-house-contract-common-operation":"NdVksvUzaqUxf35zxgc1","app-comp-expense-house-contract-from-customize":"jajabo8Tih2o5sxay_Ai","app-comp-expense-house-contract-from-payment":"KuTKTKcJHrXehz80Iv9M",boss_expense_house_contract_from_pay:"dUoXtbveHJUedRHHY1Ho"}},30637:function(e,t){t.Z={"app-comp-expense-house-contract-from-upload":"ISCxRRBXnb2sVFg7fuoI","app-comp-expense-house-contract-from-hidden":"KIlG3r4mS9GdmoqdVaEP","app-comp-expense-house-contract-from-customize":"bCBKWiFW1RosppSpeHkd","app-comp-expense-house-contract-from-payment":"buVA9q15CmaAwT2aTBm0","boss-expense-house-contract-from-pay":"i2s06fSPRHfPJ49AtJ3u"}},67955:function(e,t){t.Z={"app-comp-expense-house-contract-create":"g8gD3K5rsywmRmGPEbuZ","app-comp-expense-house-contract-update":"bDjNVxNasBal4zNTKeQi","app-comp-expense-house-contract-list-operation":"NJctQmnYbcJ1vo4whsG_","app-comp-expense-house-contract-list-coding":"reXHvSqxK682_Dy25Xvk","app-comp-expense-house-contract-list-operation-create":"kMnUTgiV8aPemDtlyAAj"}}}]);