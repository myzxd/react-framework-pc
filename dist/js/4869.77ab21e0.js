"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[4869],{14869:function(e,t,n){n.r(t);var r=n(15671),a=n(43144),o=n(97326),l=n(60136),c=n(82963),i=n(61120),u=n(4942),s=n(93517),p=n.n(s),d=n(55609),f=n(67294),m=n(96036),h=n(80385),y=n(32430),g=n(33515),Z=n(88780),v=n(9583),R=n(67389);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var C=function(e){(0,l.Z)(n,e);var t=b(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e=t.call.apply(t,[this].concat(l)),(0,u.Z)((0,o.Z)(e),"componentDidMount",(function(){e.fetchPlanVersionData()})),(0,u.Z)((0,o.Z)(e),"getRuleCollection",(function(){var t,n,r=e.props.location.query.planVersionId,a=p().get(e.props.planVersionDetailData,"".concat(r),{});return 0===Object.keys(a).length?{}:(a.rulesList.forEach((function(e){e.workType===h.EbQ.first&&(t=e),e.workType===h.EbQ.second&&(n=e)})),{fullTimeObj:t,partTimeIdObj:n})})),(0,u.Z)((0,o.Z)(e),"fetchPlanVersionData",(function(){var t=e.props.location.query.planVersionId;if(t){var n={id:t};e.props.dispatch({type:"financePlan/fetchPlanVersionDetailData",payload:n})}})),(0,u.Z)((0,o.Z)(e),"renderEmptyPage",(function(){return f.createElement("div",{className:R.Z["app-comp-finance-history-empty-page"]},"页面无数据")})),(0,u.Z)((0,o.Z)(e),"renderPageHeader",(function(){var t=e.props.location.query.planVersionId,n=e.props.planVersionDetailData,r=e.props.location.query.planId,a=p().get(n,"".concat(t,".bizDistrictName"),""),o=p().get(n,"".concat(t,".cityName"),"");return f.createElement("div",null,f.createElement("h1",{className:R.Z["app-comp-finance-generator-history-page-header-title"]},a?"".concat(o,"-").concat(a):o),f.createElement("div",{className:R.Z["app-comp-finance-generator-history-page-header-content"]},"当前查看的是服务费方案的历史存档，",f.createElement("a",{className:R.Z["app-comp-finance-generator-history-page-header-link"],href:"#/Finance/Rules?id=".concat(r)},"查看最新 >>")))})),(0,u.Z)((0,o.Z)(e),"renderContent",(function(){var t=e.getRuleCollection();if(0!==Object.keys(t).length){var n=t.fullTimeObj,r=t.partTimeIdObj;return f.createElement("div",null,f.createElement(m.IT,{title:"甲类"},n?e.renderRuleTabs(n):e.renderEmptyPage()),f.createElement(m.IT,{title:"乙类"},r?e.renderRuleTabs(r):e.renderEmptyPage()))}})),(0,u.Z)((0,o.Z)(e),"renderRuleTabs",(function(t){var n=[{title:"单量提成 ".concat(t.orderRules.length),content:e.renderRuleTabContent("单量",t.id),disabled:!t.orderRuleFlag,key:"单量"},{title:"出勤奖罚 ".concat(t.workRules.length),content:e.renderRuleTabContent("出勤",t.id),disabled:!t.workRuleFlag,key:"出勤"},{title:"质量奖罚 ".concat(t.qaRules.length),content:e.renderRuleTabContent("质量",t.id),disabled:!t.qaRuleFlag,key:"质量"},{title:"管理奖罚 ".concat(t.operationRules.length),content:e.renderRuleTabContent("管理",t.id),disabled:!t.operationRuleFlag,key:"管理"}];return f.createElement(m.DF,{items:n,onChange:e.onChange,defaultActiveKey:"单量"})})),(0,u.Z)((0,o.Z)(e),"renderRuleTabContent",(function(t,n){var r=e.props.location.query.planVersionId,a=p().get(e.props.planVersionDetailData,"".concat(r),{}).platformCode;return"单量"===t?f.createElement(y.Z,{platformCode:a,ruleCollectionId:n}):"出勤"===t?f.createElement(g.Z,{platformCode:a,ruleCollectionId:n}):"质量"===t?f.createElement(v.Z,{platformCode:a,ruleCollectionId:n}):"管理"===t?f.createElement(Z.Z,{platformCode:a,ruleCollectionId:n}):void 0})),e}return(0,a.Z)(n,[{key:"render",value:function(){return f.createElement("div",null,this.renderPageHeader(),this.renderContent())}}]),n}(f.Component);t.default=(0,d.connect)((function(e){return{planVersionDetailData:e.financePlan.planVersionDetailData}}))(C)}}]);