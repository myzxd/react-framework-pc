"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[6293],{6293:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});n(438);var a=n(14277),r=n(29439),o=n(67294),i=n(96036),l=n(80385),c=(n(20186),n(75385)),d=(n(52560),n(71577)),u=(n(21316),n(75443)),m=n(4942),f=n(93517),p=n.n(f),s=n(30381),w=n.n(s),E=n(55609),h=(n(35668),n(86585)),x=(n(9070),n(20924)),y=(n(29093),n(16317));function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=y.Z.Option,v=function(e){var t=(0,o.useState)({}),n=(0,r.Z)(t,2),a=n[0],c=n[1],d=[o.createElement(h.Z.Item,{label:"BU3审批流名称",name:"xdFlowName"},o.createElement(x.Z,{placeholder:"请输入",allowClear:!0})),o.createElement(h.Z.Item,{label:"趣活审批流名称",name:"name"},o.createElement(x.Z,{placeholder:"请输入",allowClear:!0})),o.createElement(h.Z.Item,{label:"成本中心类型",name:"centerType"},o.createElement(y.Z,{placeholder:"请选择",allowClear:!0},o.createElement(g,{value:""},"全部"),o.createElement(g,{value:l.Xr3.code},l.Xr3.description(l.Xr3.code)),o.createElement(g,{value:l.Xr3.team},l.Xr3.description(l.Xr3.team)),o.createElement(g,{value:"*"},l.Xr3.description(l.Xr3.code),"、",l.Xr3.description(l.Xr3.team)))),o.createElement(h.Z.Item,{label:"可用状态",name:"state"},o.createElement(y.Z,{placeholder:"请选择"},o.createElement(g,{value:""},"全部"),o.createElement(g,{value:l.mHr.available},l.mHr.description(l.mHr.available)),o.createElement(g,{value:l.mHr.noAvailable},l.mHr.description(l.mHr.noAvailable))))],u={items:[].concat(d),onReset:function(){a.resetFields(),e.onSearch&&e.onSearch({})},onSearch:function(t){e.onSearch&&e.onSearch(_(_({},t),{},{centerType:"*"===t.centerType?[l.Xr3.code,l.Xr3.team]:t.centerType}))},onHookForm:function(e){return c(e)},initialValues:{state:"",centerType:""}};return o.createElement(i.IT,{className:"affairs-flow-basic"},o.createElement(i.j6,u))},F=n(45430);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=l.B_f.codeTeam;var C=(0,E.connect)((function(e){return{relationExamineFlowList:e.relationExamineFlow.relationExamineFlowList}}))((function(e){var t=e.dispatch,n=(0,o.useState)({page:1,limit:30}),a=(0,r.Z)(n,2),m=a[0],f=a[1],s=(0,o.useState)({}),E=(0,r.Z)(s,2),h=E[0],x=E[1];(0,o.useEffect)((function(){var e=I({bizType:Z},h);return t({type:"relationExamineFlow/fetchRelationExamineFlow",payload:e}),function(){t({type:"relationExamineFlow/reduceRelationExamineFlow",payload:{}})}}),[t,h]);var y,b,_,g,O,C,S=function(e){f({page:1,limit:30}),x(I({},e))},P=function(e,t){f({page:e,limit:t})},R=function(){var e=I({bizType:Z},h);t({type:"relationExamineFlow/fetchRelationExamineFlow",payload:e})},B=function(e,n){var a={pluginId:e.plugin_id,appWatchFlowId:e.app_watch_flow_id,state:n,bizType:Z,onSuccessCallback:R};t({type:"relationExamineFlow/updateRelationExamineFlowState",payload:a})};return o.createElement(o.Fragment,null,o.createElement(v,{onSearch:S}),(b=m.limit,_=m.page,O={current:_,pageSize:b,onChange:P,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:P},C=(g=[{title:"序号",dataIndex:"id",width:50,fixed:"left",render:function(e,t,n){var a=b*(_-1)+n+1;return o.createElement("div",null,a)}},{title:"BU3/审批流名称",dataIndex:["xd_flow_info","name"],width:120,render:function(e){return e||"--"}},{title:"BU3/成本中心类型",dataIndex:["xd_flow_info","type"],width:120,render:function(e){return Array.isArray(e)?e.map((function(e){return l.Xr3.description(e)})).join("、"):"--"}},{title:"BU3/是否有RS节点",dataIndex:["xd_flow_info","has_rs_node"],width:150,render:function(e){return e?"是":"否"}},{title:"BU3/状态",dataIndex:["xd_flow_info","state"],width:80,render:function(e){return l.Bbo.description(e)}},{title:"趣活/审批流名称",dataIndex:["qh_flow_info","name"],width:120,render:function(e){return e||"--"}},{title:"趣活/成本中心类型",dataIndex:["qh_flow_info","type"],width:120,render:function(e){return Array.isArray(e)?e.map((function(e){return l.Xr3.description(e)})).join("、"):"--"}},{title:"趣活/状态",dataIndex:["qh_flow_info","state"],width:100,render:function(e){return l.Bbo.description(e)}},{title:"可用状态",dataIndex:"state",width:80,render:function(e){return l.mHr.description(e)}},{title:"原因",dataIndex:"reason",width:150,render:function(e){return Array.isArray(e)?0===e.length?"--":e.map((function(t,n){return o.createElement("span",{key:n},t,";",n===e.length-1?o.createElement("br",null):null)})):"--"}},{title:"创建人",dataIndex:"creator",width:100,render:function(e){return e||"--"}},{title:"创建时间",dataIndex:"created_at",width:150,render:function(e){return e?w()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"最新操作人",dataIndex:"operator",width:100,render:function(e){return e||"--"}},{title:"操作时间",dataIndex:"updated_at",width:150,render:function(e){return e?w()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"操作",dataIndex:"operate",width:150,fixed:"right",render:function(e,t){return function(e){var t=[];return F.ZP.canOperateExpenseRelationExamineFlowCodeTeamDetail()&&t.push(o.createElement("a",{key:"detail",href:"/#/Expense/RelationExamineFlow/CodeTeamDetail?qhFlowId=".concat(p().get(e,"qh_flow_info._id",void 0),"&xdFlowId=").concat(p().get(e,"xd_flow_info._id",void 0)),target:"_blank",rel:"noopener noreferrer",style:{marginRight:10}},"查看")),e.state===l.mHr.available&&F.ZP.canOperateExpenseRelationExamineFlowCodeTeamUpdateState()&&t.push(o.createElement(u.Z,{title:"您是否确认禁用此关联关系？",onConfirm:function(){B(e,l.Bbo.disable)}},o.createElement("a",null,"禁用"))),e.state===l.mHr.noAvailable&&(F.ZP.canOperateExpenseRelationExamineFlowCodeTeamUpdate()&&t.push(o.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"/#/Expense/RelationExamineFlow/CodeTeamUpdate?pluginId=".concat(e.plugin_id,"&appWatchFlowId=").concat(e.app_watch_flow_id,"&qhFlowId=").concat(p().get(e,"qh_flow_info._id",void 0),"&xdFlowId=").concat(p().get(e,"xd_flow_info._id",void 0))},"编辑")),F.ZP.canOperateExpenseRelationExamineFlowCodeTeamUpdateState()&&t.push(o.createElement(u.Z,{title:"您是否确认启用此关联关系？",onConfirm:function(){B(e,l.Bbo.normal)}},o.createElement("a",{style:{marginLeft:10}},"启用")),o.createElement(u.Z,{title:"您是否确认删除此关联关系？",onConfirm:function(){B(e,l.Bbo.delete)}},o.createElement("a",{style:{marginLeft:10}},"删除")))),0===t.length?"--":t}(t)}}]).map((function(e){return e.width||0})).reduce((function(e,t){return e+t})),F.ZP.canOperateExpenseRelationExamineFlowCodeTeamCreate()&&(y=o.createElement(d.Z,{onClick:function(){window.location.href="/#/Expense/RelationExamineFlow/CodeTeamCreate"},type:"primary"},"新增")),o.createElement(i.IT,{title:"code/team审批流列表",titleExt:y},o.createElement(c.Z,{rowKey:function(e,t){return t},dataSource:p().get(e,"relationExamineFlowList.datas",[]),columns:g,bordered:!0,pagination:O,scroll:{x:C}}))))})),S=n(88144),P=y.Z.Option,R=function(e){var t=(0,o.useState)({}),n=(0,r.Z)(t,2),a=n[0],c=n[1],d=[o.createElement(h.Z.Item,{label:"BU3审批流名称",name:"xdFlowName"},o.createElement(x.Z,{placeholder:"请输入",allowClear:!0})),o.createElement(h.Z.Item,{label:"趣活审批流名称",name:"name"},o.createElement(x.Z,{placeholder:"请输入",allowClear:!0})),o.createElement(h.Z.Item,{label:"适用类型",name:"applyApplicationType"},o.createElement(S.UU,{filterValues:[l.ZBL.oaBusiness],enumeratedType:"affairs"})),o.createElement(h.Z.Item,{label:"可用状态",name:"state"},o.createElement(y.Z,{placeholder:"请选择"},o.createElement(P,{value:""},"全部"),o.createElement(P,{value:l.mHr.available},l.mHr.description(l.mHr.available)),o.createElement(P,{value:l.mHr.noAvailable},l.mHr.description(l.mHr.noAvailable))))],u={items:[].concat(d),onReset:function(){a.resetFields(),e.onSearch&&e.onSearch({})},onSearch:function(t){e.onSearch&&e.onSearch(t)},onHookForm:function(e){return c(e)},initialValues:{state:""}};return o.createElement(i.IT,{className:"affairs-flow-basic"},o.createElement(i.j6,u))};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H="affairs",T=l.B_f.affair;var A=(0,E.connect)((function(e){return{relationExamineFlowList:e.relationExamineFlow.relationExamineFlowList,enumeratedValue:e.applicationCommon.enumeratedValue}}))((function(e){var t=e.dispatch,n=e.enumeratedValue,a=void 0===n?{}:n,m=(0,o.useState)({page:1,limit:30}),f=(0,r.Z)(m,2),s=f[0],E=f[1],h=(0,o.useState)({}),x=(0,r.Z)(h,2),y=x[0],b=x[1];(0,o.useEffect)((function(){return t({type:"applicationCommon/getEnumeratedValue",payload:{enumeratedType:H}}),function(){return t({type:"applicationCommon/resetEnumeratedValue",payload:{}})}}),[t]),(0,o.useEffect)((function(){var e=j({bizType:T},y);return t({type:"relationExamineFlow/fetchRelationExamineFlow",payload:e}),function(){t({type:"relationExamineFlow/reduceRelationExamineFlow",payload:{}})}}),[t,y]);var _,g,v,O,I,Z,C,S=function(e){E({page:1,limit:30}),b(j({},e))},P=function(e,t){E({page:e,limit:t})},B=function(){var e=j({bizType:T},y);t({type:"relationExamineFlow/fetchRelationExamineFlow",payload:e})},A=function(e,n){var a={pluginId:e.plugin_id,appWatchFlowId:e.app_watch_flow_id,state:n,bizType:T,onSuccessCallback:B};t({type:"relationExamineFlow/updateRelationExamineFlowState",payload:a})};return o.createElement(o.Fragment,null,o.createElement(R,{onSearch:S}),(g=s.limit,v=s.page,O=a.affairs||[],Z={current:v,pageSize:g,onChange:P,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:P},C=(I=[{title:"序号",dataIndex:"id",width:50,fixed:"left",render:function(e,t,n){var a=g*(v-1)+n+1;return o.createElement("div",null,a)}},{title:"适用类型",dataIndex:["xd_flow_info","type"],width:120,render:function(e){if(!e||0===e.length||0===O.length)return"--";var t=e.map((function(e){return(O.find((function(t){return t.value===e}))||{}).name}));return t.length<=0?"--":t.join("、")}},{title:"BU3/审批流名称",dataIndex:["xd_flow_info","name"],width:120,render:function(e){return e||"--"}},{title:"BU3/是否有RS节点",dataIndex:["xd_flow_info","has_rs_node"],width:150,render:function(e){return e?"是":"否"}},{title:"BU3/状态",dataIndex:["xd_flow_info","state"],width:80,render:function(e){return l.Bbo.description(e)}},{title:"趣活/审批流名称",dataIndex:["qh_flow_info","name"],width:120,render:function(e){return e||"--"}},{title:"趣活/状态",dataIndex:["qh_flow_info","state"],width:100,render:function(e){return l.Bbo.description(e)}},{title:"可用状态",dataIndex:"state",width:80,render:function(e){return l.mHr.description(e)}},{title:"原因",dataIndex:"reason",width:150,render:function(e){return Array.isArray(e)?0===e.length?"--":e.map((function(t,n){return o.createElement("span",{key:n},t,";",n===e.length-1?o.createElement("br",null):null)})):"--"}},{title:"创建人",dataIndex:"creator",width:100,render:function(e){return e||"--"}},{title:"创建时间",dataIndex:"created_at",width:150,render:function(e){return e?w()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"最新操作人",dataIndex:"operator",width:100,render:function(e){return e||"--"}},{title:"操作时间",dataIndex:"updated_at",width:150,render:function(e){return e?w()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"操作",dataIndex:"operate",width:150,fixed:"right",render:function(e,t){return function(e){var t=[];return F.ZP.canOperateExpenseRelationExamineFlowAffairDetail()&&t.push(o.createElement("a",{key:"detail",href:"/#/Expense/RelationExamineFlow/AffairDetail?qhFlowId=".concat(p().get(e,"qh_flow_info._id",void 0),"&xdFlowId=").concat(p().get(e,"xd_flow_info._id",void 0)),target:"_blank",rel:"noopener noreferrer",style:{marginRight:10}},"查看")),e.state===l.mHr.available&&F.ZP.canOperateExpenseRelationExamineFlowAffairUpdateState()&&t.push(o.createElement(u.Z,{title:"您是否确认禁用此关联关系？",onConfirm:function(){A(e,l.Bbo.disable)}},o.createElement("a",null,"禁用"))),e.state===l.mHr.noAvailable&&(F.ZP.canOperateExpenseRelationExamineFlowAffairUpdate()&&t.push(o.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"/#/Expense/RelationExamineFlow/AffairUpdate?pluginId=".concat(e.plugin_id,"&appWatchFlowId=").concat(e.app_watch_flow_id,"&qhFlowId=").concat(p().get(e,"qh_flow_info._id",void 0),"&xdFlowId=").concat(p().get(e,"xd_flow_info._id",void 0))},"编辑")),F.ZP.canOperateExpenseRelationExamineFlowAffairUpdateState()&&t.push(o.createElement(u.Z,{title:"您是否确认启用此关联关系？",onConfirm:function(){A(e,l.Bbo.normal)}},o.createElement("a",{style:{marginLeft:10}},"启用")),o.createElement(u.Z,{title:"您是否确认删除此关联关系？",onConfirm:function(){A(e,l.Bbo.delete)}},o.createElement("a",{style:{marginLeft:10}},"删除")))),0===t.length?"--":t}(t)}}]).map((function(e){return e.width||0})).reduce((function(e,t){return e+t})),F.ZP.canOperateExpenseRelationExamineFlowAffairCreate()&&(_=o.createElement(d.Z,{onClick:function(){window.location.href="/#/Expense/RelationExamineFlow/AffairCreate"},type:"primary"},"新增")),o.createElement(i.IT,{title:"事务类审批流列表",titleExt:_},o.createElement(c.Z,{rowKey:function(e,t){return t},dataSource:p().get(e,"relationExamineFlowList.datas",[]),columns:I,bordered:!0,pagination:Z,scroll:{x:C}}))))})),k=y.Z.Option,D=function(e){var t=(0,o.useState)({}),n=(0,r.Z)(t,2),a=n[0],c=n[1],d=[o.createElement(h.Z.Item,{label:"BU3审批流名称",name:"xdFlowName"},o.createElement(x.Z,{placeholder:"请输入",allowClear:!0})),o.createElement(h.Z.Item,{label:"趣活审批流名称",name:"name"},o.createElement(x.Z,{placeholder:"请输入",allowClear:!0})),o.createElement(h.Z.Item,{label:"可用状态",name:"state"},o.createElement(y.Z,{placeholder:"请选择"},o.createElement(k,{value:""},"全部"),o.createElement(k,{value:l.mHr.available},l.mHr.description(l.mHr.available)),o.createElement(k,{value:l.mHr.noAvailable},l.mHr.description(l.mHr.noAvailable))))],u={items:[].concat(d),onReset:function(){a.resetFields(),e.onSearch&&e.onSearch({})},onSearch:function(t){e.onSearch&&e.onSearch(t)},onHookForm:function(e){return c(e)},initialValues:{state:""}};return o.createElement(i.IT,{className:"affairs-flow-basic"},o.createElement(i.j6,u))};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=l.B_f.cost,q="examineFlowApplyApplicationTypes";var N=(0,E.connect)((function(e){return{relationExamineFlowList:e.relationExamineFlow.relationExamineFlowList,enumeratedValue:e.applicationCommon.enumeratedValue}}))((function(e){var t=e.dispatch,n=e.enumeratedValue,a=void 0===n?{}:n,m=(0,o.useState)({page:1,limit:30}),f=(0,r.Z)(m,2),s=f[0],E=f[1],h=(0,o.useState)({}),x=(0,r.Z)(h,2),y=x[0],b=x[1],_=a[q],g=void 0===_?[]:_;(0,o.useEffect)((function(){return t({type:"applicationCommon/getEnumeratedValue",payload:{enumeratedType:q,examineFlowBiz:l.z_o.costOf}}),function(){return t({type:"applicationCommon/resetEnumeratedValue",payload:{}})}}),[t]),(0,o.useEffect)((function(){var e=z({bizType:Y},y);return t({type:"relationExamineFlow/fetchRelationExamineFlow",payload:e}),function(){t({type:"relationExamineFlow/reduceRelationExamineFlow",payload:{}})}}),[t,y]);var v,O,I,Z,C,S,P=function(e){E({page:1,limit:30}),b(z({},e))},R=function(e,t){E({page:e,limit:t})},B=function(){var e=z({bizType:Y},y);t({type:"relationExamineFlow/fetchRelationExamineFlow",payload:e})},j=function(e,n){var a={pluginId:e.plugin_id,appWatchFlowId:e.app_watch_flow_id,state:n,bizType:Y,onSuccessCallback:B};t({type:"relationExamineFlow/updateRelationExamineFlowState",payload:a})};return o.createElement(o.Fragment,null,o.createElement(D,{onSearch:P}),(O=s.limit,I=s.page,C={current:I,pageSize:O,onChange:R,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:R},S=(Z=[{title:"序号",dataIndex:"id",width:50,fixed:"left",render:function(e,t,n){var a=O*(I-1)+n+1;return o.createElement("div",null,a)}},{title:"BU3/审批流名称",dataIndex:["xd_flow_info","name"],width:120,render:function(e){return e||"--"}},{title:"BU3/适用类型",dataIndex:["xd_flow_info","type"],width:120,render:function(e){return Array.isArray(e)&&e.length>0?e.map((function(e){return(g.find((function(t){return t.value===e}))||{}).name})).join("、"):"--"}},{title:"BU3/是否有RS节点",dataIndex:["xd_flow_info","has_rs_node"],width:150,render:function(e){return e?"是":"否"}},{title:"BU3/状态",dataIndex:["xd_flow_info","state"],width:80,render:function(e){return l.Bbo.description(e)}},{title:"趣活/审批流名称",dataIndex:["qh_flow_info","name"],width:120,render:function(e){return e||"--"}},{title:"趣活/适用类型",dataIndex:["qh_flow_info","type"],width:120,render:function(e){return Array.isArray(e)&&e.length>0?e.map((function(e){return(g.find((function(t){return t.value===e}))||{}).name})).join("、"):"--"}},{title:"趣活/状态",dataIndex:["qh_flow_info","state"],width:100,render:function(e){return l.Bbo.description(e)}},{title:"可用状态",dataIndex:"state",width:80,render:function(e){return l.mHr.description(e)}},{title:"原因",dataIndex:"reason",width:150,render:function(e){return Array.isArray(e)?0===e.length?"--":e.map((function(t,n){return o.createElement("span",{key:n},t,";",n===e.length-1?o.createElement("br",null):null)})):"--"}},{title:"创建人",dataIndex:"creator",width:100,render:function(e){return e||"--"}},{title:"创建时间",dataIndex:"created_at",width:150,render:function(e){return e?w()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"最新操作人",dataIndex:"operator",width:100,render:function(e){return e||"--"}},{title:"操作时间",dataIndex:"updated_at",width:150,render:function(e){return e?w()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"操作",dataIndex:"operate",width:150,fixed:"right",render:function(e,t){return function(e){var t=[];return F.ZP.canOperateExpenseRelationExamineFlowCostDetail()&&t.push(o.createElement("a",{key:"detail",href:"/#/Expense/RelationExamineFlow/CostDetail?qhFlowId=".concat(p().get(e,"qh_flow_info._id",void 0),"&xdFlowId=").concat(p().get(e,"xd_flow_info._id",void 0)),target:"_blank",rel:"noopener noreferrer",style:{marginRight:10}},"查看")),e.state===l.mHr.available&&F.ZP.canOperateExpenseRelationExamineFlowCostUpdateState()&&t.push(o.createElement(u.Z,{title:"您是否确认禁用此关联关系？",onConfirm:function(){j(e,l.Bbo.disable)}},o.createElement("a",null,"禁用"))),e.state===l.mHr.noAvailable&&(F.ZP.canOperateExpenseRelationExamineFlowCostUpdate()&&t.push(o.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"/#/Expense/RelationExamineFlow/CostUpdate?pluginId=".concat(e.plugin_id,"&appWatchFlowId=").concat(e.app_watch_flow_id,"&qhFlowId=").concat(p().get(e,"qh_flow_info._id",void 0),"&xdFlowId=").concat(p().get(e,"xd_flow_info._id",void 0))},"编辑")),F.ZP.canOperateExpenseRelationExamineFlowCostUpdateState()&&t.push(o.createElement(u.Z,{title:"您是否确认启用此关联关系？",onConfirm:function(){j(e,l.Bbo.normal)}},o.createElement("a",{style:{marginLeft:10}},"启用")),o.createElement(u.Z,{title:"您是否确认删除此关联关系？",onConfirm:function(){j(e,l.Bbo.delete)}},o.createElement("a",{style:{marginLeft:10}},"删除")))),0===t.length?"--":t}(t)}}]).map((function(e){return e.width||0})).reduce((function(e,t){return e+t})),F.ZP.canOperateExpenseRelationExamineFlowCostCreate()&&(v=o.createElement(d.Z,{onClick:function(){window.location.href="/#/Expense/RelationExamineFlow/CostCreate"},type:"primary"},"新增")),o.createElement(i.IT,{title:"成本类审批流列表",titleExt:v},o.createElement(c.Z,{rowKey:function(e,t){return t},dataSource:p().get(e,"relationExamineFlowList.datas",[]),columns:Z,bordered:!0,pagination:C,scroll:{x:S}}))))})),L=y.Z.Option,V=function(e){var t=e.dataTypes,n=void 0===t?[]:t,a=(0,o.useState)({}),c=(0,r.Z)(a,2),d=c[0],u=c[1],m=n.filter((function(e){return e.value===l.ZBL.borrowing||e.value===l.ZBL.repayments})),f=[o.createElement(h.Z.Item,{label:"BU3审批流名称",name:"xdFlowName"},o.createElement(x.Z,{placeholder:"请输入",allowClear:!0})),o.createElement(h.Z.Item,{label:"趣活审批流名称",name:"name"},o.createElement(x.Z,{placeholder:"请输入",allowClear:!0})),o.createElement(h.Z.Item,{label:"适用类型",name:"applyApplicationType"},o.createElement(y.Z,{placeholder:"请选择"},o.createElement(L,{value:""},"全部"),m.map((function(e){return o.createElement(L,{key:e.value,value:e.value},e.name)})))),o.createElement(h.Z.Item,{label:"可用状态",name:"state"},o.createElement(y.Z,{placeholder:"请选择"},o.createElement(L,{value:""},"全部"),o.createElement(L,{value:l.mHr.available},l.mHr.description(l.mHr.available)),o.createElement(L,{value:l.mHr.noAvailable},l.mHr.description(l.mHr.noAvailable))))],p={items:[].concat(f),onReset:function(){d.resetFields(),e.onSearch&&e.onSearch({})},onSearch:function(t){e.onSearch&&e.onSearch(t)},onHookForm:function(e){return u(e)},initialValues:{state:"",applyApplicationType:""}};return o.createElement(i.IT,{className:"affairs-flow-basic"},o.createElement(i.j6,p))};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=l.B_f.noCost,W="examineFlowApplyApplicationTypes";var J=(0,E.connect)((function(e){return{relationExamineFlowList:e.relationExamineFlow.relationExamineFlowList,enumeratedValue:e.applicationCommon.enumeratedValue}}))((function(e){var t=e.dispatch,n=e.enumeratedValue,a=(void 0===n?{}:n)[W],m=void 0===a?[]:a,f=(0,o.useState)({page:1,limit:30}),s=(0,r.Z)(f,2),E=s[0],h=s[1],x=(0,o.useState)({}),y=(0,r.Z)(x,2),b=y[0],_=y[1];(0,o.useEffect)((function(){return t({type:"applicationCommon/getEnumeratedValue",payload:{enumeratedType:W,examineFlowBiz:l.z_o.noCostOf}}),function(){return t({type:"applicationCommon/resetEnumeratedValue",payload:{}})}}),[t]),(0,o.useEffect)((function(){var e=K({bizType:X},b);return t({type:"relationExamineFlow/fetchRelationExamineFlow",payload:e}),function(){t({type:"relationExamineFlow/reduceRelationExamineFlow",payload:{}})}}),[t,b]);var g,v,O,I,Z,C,S=function(e){h({page:1,limit:30}),_(K({},e))},P=function(e,t){h({page:e,limit:t})},R=function(){var e=K({bizType:X},b);t({type:"relationExamineFlow/fetchRelationExamineFlow",payload:e})},B=function(e,n){var a={pluginId:e.plugin_id,appWatchFlowId:e.app_watch_flow_id,state:n,bizType:X,onSuccessCallback:R};t({type:"relationExamineFlow/updateRelationExamineFlowState",payload:a})};return o.createElement(o.Fragment,null,o.createElement(V,{onSearch:S,dataTypes:m}),(v=E.limit,O=E.page,Z={current:O,pageSize:v,onChange:P,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:P},C=(I=[{title:"序号",dataIndex:"id",width:50,fixed:"left",render:function(e,t,n){var a=v*(O-1)+n+1;return o.createElement("div",null,a)}},{title:"BU3/审批流名称",dataIndex:["xd_flow_info","name"],width:120,render:function(e){return e||"--"}},{title:"BU3/适用类型",dataIndex:["xd_flow_info","type"],width:120,render:function(e){return Array.isArray(e)&&e.length>0?e.map((function(e){return(m.find((function(t){return t.value===e}))||{}).name})).join("、"):"--"}},{title:"BU3/是否有RS节点",dataIndex:["xd_flow_info","has_rs_node"],width:150,render:function(e){return e?"是":"否"}},{title:"BU3/状态",dataIndex:["xd_flow_info","state"],width:80,render:function(e){return l.Bbo.description(e)}},{title:"趣活/审批流名称",dataIndex:["qh_flow_info","name"],width:120,render:function(e){return e||"--"}},{title:"趣活/适用类型",dataIndex:["qh_flow_info","type"],width:120,render:function(e){return Array.isArray(e)&&e.length>0?e.map((function(e){return(m.find((function(t){return t.value===e}))||{}).name})).join("、"):"--"}},{title:"趣活/状态",dataIndex:["qh_flow_info","state"],width:100,render:function(e){return l.Bbo.description(e)}},{title:"可用状态",dataIndex:"state",width:80,render:function(e){return l.mHr.description(e)}},{title:"原因",dataIndex:"reason",width:150,render:function(e){return Array.isArray(e)?0===e.length?"--":e.map((function(t,n){return o.createElement("span",{key:n},t,";",n===e.length-1?o.createElement("br",null):null)})):"--"}},{title:"创建人",dataIndex:"creator",width:100,render:function(e){return e||"--"}},{title:"创建时间",dataIndex:"created_at",width:150,render:function(e){return e?w()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"最新操作人",dataIndex:"operator",width:100,render:function(e){return e||"--"}},{title:"操作时间",dataIndex:"updated_at",width:150,render:function(e){return e?w()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"操作",dataIndex:"operate",width:150,fixed:"right",render:function(e,t){return function(e){var t=[];return F.ZP.canOperateExpenseRelationExamineFlowNoCostDetail()&&t.push(o.createElement("a",{key:"detail",href:"/#/Expense/RelationExamineFlow/NoCostDetail?qhFlowId=".concat(p().get(e,"qh_flow_info._id",void 0),"&xdFlowId=").concat(p().get(e,"xd_flow_info._id",void 0)),target:"_blank",rel:"noopener noreferrer",style:{marginRight:10}},"查看")),e.state===l.mHr.available&&F.ZP.canOperateExpenseRelationExamineFlowNoCostUpdateState()&&t.push(o.createElement(u.Z,{title:"您是否确认禁用此关联关系？",onConfirm:function(){B(e,l.Bbo.disable)}},o.createElement("a",null,"禁用"))),e.state===l.mHr.noAvailable&&(F.ZP.canOperateExpenseRelationExamineFlowNoCostUpdate()&&t.push(o.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"/#/Expense/RelationExamineFlow/NoCostUpdate?pluginId=".concat(e.plugin_id,"&appWatchFlowId=").concat(e.app_watch_flow_id,"&qhFlowId=").concat(p().get(e,"qh_flow_info._id",void 0),"&xdFlowId=").concat(p().get(e,"xd_flow_info._id",void 0))},"编辑")),F.ZP.canOperateExpenseRelationExamineFlowNoCostUpdateState()&&t.push(o.createElement(u.Z,{title:"您是否确认启用此关联关系？",onConfirm:function(){B(e,l.Bbo.normal)}},o.createElement("a",{style:{marginLeft:10}},"启用")),o.createElement(u.Z,{title:"您是否确认删除此关联关系？",onConfirm:function(){B(e,l.Bbo.delete)}},o.createElement("a",{style:{marginLeft:10}},"删除")))),0===t.length?"--":t}(t)}}]).map((function(e){return e.width||0})).reduce((function(e,t){return e+t})),F.ZP.canOperateExpenseRelationExamineFlowNoCostCreate()&&(g=o.createElement(d.Z,{onClick:function(){window.location.href="/#/Expense/RelationExamineFlow/NoCostCreate"},type:"primary"},"新增")),o.createElement(i.IT,{title:"非成本类审批流列表",titleExt:g},o.createElement(c.Z,{rowKey:function(e,t){return t},dataSource:p().get(e,"relationExamineFlowList.datas",[]),columns:I,bordered:!0,pagination:Z,scroll:{x:C}}))))}));var Q=function(e){var t,n=e.location.query,c=(0,o.useState)(n.activeKey),d=(0,r.Z)(c,2),u=d[0],m=d[1];return(0,o.useEffect)((function(){n.activeKey&&Number(n.activeKey)!==l.B_f.codeTeam||!F.ZP.canOperateExpenseRelationExamineFlowCodeTeam()?n.activeKey&&Number(n.activeKey)!==l.B_f.affair||!F.ZP.canOperateExpenseRelationExamineFlowAffair()?n.activeKey&&Number(n.activeKey)!==l.B_f.cost||!F.ZP.canOperateExpenseRelationExamineFlowCost()?n.activeKey&&Number(n.activeKey)!==l.B_f.noCost||!F.ZP.canOperateExpenseRelationExamineFlowNoCost()||m("".concat(l.B_f.noCost)):m("".concat(l.B_f.cost)):m("".concat(l.B_f.affair)):m("".concat(l.B_f.codeTeam))}),[n]),o.createElement(o.Fragment,null,(t=[],F.ZP.canOperateExpenseRelationExamineFlowCodeTeam()&&t.push({title:"code/team审批流",key:"".concat(l.B_f.codeTeam)}),F.ZP.canOperateExpenseRelationExamineFlowAffair()&&t.push({title:"事务审批流",key:"".concat(l.B_f.affair)}),F.ZP.canOperateExpenseRelationExamineFlowCost()&&t.push({title:"成本类审批流",key:"".concat(l.B_f.cost)}),F.ZP.canOperateExpenseRelationExamineFlowNoCost()&&t.push({title:"非成本类审批流",key:"".concat(l.B_f.noCost)}),0===t.length?o.createElement(a.Z,null):o.createElement(i.DF,{items:t,type:"card",activeKey:u,onChange:m})),Number(u)===l.B_f.codeTeam?o.createElement(C,null):Number(u)===l.B_f.affair?o.createElement(A,null):Number(u)===l.B_f.cost?o.createElement(N,null):Number(u)===l.B_f.noCost?o.createElement(J,null):void 0)}}}]);