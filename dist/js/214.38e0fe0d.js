"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[214],{8212:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(1413),o=n(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},l=n(30076),i=function(e,t){return o.createElement(l.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:r}))};i.displayName="EditOutlined";var c=o.forwardRef(i)},1846:function(e,t,n){n(29093);var a=n(16317),o=n(55609),r=n(67294),l=a.Z.Option;t.Z=(0,o.connect)((function(e){return{staffList:e.organizationStaff.staffList}}))((function(e){var t=e.dispatch,n=e.value,o=e.onChange,i=e.staffList,c=void 0===i?{}:i;(0,r.useEffect)((function(){t({type:"organizationStaff/getStaffList",payload:{page:1,limit:999}})}),[t]);var p=c.data,s=void 0===p?[]:p;return!Array.isArray(s)||s.length<1?r.createElement(a.Z,{style:{width:"70%"},placeholder:"请选择"}):r.createElement(a.Z,{value:n,placeholder:"请选择",onChange:o,style:{width:"70%"},mode:"multiple",showArrow:!0,allowClear:!0,optionFilterProp:"children"},s.map((function(e,t){return r.createElement(l,{value:e._id,key:e._id||t},e.name)})))}))},63054:function(e,t,n){n(88775);var a=n(12010),o=(n(29093),n(16317)),r=n(93433),l=n(55609),i=n(67294);t.Z=(0,l.connect)((function(e){return{depAndPostTree:e.applicationCommon.depAndPostTree}}))((function(e){var t=e.value,n=e.onChange,l=e.dispatch,c=e.depAndPostTree,p=void 0===c?[]:c,s=e.isDisabledDep;(0,i.useEffect)((function(){Array.isArray(p)&&p.length>0||l({type:"applicationCommon/getDepAndPost"})}),[l]);return!Array.isArray(p)||p.length<1?i.createElement(o.Z,{placeholder:"请选择"}):i.createElement(a.Z,{showSearch:!0,showArrow:!0,style:{width:"100%"},value:t,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"请选择",allowClear:!0,multiple:!0,filterTreeNode:function(e,t){return t.title.indexOf(e)>-1},treeDefaultExpandAll:!0,onChange:n,treeData:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){if(t.node){var n=t.leaf?(0,r.Z)(t.leaf):[],a=t.job_list?(0,r.Z)(t.job_list):[];return{title:t.node.name,value:t.node._id,key:t.node._id,jobId:t.node.job_id,disabled:!!s&&!t.node.job_id,children:e([].concat((0,r.Z)(a),(0,r.Z)(n)))}}}))}(p)})}))},20369:function(e,t,n){n(88775);var a=n(12010),o=n(55609),r=n(67294);t.Z=(0,o.connect)((function(e){return{departments:e.applicationCommon.departments}}))((function(e){var t=e.departments,n=void 0===t?{}:t,o=e.dispatch,l=e.value,i=e.onChange,c=e.multiple,p=void 0!==c&&c,s=n.default,u=void 0===s?[]:s;(0,r.useEffect)((function(){u&&Object.keys(u).length>0||o({type:"applicationCommon/fetchDepartments"})}),[o]);var m=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){if(t.node)return{title:t.node.name,value:t.node._id,key:t.node._id,children:e(t.leaf)}}))}(u),d={showArrow:!0,treeData:m,treeDefaultExpandAll:!0,value:m.length>0?l:[],filterTreeNode:function(e,t){return t.title.indexOf(e)>-1},onChange:i,showSearch:!0,allowClear:!0,multiple:p,placeholder:"请选择",style:{width:"100%"}};return r.createElement(a.Z,d)}))},5961:function(e,t,n){n(29093);var a=n(16317),o=n(96486),r=n.n(o),l=n(55609),i=n(67294),c=a.Z.Option;t.Z=(0,l.connect)((function(e){return{postTags:e.organizationStaff.postTags}}))((function(e){var t=e.dispatch,n=e.postTags,o=void 0===n?{}:n,l=e.value,p=e.onChange;(0,i.useEffect)((function(){t({type:"organizationStaff/getPostTags"})}),[t]);var s=o.records,u=void 0===s?[]:s,m=r().uniqWith(u,r().isEqual);return i.createElement(a.Z,{value:l,placeholder:"请选择",onChange:p,style:{width:"70%"},allowClear:!0,showSearch:!0,mode:"multiple",showArrow:!0},m.map((function(e,t){return i.createElement(c,{value:e,key:t},e)})))}))},54112:function(e,t,n){n(29093);var a=n(16317),o=n(55609),r=n(67294),l=a.Z.Option;t.Z=(0,o.connect)((function(e){return{enumeratedValue:e.applicationCommon.enumeratedValue}}))((function(e){var t=e.enumeratedValue,n=void 0===t?{}:t,o=e.value,i=void 0===o?[]:o,c=e.onChange,p=e.type,s=e.dispatch,u=e.isDetail;if((0,r.useEffect)((function(){s({type:"applicationCommon/getEnumeratedValue",payload:{enumeratedType:p}})}),[s,p]),Object.keys(n).length<1||!p)return r.createElement("div",null);var m=n[p]||[];return u?i.length<1?"--":(m.filter((function(e){return i.includes(e.value)}))||[]).map((function(e){return e.name})).join("、"):r.createElement(a.Z,{value:i,placeholder:"请选择",mode:"multiple",showArrow:!0,onChange:c,allowClear:!0,showSearch:!0,optionFilterProp:"children"},m.map((function(e){return r.createElement(l,{value:e.value,key:e.value},e.name)})))}))},50214:function(e,t,n){n.r(t),n.d(t,{default:function(){return wt}});var a=n(93517),o=n.n(a),r=n(55609),l=n(67294),i=n(80385),c=n(87462),p=(n(52560),n(71577)),s=(n(21316),n(75443)),u=(n(13062),n(71230)),m=(n(89032),n(15746)),d=(n(55295),n(69713)),f=(n(51838),n(48086)),v=n(15671),Z=n(43144),y=n(97326),g=n(60136),E=n(82963),w=n(61120),b=n(4942),h=(n(9070),n(20924)),x=(n(36037),n(47933)),C=(n(29093),n(16317)),I=n(45697),N=n.n(I),P=n(68628),D=n(8212),S=n(73171),O=n(8812),F=n(49101),k=n(66939),_=(n(98703),n(96036)),A=n(88144),T=n(654),j=(n(52466),n(10642)),V=(n(35668),n(86585)),L=n(29439),z=n(94315),R=n.n(z),q=(n(29394),n(94756)),U=n(96486),K=n.n(U),X="FahYWhW9DEzUqIVguIjl",H="OVnf1lu1ZQncERZtqcqv",J="JuVQAhxZto3aHPnKXLlV";function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,w.Z)(e);if(t){var o=(0,w.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,E.Z)(this,n)}}var G=function(e){(0,g.Z)(n,e);var t=B(n);function n(){var e;(0,v.Z)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o)),(0,b.Z)((0,y.Z)(e),"componentDidMount",(function(){e.props.dispatch({type:"applicationCommon/fetchAllAccountName"})})),(0,b.Z)((0,y.Z)(e),"onChangetargetKeys",(function(t){var n=e.props,a=n.onChange,o=n.allAccountNameTree.map((function(e){return e.key})),r=K().intersection(o,t);a&&a(r)})),(0,b.Z)((0,y.Z)(e),"render",(function(){return l.createElement(q.Z,{dataSource:e.props.allAccountNameTree,showSearch:!0,onChange:e.onChangetargetKeys,targetKeys:e.props.value,render:function(e){return e.title},className:H,listStyle:{height:400},titles:["全选／合计","全选／合计"]})})),e}return n}(l.Component);(0,b.Z)(G,"propTypes",{allAccountNameTree:N().array});var M=(0,r.connect)((function(e){var t=e.applicationCommon;return{allAccountNameTree:o().get(t,"allAccount.nameTree",[])}}))(G);function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,w.Z)(e);if(t){var o=(0,w.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,E.Z)(this,n)}}var W=function(e){(0,g.Z)(n,e);var t=Q(n);function n(){var e;(0,v.Z)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),(0,b.Z)((0,y.Z)(e),"componentDidMount",(function(){var t={meta:{page:1,limit:1e5},state:i.Dkk.normal};e.props.dispatch({type:"expenseExamineFlow/fetchExaminePost",payload:t})})),(0,b.Z)((0,y.Z)(e),"onChangetargetKeys",(function(t){var n=e.props.onChange;n&&n(t)})),(0,b.Z)((0,y.Z)(e),"render",(function(){var t=e.props.examinePostData,n=o().get(t,"data",[]);return l.createElement(q.Z,{dataSource:n,showSearch:!0,rowKey:function(e){return e._id},onChange:e.onChangetargetKeys,targetKeys:e.props.value,render:function(e){return e.post_name},className:J,listStyle:{height:400},titles:["全选／合计","全选／合计"]})})),e}return n}(l.Component);(0,b.Z)(W,"propTypes",{examinePostData:N().object}),(0,b.Z)(W,"defaultProps",{examinePostData:{}});var Y=(0,r.connect)((function(e){return{examinePostData:e.expenseExamineFlow.examinePostData}}))(W);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e){var t,n,a,o,r,i=function(t){var n=e.value;e.onChange&&e.onChange(ee(ee({},n),t))},c=function(e){i({accountIds:e})},p=function(e){i({postIds:e})};return l.createElement(l.Fragment,null,(t=e.value,a=(n=void 0===t?{}:t).accountIds,o=n.postIds,r={items:[{title:"按岗位",key:"post",content:l.createElement(Y,{value:o,onChange:p})},{title:"按用户",key:"user",content:l.createElement(M,{value:a,onChange:c})}],defaultActiveKey:"post"},l.createElement(_.DF,r)))};var ne=function(e){var t,n=e.targetFlowNodeName,a=e.accountIds,o=void 0===a?[]:a,r=e.postIds,i=void 0===r?[]:r,c=V.Z.useForm(),p=(0,L.Z)(c,1)[0];return(0,l.useEffect)((function(){return p.setFieldsValue({targetName:n,postUser:{accountIds:o,postIds:i}}),function(){p.setFieldsValue({targetName:"",postUser:{accountIds:[],postIds:[]}})}}),[n,o,i]),l.createElement(j.Z,{title:"审批流设置",visible:e.visible,onOk:function(){p.validateFields().then((function(t){var n=t.targetName,a=t.postUser,o=void 0===a?{}:a,r=o.postIds,l=void 0===r?[]:r,i=o.accountIds,c=void 0===i?[]:i;e.onSelect&&e.onSelect(c,l,n),e.onCancel&&e.onCancel()}))},onCancel:function(){e.onCancel&&e.onCancel(),p.resetFields()},destroyOnClose:!0},l.createElement(V.Z,{form:p,layout:"vertical"},(t=[l.createElement(V.Z.Item,{label:"节点名称设置",name:"targetName",rules:[{required:!0,message:"审批节点名称不能为空"},{pattern:/^\S+$/,message:"审批节点名称不能包含空格"}]},l.createElement(h.Z,{placeholder:"请输入节点名称",className:X})),l.createElement(V.Z.Item,{label:"节点审批人员设置",name:"postUser",rules:[{required:!0},{validator:function(e,t){var n=t.accountIds,a=t.postIds,o=R().not.existy(n)||R().empty(n)?a:n;return R().not.existy(o)||R().empty(o)?Promise.reject(new Error("节点审批人员至少要有一个用户或者岗位")):Promise.resolve()}}]},l.createElement(te,null))],l.createElement(_.Fp,{items:t,cols:1}))))},ae=n(40176);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,w.Z)(e);if(t){var o=(0,w.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,E.Z)(this,n)}}var ie=C.Z.Option,ce=x.ZP.Group,pe=x.ZP.Button,se=k.Z.Item,ue=h.Z.TextArea,me=function(e){(0,g.Z)(n,e);var t=le(n);function n(e){var a;return(0,v.Z)(this,n),a=t.call(this,e),(0,b.Z)((0,y.Z)(a),"componentWillUnmount",(function(){a.setState({nodeList:[],accountIds:[],postIds:[]});var e=a.props.dispatch;e({type:"expenseExamineFlow/resetExamineFlowDetail"}),e({type:"applicationCommon/resetEnumeratedValue",payload:{}})})),(0,b.Z)((0,y.Z)(a),"onChangeScense",(function(e){a.props.form.setFieldsValue({platformCodes:void 0,costCatalogScope:void 0}),a.setState({scense:e})})),(0,b.Z)((0,y.Z)(a),"onSubmitUpdate",(function(e){if(e.preventDefault(),a.private.isSubmit){var t=a.props,n=t.examineDetail,o=void 0===n?{}:n,r=t.form,l=t.dispatch,i=a.state,c=i.nodeList,p=void 0===c?[]:c,s=i.flowId;if(0===p.length)return f.ZP.error("审批流节点设置不能为空");if(p.filter((function(e){return e.isPaymentNode})).length>1)return f.ZP.error("同一审批流不能出现多个付款节点");var u=o.bizType;r.validateFieldsAndScroll((function(e,t){e||(a.private.isSubmit=!1,l({type:"expenseExamineFlow/updateExamineFlow",payload:re(re({id:s,onSuccessCallback:a.onUpdateSuccessCallback},t),{},{bizType:u,onFailureCallback:a.onFailureCallback})}))}))}})),(0,b.Z)((0,y.Z)(a),"onFailureCallback",(function(){a.private.isSubmit=!0})),(0,b.Z)((0,y.Z)(a),"onCancelUpdate",(function(){window.location.href="/#/Expense/ExamineFlow/Process?isSetStorageSearchValue=true"})),(0,b.Z)((0,y.Z)(a),"onUpdateSuccessCallback",(function(){a.private.isSubmit=!0,window.location.href="/#/Expense/ExamineFlow/Process?isSetStorageSearchValue=true"})),(0,b.Z)((0,y.Z)(a),"onClickTransfor",(function(){a.setState({newVisible:!0,isEditFlowNode:!1})})),(0,b.Z)((0,y.Z)(a),"onClickChange",(function(e,t,n,o,r,l,i){a.setState({newVisible:!0,isEditFlowNode:!0,targetFlowNodeId:e,targetFlowNodeName:t,accountIds:n,postIds:o,index:r,level:l,levelNum:i})})),(0,b.Z)((0,y.Z)(a),"onCancelTransfor",(function(){a.setState({newVisible:!1,accountIds:[],postIds:[],isEditFlowNode:!1,targetFlowNodeId:void 0,targetFlowNodeName:"",level:void 0,levelNum:void 0})})),(0,b.Z)((0,y.Z)(a),"onSelectTransfor",(function(e,t,n,o,r){var l=a.state,i=l.flowId,c=l.targetFlowNodeId,p=l.isEditFlowNode,s=l.nodeList,u=void 0===s?[]:s,m=l.index;!0===p&&void 0!==c?a.props.dispatch({type:"expenseExamineFlow/updateExamineFlowNode",payload:{flowId:i,nodeId:u[m].id,record:{name:n,postIds:t,accountIds:e,level:o,levelNum:r},onSuccessCallback:a.onSuccessChangeCallback.bind((0,y.Z)(a),m)}}):a.props.dispatch({type:"expenseExamineFlow/createExamineFlowNode",payload:{id:i,record:{name:n,postIds:t,accountIds:e,level:o,levelNum:r},onSuccessCallback:a.onSuccessCallback}})})),(0,b.Z)((0,y.Z)(a),"onClickFlowNodeEdit",(function(e){var t=a.state.value[e];a.setState({newVisible:!0,accountIds:t,isEditFlowNode:!0,index:e})})),(0,b.Z)((0,y.Z)(a),"onSuccessCallback",(function(e){if(void 0!==e.record){var t=a.state.nodeList,n=void 0===t?[]:t;n.push(ae.A2.mapper(e.record,ae.A2)),a.setState({nodeList:n})}})),(0,b.Z)((0,y.Z)(a),"onChangeSelect",(function(e,t){var n=a.state,o=n.nodeList,r=void 0===o?[]:o,l=n.flowId;a.setState({index:t});var i=r[t].accountIds,c=r[t].postIds;a.props.dispatch({type:"expenseExamineFlow/updateExamineFlowNode",payload:{flowId:l,nodeId:r[t].id,record:{name:r[t].name,costUpdateRule:e,accountIds:i,postIds:c},onSuccessCallback:a.onSuccessChangeCallback.bind((0,y.Z)(a),t)}})})),(0,b.Z)((0,y.Z)(a),"onChangeApproval",(function(e,t){var n=a.state,o=n.nodeList,r=void 0===o?[]:o,l=n.flowId;a.setState({index:t});var i=r[t].accountIds,c=r[t].postIds;a.props.dispatch({type:"expenseExamineFlow/updateExamineFlowNode",payload:{flowId:l,nodeId:r[t].id,record:{name:r[t].name,approveMode:e,accountIds:i,postIds:c},onSuccessCallback:a.onSuccessChangeCallback.bind((0,y.Z)(a),t)}})})),(0,b.Z)((0,y.Z)(a),"onChangeAssigned",(function(e,t){var n=a.state,o=n.nodeList,r=void 0===o?[]:o,l=n.flowId,i=r[t].accountIds,c=r[t].postIds;a.props.dispatch({type:"expenseExamineFlow/updateExamineFlowNode",payload:{flowId:l,nodeId:r[t].id,record:{name:r[t].name,pickMode:e,accountIds:i,postIds:c},onSuccessCallback:a.onSuccessChangeCallback.bind((0,y.Z)(a),t)}})})),(0,b.Z)((0,y.Z)(a),"onChangeCanUpdateCostRecord",(function(e,t){var n=a.state,o=n.nodeList,r=void 0===o?[]:o,l=n.flowId;a.setState({index:t});var i=r[t].accountIds,c=r[t].postIds;a.props.dispatch({type:"expenseExamineFlow/updateExamineFlowNode",payload:{flowId:l,nodeId:r[t].id,record:{name:r[t].name,canUpdateCostRecord:e.target.value,accountIds:i,postIds:c},onSuccessCallback:a.onSuccessChangeCallback.bind((0,y.Z)(a),t)}})})),(0,b.Z)((0,y.Z)(a),"onChangePaymentNode",(function(e,t){var n=a.state,o=n.nodeList,r=void 0===o?[]:o,l=n.flowId;a.setState({index:t});var i=(r[t]||{}).isInspectBillNode;if(!0===(void 0!==i&&i))return f.ZP.error("同一个审批流节点中，标记付款、标记验票只能选择一个“是”");if(!0===r.some((function(e){return!0===e.isPaymentNode}))&&!0===e.target.value)return f.ZP.error("同一审批流不能出现多个付款节点");var c=r[t].accountIds,p=r[t].postIds;a.props.dispatch({type:"expenseExamineFlow/updateExamineFlowNode",payload:{flowId:l,nodeId:r[t].id,record:{name:r[t].name,isPaymentNode:e.target.value,accountIds:c,postIds:p},onSuccessCallback:a.onSuccessChangeCallback.bind((0,y.Z)(a),t)}})})),(0,b.Z)((0,y.Z)(a),"onChangeCheckTicket",(function(e,t){a.setState({index:t});var n=a.state,o=n.nodeList,r=void 0===o?[]:o,l=n.flowId,i=(r[t]||{}).isPaymentNode;if(!0===(void 0!==i&&i))return f.ZP.error("同一个审批流节点中，标记付款、标记验票只能选择一个“是”");if((r.filter((function(e){return!0===e.isInspectBillNode})).length||0)>=1&&!0===e.target.value)return f.ZP.error("同一个审批流中，只能有一个标记验票的节点");var c=r[t].accountIds,p=r[t].postIds;a.props.dispatch({type:"expenseExamineFlow/updateExamineFlowNode",payload:{flowId:l,nodeId:r[t].id,record:{name:r[t].name,accountIds:c,postIds:p,isInspectBillNode:e.target.value},onSuccessCallback:a.onSuccessChangeCallback.bind((0,y.Z)(a),t)}})})),(0,b.Z)((0,y.Z)(a),"onClickRemove",(function(e,t){var n=a.state.flowId;a.setState({index:t}),a.props.dispatch({type:"expenseExamineFlow/deleteExamineFlowNode",payload:{flowId:n,nodeId:e,onSuccessRemoveCallback:a.onSuccessRemoveCallback}})})),(0,b.Z)((0,y.Z)(a),"onSuccessChangeCallback",(function(e,t){if(void 0!==t.record){var n=a.state.nodeList,o=void 0===n?[]:n;o[e]=ae.A2.mapper(t.record,ae.A2),a.setState({nodeList:o})}})),(0,b.Z)((0,y.Z)(a),"onSuccessRemoveCallback",(function(){var e=a.state,t=e.nodeList,n=e.index;t.splice(n,1),a.setState({nodeList:t})})),(0,b.Z)((0,y.Z)(a),"onTreeSelectorFilter",(function(e,t){return!!(e.trim()&&t&&t.props&&-1!==t.props.title.trim().indexOf(e.trim()))})),(0,b.Z)((0,y.Z)(a),"renderProcessName",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return l.createElement("div",null,e.map((function(t,n){return l.createElement("span",{key:n,className:T.Z["app-comp-expense-examine-flow-form-node-name"]},t.name,Number(t.state)===i.m3m.off?"(".concat(i.m3m.description(t.state),")"):"",n!==e.length-1?l.createElement("strong",{className:T.Z["app-comp-expense-examine-flow-form-node-text"]},"|"):null)})),t.length>0&&e.length>0?l.createElement("span",{className:T.Z["app-comp-expense-examine-flow-form-node-name"]},l.createElement("strong",{className:T.Z["app-comp-expense-examine-flow-form-node-text"]},"|")):"",t.map((function(e,n){return l.createElement("span",{key:n,className:T.Z["app-comp-expense-examine-flow-form-node-name"]},e.post_name,n!==t.length-1?l.createElement("strong",{className:T.Z["app-comp-expense-examine-flow-form-node-text"]},"|"):null)})))})),(0,b.Z)((0,y.Z)(a),"renderPostListName",(function(e){return l.createElement("div",null,e.map((function(t,n){return l.createElement("span",{key:n,className:T.Z["app-comp-expense-examine-flow-form-node-name"]},t.post_name,n!==e.length-1?l.createElement("strong",{className:T.Z["app-comp-expense-examine-flow-form-node-text"]},"|"):null)})))})),(0,b.Z)((0,y.Z)(a),"renderForm",(function(){var e=a.state.scense,t=void 0===e?void 0:e,n=a.props.form.getFieldDecorator,r=a.props.examineDetail,c=void 0===r?{}:r,p=[{label:"审批流名称",layout:{labelCol:{span:4},wrapperCol:{span:18}},form:n("name",{rules:[{required:!0,message:"请输入审批流名称"},{max:20,message:"字数过多"}],initialValue:c.name})(l.createElement(h.Z,{placeholder:"请填写内容"}))},{label:"审批流类型",layout:{labelCol:{span:4},wrapperCol:{span:18}},form:i.z_o.description(c.bizType)},{label:"适用类型",layout:{labelCol:{span:4},wrapperCol:{span:18}},form:n("applyApplicationTypes",{rules:[{required:!0,message:"请选择审批流适用类型"}],initialValue:c.applyApplicationTypes})(l.createElement(A.UU,{mode:"multiple",showArrow:!0,examineFlowBiz:c.bizType,enumeratedType:"examineFlowApplyApplicationTypes"}))}];return c.bizType===i.z_o.costOf&&(p[p.length]={label:"适用场景",layout:{labelCol:{span:4},wrapperCol:{span:18}},form:n("scense",{rules:[{required:!0,message:"请选择适用场景"}],initialValue:o().get(c,"industryCodes.0",void 0)})(l.createElement(A.UU,{enumeratedType:"subjectScense",onChange:a.onChangeScense}))}),p[p.length]={label:"使用范围",layout:{labelCol:{span:4},wrapperCol:{span:18}},form:n("platformCodes",{rules:[{required:!0,message:"请选择使用范围"}],initialValue:c.platformCodes?c.platformCodes[0]:void 0})(l.createElement(A.Yg,{allowClear:!0,showSearch:!0,optionFilterProp:"children",placeholder:"请选择使用范围",scense:t}))},c.bizType===i.z_o.costOf&&p.push({label:"默认模版",layout:{labelCol:{span:4},wrapperCol:{span:18}},form:n("template",{rules:[{required:!0,message:"请选择模版"}],initialValue:c.extraUiOptions?"".concat(c.extraUiOptions.form_template):"".concat(i.z_o.costOf)})(l.createElement(C.Z,{placeholder:"请选择模版"},l.createElement(ie,{value:"".concat(i.$9p.refund)},i.$9p.description(i.$9p.refund))))},{label:"费用分组",layout:{labelCol:{span:4},wrapperCol:{span:18}},form:n("costCatalogScope",{rules:[{required:!0,message:"请选择费用分组"}],initialValue:c.costCatalogScope||[]})(l.createElement(A.G_,{placeholder:"请选择费用分组",mode:"multiple",showArrow:!0,allowClear:!0,optionFilterProp:"children",scense:t}))},{label:"审批流描述",layout:{labelCol:{span:4},wrapperCol:{span:18}},form:n("note",{rules:[{max:200,message:"字数过多"}],initialValue:c.note})(l.createElement(ue,{autoSize:{minRows:5},placeholder:"请输入审批流描述(选填)"}))}),l.createElement("div",null,l.createElement(_.KP,{items:p,cols:1,layout:{labelCol:{span:6},wrapperCol:{span:18}},className:T.Z["app-comp-expense-examine-flow-form-info"]}))})),(0,b.Z)((0,y.Z)(a),"renderCostRecord",(function(e){var t=a.props.examineDetail,n=void 0===t?{}:t,o=a.state.nodeList,r=o[e].approveLevelType,c=!!(void 0===r?void 0:r);return n.bizType===i.z_o.costOf?l.createElement(l.Fragment,null,l.createElement("div",{className:T.Z["app-comp-expense-node-label"]},"调    控"),l.createElement(ce,{name:"canUpdateCostRecord",size:"small",className:T.Z["app-comp-expense-examine-flow-form-regulation"],value:o[e].canUpdateCostRecord,onChange:function(t){a.onChangeCanUpdateCostRecord(t,e)},disabled:c},l.createElement(pe,{value:i.HcC.no},i.HcC.description(i.HcC.no)),l.createElement(pe,{value:i.HcC.is},i.HcC.description(i.HcC.is)))):null})),(0,b.Z)((0,y.Z)(a),"renderSelect",(function(e){var t=a.state.nodeList,n=a.props.examineDetail,o=void 0===n?{}:n,r=o.bizType,c=t[e].approveLevelType,p=!!(void 0===c?void 0:c),s=t[e].canUpdateCostRecord===i.HcC.no,u=Number(t[e].approveMode)===i.Fv8.all;return l.createElement("div",{layout:"vertical"},a.renderCostRecord(e),o.bizType===i.z_o.costOf?l.createElement(C.Z,{size:"small",placeholder:"请选择金额调整",className:T.Z["app-comp-expense-examine-flow-form-amount"],value:"".concat(t[e].costUpdateRule),disabled:s||p,onChange:function(t){a.onChangeSelect(t,e)}},l.createElement(ie,{value:"".concat(i.E_Z.upward)},i.E_Z.description(i.E_Z.upward)),l.createElement(ie,{value:"".concat(i.E_Z.down)},i.E_Z.description(i.E_Z.down)),l.createElement(ie,{value:"".concat(i.E_Z.any)},i.E_Z.description(i.E_Z.any))):null,l.createElement("div",{className:T.Z["app-comp-expense-node-label"]},"审批规则"),l.createElement(C.Z,{size:"small",placeholder:"请选择审批规则",className:T.Z["app-comp-expense-examine-flow-form-rules"],value:"".concat(t[e].approveMode),onChange:function(t){a.onChangeApproval(t,e)},disabled:p},l.createElement(ie,{value:"".concat(i.Fv8.all)},i.Fv8.description(i.Fv8.all)),l.createElement(ie,{value:"".concat(i.Fv8.any)},i.Fv8.description(i.Fv8.any))),l.createElement(C.Z,{size:"small",placeholder:"请选择",className:T.Z["app-comp-expense-examine-flow-form-any"],value:"".concat(t[e].pickMode),disabled:u||p,onChange:function(t){a.onChangeAssigned(t,e)}},l.createElement(ie,{value:"".concat(i.zn9.automatic)},i.zn9.description(i.zn9.automatic)),l.createElement(ie,{value:"".concat(i.zn9.manual)},i.zn9.description(i.zn9.manual))),l.createElement("div",{className:T.Z["app-comp-expense-node-label"]},"标记付款"),l.createElement(ce,{name:"paymentNode",size:"small",value:t[e].isPaymentNode,onChange:function(t){a.onChangePaymentNode(t,e)},disabled:p},l.createElement(pe,{value:!1},"否"),l.createElement(pe,{value:!0},"是")),l.createElement("div",{className:T.Z["app-comp-expense-node-label"]},"标记验票",l.createElement(d.Z,{title:"适用的审批单审批类型：费用申请、差旅报销"},l.createElement("span",{className:T.Z["app-comp-expense-node-ticket-title"]},l.createElement(P.Z,null)))),l.createElement(ce,{disabled:r===i.z_o.noCostOf,name:"paymentNode",size:"small",value:t[e].isInspectBillNode,onChange:function(t){a.onChangeCheckTicket(t,e)}},l.createElement(pe,{value:!1},"否"),l.createElement(pe,{value:!0},"是")))})),(0,b.Z)((0,y.Z)(a),"renderProcessGroup",(function(){var e=a.state.nodeList,t=[];return e.forEach((function(e,n){t.push(l.createElement(m.Z,{className:T.Z["app-comp-expense-node-operate"],key:n},l.createElement(u.Z,{className:T.Z["app-comp-expense-node-people-container"],span:24},l.createElement(m.Z,{span:24},l.createElement(u.Z,{span:24,className:T.Z["app-comp-expense-node-name"]},l.createElement(m.Z,{span:24},l.createElement("span",{className:T.Z["app-comp-expense-round"]}),e.name)),l.createElement(u.Z,{span:24,className:T.Z["app-comp-expense-node-approval-people"]},a.renderProcessName(e.accountList,e.postList)),l.createElement(u.Z,{span:24,className:T.Z["app-comp-expense-node-people-content"]},a.renderSelect(n)),l.createElement(u.Z,{span:24,gutter:0,type:"flex",justify:"center",align:"middle"},l.createElement(m.Z,{span:12,className:T.Z["app-comp-expense-node-people-button"]},l.createElement("span",{className:T.Z["app-comp-expense-examine-flow-form-modify-button"],onClick:function(){a.onClickChange(e.id,e.name,e.accountIds,e.postIds,n)}},l.createElement(D.Z,null)," 修改 ")),l.createElement(m.Z,{span:12,className:T.Z["app-comp-expense-node-people-button"]},l.createElement(s.Z,{title:"确认删除当前节点?",onConfirm:function(){a.onClickRemove(e.id,n)},okText:"删除",cancelText:"取消"},l.createElement("span",{className:T.Z["app-comp-expense-examine-flow-form-detele-button"]},l.createElement(S.Z,null)," 删除 ")))))))),t.push(l.createElement(m.Z,{span:1,key:"key-".concat(n),className:T.Z["app-comp-expense-node-arrow"]},l.createElement(O.Z,{className:T.Z["app-comp-expense-examine-flow-form-icon"]})))})),t})),(0,b.Z)((0,y.Z)(a),"renderProcess",(function(){return l.createElement(u.Z,{span:24,gutter:8,type:"flex",align:"middle"},l.createElement(m.Z,{span:1,className:T.Z["app-comp-expense-node"]},l.createElement(u.Z,{span:24,gutter:8,type:"flex",align:"middle",className:T.Z["app-comp-expense-examine-flow-form-process"]},l.createElement(m.Z,{span:24},l.createElement("span",{className:T.Z["app-comp-expense-examine-flow-form-apply"]},"申请人")))),l.createElement(m.Z,{span:1,className:T.Z["app-comp-expense-node-arrow"]},l.createElement(O.Z,{className:T.Z["app-comp-expense-examine-flow-form-icon"]})),a.renderProcessGroup(),l.createElement(m.Z,{className:T.Z["app-comp-expense-add-node-operate"]},l.createElement(p.Z,{icon:l.createElement(F.Z,null),type:"primary",onClick:a.onClickTransfor},"新增节点")))})),(0,b.Z)((0,y.Z)(a),"renderFlowNodeOperateAccounts",(function(){var e=a.state,t=e.isEditFlowNode,n=e.targetFlowNodeId,o=e.accountIds,r=e.postIds,i=e.targetFlowNodeName,c=e.newVisible,p=e.level,s=e.levelNum,u=a.props.examineDetail,m=void 0===u?{}:u,d={isEditFlowNode:t,targetFlowNodeId:n,accountIds:o,postIds:r,targetFlowNodeName:i,onCancel:a.onCancelTransfor,visible:c,onSelect:a.onSelectTransfor,level:p,levelNum:s,examineDetail:m};return l.createElement(ne,d)})),(0,b.Z)((0,y.Z)(a),"render",(function(){var e=o().get(a.props,"location.query.flowId",void 0),t=a.props.examineDetail,n=void 0===t?{}:t;return e&&Object.keys(n).length<=0?l.createElement("div",null):l.createElement(k.Z,null,l.createElement(_.IT,{title:"审批流详情设置"},a.renderForm()),l.createElement(_.IT,{title:"审批流节点设置"},l.createElement(se,(0,c.Z)({},{labelCol:{span:2},wrapperCol:{span:22}},{key:"operate",className:T.Z["app-comp-expense-examine-flow-form-setting"]}),l.createElement("div",null,a.renderProcess())),l.createElement(se,{className:T.Z["app-comp-expense-examine-flow-form-button"]},l.createElement(p.Z,{type:"primary",onClick:a.onSubmitUpdate,className:T.Z["app-comp-expense-examine-flow-form-submit"]},"确定"),l.createElement(p.Z,{type:"default",onClick:a.onCancelUpdate},"取消"))),a.renderFlowNodeOperateAccounts())})),a.state={nodeList:o().get(e,"examineDetail.nodeList",[]),flowId:o().get(e,"flowId",void 0),newVisible:!1,template:i.$9p.refund,value:[],accountIds:[],postIds:[],targetFlowNodeId:void 0,targetFlowNodeName:"",isEditFlowNode:!1,index:0,level:void 0,levelNum:void 0,scense:void 0},a.private={isSubmit:!0},a}return(0,Z.Z)(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.scense,a=o().get(e,"examineDetail.industryCodes.0",void 0);return n||n===a?null:{scense:a}}}]),n}(l.Component);(0,b.Z)(me,"propTypes",{examineDetail:N().object}),(0,b.Z)(me,"defaultProps",{examineDetail:{}});var de=k.Z.create()(me),fe=(0,r.connect)()(de),ve=n(93433),Ze=n(15861),ye=(n(9523),n(51752)),ge=n(87757),Ee=n.n(ge),we=n(97116),be=n(24031),he=C.Z.Option,xe=(0,r.connect)((function(e){return{staffList:e.organizationStaff.staffList}}))((function(e){var t=e.dispatch,n=e.staffList,a=void 0===n?{}:n,o=e.value,r=e.onChange;(0,l.useEffect)((function(){t({type:"organizationStaff/getStaffList",payload:{limit:999,page:1}})}),[t]);var i=a.data,c=(void 0===i?[]:i).map((function(e){return e.rank})).filter((function(e){return e})),p=K().uniqWith(c,K().isEqual);return l.createElement(u.Z,null,l.createElement(m.Z,{span:16},l.createElement(C.Z,{value:o,placeholder:"请选择岗位职级",mode:"multiple",onChange:r,allowClear:!0,showArrow:!0},p.map((function(e){return l.createElement(he,{value:e,key:e},e)})))),l.createElement(m.Z,{span:8},l.createElement("div",{className:be.Z["affairs-flow-update-node-rank"]},"岗位职级不选择，默认适用所有职级")))})),Ce=n(5961),Ie=n(1846);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De=function(e){var t=e.value,n=e.onChange,a=(0,l.useState)(t.type),o=(0,L.Z)(a,2),r=o[0],c=o[1],p=(0,l.useState)([]),s=(0,L.Z)(p,2),u=s[0],m=s[1],d=(0,l.useState)([]),f=(0,L.Z)(d,2),v=f[0],Z=f[1],y=function(e){n&&n(Pe(Pe({type:r,tags:u,post:v},t),e))},g=function(e){"tags"in t||m(e),y({tags:e})},E=function(e){"post"in t||Z(e),y({post:e})};return l.createElement(l.Fragment,null,l.createElement(x.ZP.Group,{value:t.type,onChange:function(e){var t=e.target.value;c(t),y({type:t,post:[],tags:[]})}},l.createElement(x.ZP,{value:i.mqh.tag},i.mqh.description(i.mqh.tag)),l.createElement(x.ZP,{value:i.mqh.post},i.mqh.description(i.mqh.post))),r===i.mqh.tag?l.createElement(Ce.Z,{value:t.tags,onChange:g}):r===i.mqh.post?l.createElement(Ie.Z,{value:t.post,onChange:E}):void 0)},Se=n(20369),Oe=(n(88775),n(12010)),Fe=(0,r.connect)((function(e){return{depAndPostTree:e.applicationCommon.depAndPostTree}}))((function(e){var t=e.dispatch,n=e.value,a=e.onChange,o=e.multiple,r=void 0!==o&&o,i=e.depAndPostTree,c=void 0===i?[]:i,p=e.isDisabledPost,s=void 0!==p&&p;(0,l.useEffect)((function(){c&&c.length>0||t({type:"applicationCommon/getDepAndPost"})}),[t]);var u=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){if(t.node){var n=t.leaf?(0,ve.Z)(t.leaf):[],a=t.job_list?(0,ve.Z)(t.job_list):[];return{title:t.node.name,value:t.node._id,key:t.node._id,jobId:t.node.job_id,disabled:s&&Boolean(t.node.job_id),children:e([].concat((0,ve.Z)(a),(0,ve.Z)(n)))}}}))}(c),m={treeData:u,value:u.length>0?n:[],onChange:a,filterTreeNode:function(e,t){return t.title.indexOf(e)>-1},showSearch:!0,allowClear:!0,multiple:r,treeDefaultExpandAll:!0,placeholder:"请选择",style:{width:"100%"}};return l.createElement(Oe.Z,m)})),ke=n(54112),_e=n(8240),Ae=C.Z.Option;var Te=(0,r.connect)((function(e){return{contractTypeData:e.expenseExamineFlow.contractTypeData}}))((function(e){var t=e.dispatch,n=e.mode,a=e.contractTypeData,o=e.onChange;(0,l.useEffect)((function(){t({type:"expenseExamineFlow/fetchContractType",payload:{}})}),[]);var r=(a||{}).pact_types_has_sub_types||{};return l.createElement(C.Z,(0,c.Z)({allowClear:!0,showSearch:!0,placeholder:"请选择",optionFilterProp:"children",mode:n},(0,_e.CE)(["dispatch","contractTypeData"],e),{onChange:function(e,t){return o(e,t,r)}}),Object.keys(r).map((function(e){return l.createElement(Ae,{value:e,key:e},r[e].name)})))})),je=C.Z.Option;var Ve=(0,r.connect)((function(e){return{contractTypeData:e.expenseExamineFlow.contractTypeData}}))((function(e){var t=e.mode,n=e.contractTypeData,a=e.contractTypeValueState,o=e.setContractChildIsData,r=(n||{}).pact_types_has_sub_types||{},i=[];return a.map((function(e){var t=(r[e]||{}).sub_types||{};R().empty(t)||Object.keys(t).map((function(e){i.push({key:e,name:t[e]})}))})),R().empty(i)?o(!1):o(!0),l.createElement(C.Z,(0,c.Z)({allowClear:!0,showSearch:!0,optionFilterProp:"children",mode:t,disabled:!!R().empty(i)},(0,_e.CE)(["dispatch","contractTypeData","contractTypeValueState"],e)),i.map((function(e){return l.createElement(je,{value:e.key,key:e.key},e.name)})))})),Le=n(97418),ze=C.Z.Option,Re=h.Z.TextArea,qe={labelCol:{span:3},wrapperCol:{span:14}},Ue=[101,102,105,108,109],Ke=[107,303,301,302,306,405,406,309],Xe=102,He=(0,l.forwardRef)((function(e,t){var n=e.examineDetail,a=void 0===n?{}:n,r=V.Z.useForm(),p=(0,L.Z)(r,1)[0],s=a.nodeList,u=void 0===s?[]:s,m=(0,l.useState)(o().get(a,"applyDepartmentIds",[])),v=(0,L.Z)(m,2),Z=v[0],y=v[1],g=(0,l.useState)(o().get(a,"applyDepartmentSubIds",[])),E=(0,L.Z)(g,2),w=E[0],b=E[1],x=(0,l.useState)(o().get(a,"viewDepartmentIds",[])),I=(0,L.Z)(x,2),N=I[0],D=I[1],S=(0,l.useState)(o().get(a,"viewDepartmentSubIds",[])),O=(0,L.Z)(S,2),F=O[0],k=O[1],T=(0,l.useState)(o().get(a,"viewDepartmentJobIds",[])),j=(0,L.Z)(T,2),z=j[0],q=j[1],U=(0,l.useState)(o().get(a,"applyApplicationTypes.0",void 0)),K=(0,L.Z)(U,2),X=K[0],H=K[1],J=(0,l.useState)(o().get(a,"organization_sub_types",[])),B=(0,L.Z)(J,2),G=B[0],M=B[1],Q=(0,l.useState)(!1),W=(0,L.Z)(Q,2),Y=W[0],$=W[1],ee=(0,l.useState)([]),te=(0,L.Z)(ee,2),ne=te[0],ae=te[1],oe=(0,l.useState)(!0),re=(0,L.Z)(oe,2),le=re[0],ie=re[1];(0,l.useEffect)((function(){R().existy(a.pactTypes)&&R().array(a.pactTypes)&&(a.pactTypes.includes(180)||a.pactTypes.includes(170))&&$(!0),o().get(a,"pactApplyTypes",[]).length>0&&ae(a.pactApplyTypes)}),[]);var ce=l.createElement("span",null,"最高审批岗位",l.createElement(d.Z,{title:"按照组织架构层级关系审批时设置终点"},l.createElement(P.Z,{style:{marginLeft:5}}))),pe=[{required:N.length<1&&F.length<1&&z.length<1,message:"请选择"}],se=function(e){var t=e.some((function(e){return e!==i.KV8.addendum})),n=u.map((function(e){return e.organizationApproveType}));return!Ue.includes(Number(X))&&n.includes(i.agl.fieldDep)&&!0===t?(f.ZP.error("节点中有设置指定特殊部门，不能选择除增编之外的类型"),G):(M(e),e)},ue=[l.createElement(V.Z.Item,(0,c.Z)({label:"审批流名称",name:"name",rules:[{required:!0,message:"请输入审批流名称"},{pattern:/^\S+$/,message:"审批流名称不能包含空格"}]},qe),l.createElement(h.Z,{placeholder:"请填写内容"})),l.createElement(V.Z.Item,(0,c.Z)({label:"审批流类型",className:"affairs-detail-form-item"},qe),l.createElement("span",null,"事务性")),l.createElement(V.Z.Item,(0,c.Z)({label:"适用类型",name:"scense",rules:[{required:!0,message:"请选择审批流适用类型"}],getValueFromEvent:function(e){var t=u.map((function(e){return e.organizationApproveType})),n=u.map((function(e){return e.accountApproveType}));return!Ue.includes(Number(e))&&t.includes(i.agl.fieldDep)?(f.ZP.error("节点中有设置指定特殊部门，不能切换"),X):!Ke.includes(e)&&n.includes(i.Evl.fieldAccount)?(f.ZP.error("节点中有设置指定字段人，不能切换"),X):(p.setFieldsValue({sealType:void 0,licenseType:void 0,contractType:void 0,stampType:void 0,departmentSubtype:void 0}),H(e),M([]),e)}},qe),l.createElement(A.UU,{enumeratedType:"affairs"})),l.createElement(V.Z.Item,{key:"department_subtype",noStyle:!0,shouldUpdate:function(e,t){return e.scense!==t.scense}},(function(e){return(0,e.getFieldValue)("scense")!==Le.z0.getDepartmentPostKey()?null:l.createElement(V.Z.Item,(0,c.Z)({label:"调整子类型",name:"departmentSubtype",rules:[{required:!0,message:"请选择"}]},qe,{getValueFromEvent:se}),l.createElement(C.Z,{placeholder:"请选择",mode:"multiple",showSearch:!0,optionFilterProp:"children",allowClear:!0,showArrow:!0},l.createElement(ze,{value:i.KV8.newAdd},i.KV8.description(i.KV8.newAdd)),l.createElement(ze,{value:i.KV8.adjustment},i.KV8.description(i.KV8.adjustment)),l.createElement(ze,{value:i.KV8.abolition},i.KV8.description(i.KV8.abolition)),l.createElement(ze,{value:i.KV8.addPost},i.KV8.description(i.KV8.addPost)),l.createElement(ze,{value:i.KV8.addendum},i.KV8.description(i.KV8.addendum)),l.createElement(ze,{value:i.KV8.reduceStaff},i.KV8.description(i.KV8.reduceStaff))))})),l.createElement(V.Z.Item,{key:"applyRanks",shouldUpdate:function(e,t){return e.scense!==t.scense},noStyle:!0},(function(e){var t=(0,e.getFieldValue)("scense");return t===Le.z0.getDepartmentPostKey()||t===Xe?null:l.createElement(V.Z.Item,{label:"岗位职级",name:"applyRanks",labelCol:{span:3},wrapperCol:{span:21}},l.createElement(xe,null))})),l.createElement(V.Z.Item,(0,c.Z)({label:"合并审批",name:"applicationRule",rules:[{required:!0,message:"请选择合并审批"}]},qe),l.createElement(C.Z,{placeholder:"请选择合并审批"},l.createElement(ze,{value:i.Ni9.continuous},i.Ni9.description(i.Ni9.continuous)),l.createElement(ze,{value:i.Ni9.each},i.Ni9.description(i.Ni9.each)))),l.createElement("div",{style:{marginBottom:10,fontWeight:500}},"适用部门"),l.createElement(V.Z.Item,(0,c.Z)({name:"allDep",label:"适用本部门+子部门"},qe,{rules:[{required:Z.length<1&&w.length<1,message:"请选择"}]}),l.createElement(Se.Z,{multiple:!0,onChange:function(e){return b(e)}})),l.createElement(V.Z.Item,(0,c.Z)({name:"selfDep",label:"仅适用本部门"},qe,{rules:[{required:Z.length<1&&w.length<1,message:"请选择"}]}),l.createElement(Se.Z,{multiple:!0,onChange:function(e){return y(e)}})),l.createElement("div",{style:{marginBottom:10,fontWeight:500}},"可见范围"),l.createElement(V.Z.Item,(0,c.Z)({name:"viewAllDep",label:"适用本部门+子部门"},qe,{rules:pe}),l.createElement(Fe,{multiple:!0,isDisabledPost:!0,onChange:function(e){return k(e)}})),l.createElement(V.Z.Item,(0,c.Z)({name:"viewSelfDep",label:"仅适用本部门"},qe,{rules:pe}),l.createElement(Fe,{multiple:!0,isDisabledPost:!0,onChange:function(e){return D(e)}})),l.createElement(V.Z.Item,(0,c.Z)({name:"viewRelaJobId",label:"自定义岗位"},qe,{rules:pe}),l.createElement(Fe,{multiple:!0,isDisabledDep:!0,onChange:function(e){return q(e)}})),l.createElement(V.Z.Item,(0,c.Z)({label:ce,name:"highestPost"},qe),l.createElement(De,null)),l.createElement(V.Z.Item,(0,c.Z)({label:"描述",name:"note",rules:[{max:200,message:"字数过多"}]},qe),l.createElement(Re,{autoSize:{minRows:5},placeholder:"请输入审批流描述(选填)"}))];303!==X&&309!==X||ue.splice(4,0,l.createElement(V.Z.Item,(0,c.Z)({name:"sealType",label:"印章类型"},qe,{rules:[{required:!0,message:"请选择"}]}),l.createElement(ke.Z,{type:"flowSealType"}))),306===X&&ue.splice(4,0,l.createElement(V.Z.Item,(0,c.Z)({name:"licenseType",label:"类型"},qe,{rules:[{required:!0,message:"请选择"}]}),l.createElement(ke.Z,{type:"license"}))),406===X&&ue.splice(4,0,l.createElement(V.Z.Item,(0,c.Z)({name:"contractType",label:"类型"},qe,{rules:[{required:!0,message:"请选择"}]}),l.createElement(ke.Z,{type:"contract"}))),405===X&&(ue.splice(3,0,l.createElement(V.Z.Item,(0,c.Z)({name:"stampType",label:"会审类型"},qe,{rules:[{required:!0,message:"请选择"}],getValueFromEvent:function(e){return p.setFieldsValue({pactApplyTypes:void 0}),ae([]),e.includes("170")||e.includes("180")?($(!0),e):($(!1),e)}}),l.createElement(A.gB,{mode:"multiple",showArrow:!0,placeholder:"请选择会审类型"}))),Y&&(ue.splice(5,0,l.createElement(V.Z.Item,(0,c.Z)({name:"pactApplyTypes",label:"合同类型"},qe,{rules:[{required:!0,message:"请选择"}]}),l.createElement(Te,{mode:"multiple",showArrow:!0,setcontractchildisdata:ie,onChange:function(e,t,n){var a=[];if(Array.isArray(e)&&e.length>0){var o=p.getFieldValue("pactSubTypes")||[];if(Array.isArray(o)&&o.length>0){var r=e.map((function(e){var t=we.P6.dotOptimal(n,e,{}).sub_types||{};return Object.keys(t)})).flat();a=o.filter((function(e){return r.includes(e)}))}}return p.setFieldsValue({pactSubTypes:a}),ae(e),e}}))),ne.length>0&&ue.splice(6,0,l.createElement(V.Z.Item,(0,c.Z)({name:"pactSubTypes",label:"合同子类型"},qe,{rules:le?[{required:!0,message:"请选择"}]:[]}),l.createElement(Ve,{setContractChildIsData:ie,contractTypeValueState:ne,showArrow:!0,mode:"multiple"})))));var me={name:o().get(a,"name"),scense:o().get(a,"applyApplicationTypes.0"),department:o().get(a,"applyDepartmentIds"),departmentSubtype:o().get(a,"organization_sub_types",[]),applyRanks:o().get(a,"applyRanks"),applicationRule:o().get(a,"applicationRule"),note:o().get(a,"note"),highestPost:{type:o().get(a,"finalType",i.mqh.post),tags:o().get(a,"finalApprovalJobTags",[]),post:o().get(a,"finalApprovalJobIds",[])},selfDep:o().get(a,"applyDepartmentIds",[]),allDep:o().get(a,"applyDepartmentSubIds",[]),viewSelfDep:o().get(a,"viewDepartmentIds",[]),viewAllDep:o().get(a,"viewDepartmentSubIds",[]),viewRelaJobId:o().get(a,"viewDepartmentJobIds",[]),sealType:o().get(a,"sealTypes",void 0),licenseType:o().get(a,"displayTypes",void 0),contractType:o().get(a,"pactBorrowTypes",void 0),stampType:Array.isArray(a.stampTypes)?a.stampTypes.map((function(e){return"".concat(e)})):[],pactApplyTypes:Array.isArray(a.pactApplyTypes)?a.pactApplyTypes.map((function(e){return"".concat(e)})):[],pactSubTypes:Array.isArray(a.pactSubTypes)?a.pactSubTypes.map((function(e){return"".concat(e)})):[]};return(0,l.useImperativeHandle)(t,(function(){return p})),l.createElement(_.IT,{title:"审批流详情设置",className:"affairs-flow-basic"},l.createElement(V.Z,{form:p,initialValues:me},l.createElement(_.Fp,{items:ue,cols:1})))})),Je=n(1825),Be=(n(48659),n(63054)),Ge=C.Z.Option,Me=(0,r.connect)((function(e){return{allAccount:e.applicationCommon.allAccount}}))((function(e){var t=e.value,n=e.onChange,a=e.dispatch,o=e.allAccount,r=void 0===o?{}:o;(0,l.useEffect)((function(){r.name&&Array.isArray(r.name)&&r.name.length>0||a({type:"applicationCommon/fetchAllAccountName"})}),[a]);var i=r.name,c=void 0===i?[]:i;return l.createElement(C.Z,{allowClear:!0,mode:"multiple",showArrow:!0,optionFilterProp:"children",value:Array.isArray(c)&&c.length>0?t:void 0,onChange:n,placeholder:"请选择"},c.map((function(e,t){return l.createElement(Ge,{value:e.id,key:t},e.name)})))}));function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye=(0,r.connect)()((function(e){var t=e.visible,n=e.onClose,a=e.dispatch,r=e.flowId,i=e.nodeId,c=e.nodeList,s=void 0===c?[]:c,u=e.getAffairsFlowNodeList,m=V.Z.useForm(),d=(0,L.Z)(m,1)[0],v=(0,l.useState)(!1),Z=(0,L.Z)(v,2),y=Z[0],g=Z[1],E=(0,l.useState)(void 0),w=(0,L.Z)(E,2),b=w[0],h=w[1],x=(0,l.useState)(void 0),C=(0,L.Z)(x,2),I=C[0],N=C[1],P=s.find((function(e){return e.id===i}))||{},D=P.indexNum,S=P.name,O=0===D&&"提报节点"===S,F=0===P.indexNum?P:o().get(P,"ccList.0",{});(0,l.useEffect)((function(){if(F&&Object.keys(F).length>0){var e=F.fixedCcDepartmentJobRelationInfoList,t=void 0===e?[]:e,n=F.fixedCcDepartmentInfoList,a=void 0===n?[]:n,o=F.flexibleCcDepartmentJobRelationInfoList,r=void 0===o?[]:o,l=F.flexibleCcDepartmentInfoList,i=void 0===l?[]:l;h([].concat((0,ve.Z)(a.map((function(e){return{_id:e._id,jobId:void 0}}))),(0,ve.Z)(t.map((function(e){return{_id:e._id,jobId:e.job_info._id}}))))),N([].concat((0,ve.Z)(i.map((function(e){return{_id:e._id,jobId:void 0}}))),(0,ve.Z)(r.map((function(e){return{_id:e._id,jobId:e.job_info._id}})))))}}),[F]);var k=F.fixedCcAccountInfoList,_=void 0===k?[]:k,A=F.fixedCcDepartmentJobRelationInfoList,T=void 0===A?[]:A,j=F.fixedCcDepartmentInfoList,z=void 0===j?[]:j,R=F.flexibleCcAccountInfoList,q=void 0===R?[]:R,U=F.flexibleCcDepartmentJobRelationInfoList,K=void 0===U?[]:U,X=F.flexibleCcDepartmentInfoList,H=void 0===X?[]:X,J=function(){var e=(0,Ze.Z)(Ee().mark((function e(){var t,o;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.validateFields();case 2:return t=e.sent,g(!0),e.next=6,a({type:"expenseExamineFlow/setApplicationNodeCC",payload:We(We({},t),{},{flowId:r,nodeId:O?void 0:i,fixedDep:b,flexibleDep:I})});case 6:(o=e.sent)&&o.ok&&(f.ZP.success("请求成功"),u&&u()),o&&o.zh_message&&f.ZP.error(o.zh_message),g(!1),n();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return Array.isArray(e)&&e.length>0&&e.forEach((function(e){!function e(n){t[t.length]={_id:n.node?we.P6.dotOptimal(n,"node.props.value"):we.P6.dotOptimal(n,"props.value"),jobId:n.node?we.P6.dotOptimal(n,"node.props.jobId"):we.P6.dotOptimal(n,"props.jobId")};var a=n.node?n.children:we.P6.dotOptimal(n,"props.children",[]);a&&Array.isArray(a)&&a.forEach((function(t){return e(t)}))}(e)})),t},G={fixedDep:[].concat((0,ve.Z)(z.map((function(e){return e._id}))),(0,ve.Z)(T.map((function(e){return e._id})))),fixedUser:(0,ve.Z)(_.map((function(e){return e._id}))),flexibleDep:[].concat((0,ve.Z)(H.map((function(e){return e._id}))),(0,ve.Z)(K.map((function(e){return e._id})))),flexibleUser:(0,ve.Z)(q.map((function(e){return e._id})))};return l.createElement(Je.Z,{title:"抄送设置",visible:t,onClose:n,getContainer:!1,width:400,footer:l.createElement("div",{style:{textAlign:"right"}},l.createElement(p.Z,{onClick:function(){return n()}},"取消"),l.createElement(p.Z,{onClick:function(){return J()},type:"primary",loading:y,style:{marginLeft:10}},"确定"))},l.createElement(V.Z,{form:d,labelAlign:"left",initialValues:G,className:"affairs-flow-basic"},l.createElement("span",{className:be.Z["app-expense-examine-flow-cc-title"]},"固定抄送"),l.createElement(V.Z.Item,{label:"可抄送部门/岗位",name:"fixedDep"},l.createElement(Be.Z,{onChange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.allCheckedNodes,o=void 0===a?[]:a,r=B(o);h(r)}})),l.createElement(V.Z.Item,{label:"可抄送成员",name:"fixedUser"},l.createElement(Me,null)),l.createElement("span",{className:be.Z["app-expense-examine-flow-cc-title"]},"灵活抄送"),l.createElement(V.Z.Item,{label:"可抄送部门/岗位",name:"flexibleDep"},l.createElement(Be.Z,{onChange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.allCheckedNodes,o=void 0===a?[]:a,r=B(o);N(r)}})),l.createElement(V.Z.Item,{label:"可抄送成员",name:"flexibleUser"},l.createElement(Me,null))))})),$e=C.Z.Option,et=(0,r.connect)((function(e){return{staffList:e.organizationStaffs.staffList}}))((function(e){var t=e.dispatch,n=e.staffList,a=void 0===n?{}:n,o=e.value,r=e.onChange,i=e.departmentId,c=e.disabled,p=void 0!==c&&c,s=a.data,u=void 0===s?[]:s;return(0,l.useEffect)((function(){if(i)return t({type:"organizationStaffs/getDepartmentStaffs",payload:{departmentId:i,limit:999,page:1}}),function(){t({type:"organizationStaffs/reduceDepartmentStaffs",payload:{}})}}),[t,i]),l.createElement(C.Z,{value:o,placeholder:"请选择",onChange:r,disabled:p,allowClear:!0,showSearch:!0,optionFilterProp:"children",dropdownMatchSelectWidth:!1,style:{width:"100%"}},u.map((function(e){var t=e.job_info;if(Object.keys(t).length>0)return l.createElement($e,{value:t._id,key:t._id},t.name)})))}));function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at=[101,102,105,108,109,701],ot=[107,303,301,302,306,405,406,309],rt=C.Z.Option,lt={labelCol:{span:8},wrapperCol:{span:10}},it=[{reportOne:1,reportTwo:1,value:i.agl.actualPerson,name:"实际申请人本部门负责人"},{reportOne:1,reportTwo:2,value:i.agl.actualPersonT,name:"实际申请人上级部门负责人"},{reportOne:2,reportTwo:1,value:i.agl.supPerson,name:"上一节点审批人本部门负责人"},{reportOne:2,reportTwo:2,value:i.agl.supPersonT,name:"上一节点审批人上级部门负责人"}],ct=(0,r.connect)()((function(e){var t=e.visible,n=e.onClose,a=e.scenseVal,r=e.nodeId,s=e.flowId,u=e.nodeList,m=void 0===u?[]:u,d=e.dispatch,v=e.getAffairsFlowNodeList,Z=e.organizationSubType,y=void 0===Z?[]:Z,g=V.Z.useForm(),E=(0,L.Z)(g,1)[0],w=m.find((function(e){return e.id===r}))||{},b=(0,l.useState)(w.nodeApproveType),I=(0,L.Z)(b,2),N=I[0],P=I[1],D=(0,l.useState)(w.organizationApproveType||w.accountApproveType),S=(0,L.Z)(D,2),O=S[0],F=S[1],k=(0,l.useState)(w.approveDepartmentId),A=(0,L.Z)(k,2),T=A[0],j=A[1],z=(0,l.useState)(w.approveDepartmentAccountType||i.DXc.principal),R=(0,L.Z)(z,2),q=R[0],U=R[1],K=(0,l.useState)(!1),X=(0,L.Z)(K,2),H=X[0],J=X[1],B=(0,l.useState)(void 0),G=(0,L.Z)(B,2),M=G[0],Q=G[1],W=(0,l.useState)(void 0),Y=(0,L.Z)(W,2),$=Y[0],ee=Y[1],te=y.some((function(e){return e!==i.KV8.addendum}));(0,l.useEffect)((function(){if(w&&Object.keys(w).length>0){var e=we.P6.dotOptimal(w,"ccList.0",{}),t=e.fixedCcDepartmentJobRelationInfoList,n=void 0===t?[]:t,a=e.fixedCcDepartmentInfoList,o=void 0===a?[]:a,r=e.flexibleCcDepartmentJobRelationInfoList,l=void 0===r?[]:r,i=e.flexibleCcDepartmentInfoList,c=void 0===i?[]:i;Q([].concat((0,ve.Z)(o.map((function(e){return{_id:e._id,jobId:void 0}}))),(0,ve.Z)(n.map((function(e){return{_id:e._id,jobId:e.job_info._id}}))))),ee([].concat((0,ve.Z)(c.map((function(e){return{_id:e._id,jobId:void 0}}))),(0,ve.Z)(l.map((function(e){return{_id:e._id,jobId:e.job_info._id}})))))}}),[w]);var ne,ae,oe,re,le,ie,ce,pe,se,ue,me,de,fe,ye,ge,he=function(){var e=(0,Ze.Z)(Ee().mark((function e(){var t,o,l,c;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.validateFields();case 2:if(t=e.sent,J(!0),o=t.organization_approve_type,a&&at.includes(Number(a))&&!0!==te||o!==i.agl.fieldDep){e.next=9;break}return J(!1),f.ZP.error("所选审批类型无指定字段特殊部门, 请重新选择"),e.abrupt("return");case 9:if(a&&ot.includes(Number(a))||o!==i.Evl.fieldAccount){e.next=13;break}return J(!1),f.ZP.error("所选审批类型无指定字段相关人, 请重新选择"),e.abrupt("return");case 13:return e.next=15,d({type:"expenseExamineFlow/updateAffairsFlowNode",payload:nt({flow_id:s,nodeId:r},t)});case 15:if(!(l=e.sent)||!l.ok){e.next=24;break}return e.next=19,d({type:"expenseExamineFlow/setApplicationNodeCC",payload:nt(nt({},t),{},{flowId:s,nodeId:l.record._id,fixedDep:M,flexibleDep:$})});case 19:if((c=e.sent)&&c.ok&&(f.ZP.success("请求成功"),v()),!c||!c.zh_message){e.next=24;break}return J(!1),e.abrupt("return",f.ZP.error(c.zh_message));case 24:if(!l||!l.zh_message){e.next=27;break}return J(!1),e.abrupt("return",f.ZP.error(l.zh_message));case 27:n();case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(e){e.target.value===i.agl.fieldDep&&E.setFieldsValue({approve_department_account_type:i.DXc.principal}),F(e.target.value)},Ce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.allCheckedNodes,r=void 0===a?[]:a,l=r.map((function(e){return{_id:o().get(e,"node.props.value"),jobId:o().get(e,"node.props.jobId")}}));Q(l)},Ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.allCheckedNodes,r=void 0===a?[]:a,l=r.map((function(e){return{_id:o().get(e,"node.props.value"),jobId:o().get(e,"node.props.jobId")}}));ee(l)},Ne=function(e,t,n){!t||/^\S+$/.test(t)?n():n("节点名称不能包含空格")},Pe=function(){return O===i.agl.fieldDep?function(){var e;105===a&&(e=l.createElement(x.ZP.Group,null,l.createElement(x.ZP,{value:i.vA4.callIn},i.vA4.description(i.vA4.callIn)))),(701===a&&y.length>0&&!0!==te||102===a)&&(e=l.createElement(x.ZP.Group,null,l.createElement(x.ZP,{value:1},"增编部门"))),101===a&&(e=l.createElement(x.ZP.Group,null,l.createElement(x.ZP,{value:1},"招聘部门"))),108===a&&(e=l.createElement(x.ZP.Group,null,l.createElement(x.ZP,{value:1},"录用部门"))),109===a&&(e=l.createElement(x.ZP.Group,null,l.createElement(x.ZP,{value:1},"入职部门")));var t=105===a?i.vA4.callIn:1;return l.createElement(l.Fragment,null,l.createElement(V.Z.Item,(0,c.Z)({name:"approve_department_account_type",label:"部门审批人类型",required:[{required:!0,message:"请选择"}],initialValue:w.approveDepartmentAccountType||i.DXc.principal},lt),l.createElement(x.ZP.Group,{disabled:!0},l.createElement(x.ZP,{value:i.DXc.principal,className:be.Z["flow-node-radio-form"]},i.DXc.description(i.DXc.principal)),l.createElement(x.ZP,{value:i.DXc.post,className:be.Z["flow-node-radio-form"]},i.DXc.description(i.DXc.post)))),e?l.createElement(V.Z.Item,{name:"specified_department_type",label:"指定字段特殊部门",initialValue:w.specifiedDepartmentType||t,rules:[{required:!0,message:"请选择"}]},e):"")}():O===i.Evl.fieldAccount?function(){var e;405===a&&(e=l.createElement(x.ZP.Group,null,l.createElement(x.ZP,{value:i.lXD.contract},i.lXD.description(i.lXD.contract)))),107===a&&(e=l.createElement(x.ZP.Group,null,l.createElement(x.ZP,{value:1},"工作接收人"))),(303===a||309===a||301===a||302===a)&&(e=l.createElement(x.ZP.Group,null,l.createElement(x.ZP,{value:1},"印章保管人"))),306===a&&(e=l.createElement(x.ZP.Group,null,l.createElement(x.ZP,{value:1},"证照保管人"))),406===a&&(e=l.createElement(x.ZP.Group,null,l.createElement(x.ZP,{value:1},"合同保管人")));var t=405===a?i.lXD.contract:1;return e?l.createElement(V.Z.Item,{name:"specified_field_type",label:"指定字段相关人",initialValue:w.specifiedFieldType||t},e):null}():void 0};return l.createElement(Je.Z,{title:"审批人节点设置",visible:t,onClose:n,getContainer:!1,width:400,footer:l.createElement("div",{style:{textAlign:"right"}},l.createElement(p.Z,{onClick:function(){return n()}},"取消"),l.createElement(p.Z,{onClick:function(){return he()},type:"primary",loading:H,style:{marginLeft:10}},"确定"))},l.createElement(V.Z,{layout:"vertical",form:E,className:"affairs-flow-node"},(ge=[l.createElement(V.Z.Item,{label:"节点名称设置",name:"name",rules:[{required:!0,message:"请输入节点名称"},{validator:Ne}],initialValue:w.name},l.createElement(h.Z,{placeholder:"请输入",autoComplete:"off"})),l.createElement(V.Z.Item,{label:"节点审批人设置",name:"node_approve_type",rules:[{required:!0,message:"请输入节点名称"}],initialValue:w.nodeApproveType},l.createElement(C.Z,{placeholder:"请选择",onChange:function(e){return P(e)}},l.createElement(rt,{value:i.gH5.report},i.gH5.description(i.gH5.report)),l.createElement(rt,{value:i.gH5.coopera},i.gH5.description(i.gH5.coopera))))],l.createElement(_.Fp,{items:ge,cols:1}))),l.createElement(V.Z,{form:E,className:"affairs-flow-node"},function(){if(N!==i.gH5.report)return"";var e=w.organizationApproveType,t={};return e&&(t=it.find((function(t){return t.value===e}))||{}),l.createElement(l.Fragment,null,l.createElement(V.Z.Item,null,l.createElement("div",{className:be.Z["flow-node-customize-form"]},l.createElement(V.Z.Item,{name:"reportOne",style:{width:"45%"},rules:[{required:!0,message:"请选择"}],initialValue:t.reportOne},l.createElement(C.Z,{placeholder:"请选择"},l.createElement(rt,{value:1},"实际申请人"),l.createElement(rt,{value:2},"上一节点审批人"))),l.createElement(V.Z.Item,{name:"reportTwo",style:{width:"45%"},rules:[{required:!0,message:"请选择"}],initialValue:t.reportTwo},l.createElement(C.Z,{placeholder:"请选择"},l.createElement(rt,{value:1},"本部门负责人"),l.createElement(rt,{value:2},"上级部门负责人"))))))}(),N!==i.gH5.coopera?"":l.createElement(l.Fragment,null,l.createElement(V.Z.Item,{label:"",name:"organization_approve_type",rules:[{required:!0,message:"请选择"}],initialValue:w.organizationApproveType||w.accountApproveType},l.createElement(x.ZP.Group,{onChange:xe},l.createElement(x.ZP,{value:i.agl.department,className:be.Z["flow-node-radio-form-coopera"]},i.agl.description(i.agl.department)),701!==a&&at.includes(Number(a))||701===a&&y.length>0&&!0!==te?l.createElement(x.ZP,{value:i.agl.fieldDep,className:be.Z["flow-node-radio-form-coopera"]},i.agl.description(i.agl.fieldDep)):null,ot.includes(Number(a))?l.createElement(x.ZP,{value:i.Evl.fieldAccount,className:be.Z["flow-node-radio-form-coopera"]},i.Evl.description(i.Evl.fieldAccount)):null,l.createElement(x.ZP,{value:i.Evl.actualAccount,className:be.Z["flow-node-radio-form-coopera"]},i.Evl.description(i.Evl.actualAccount)))),Pe())),O!==i.agl.department||N!==i.gH5.coopera?"":l.createElement(l.Fragment,null,l.createElement("div",null,"指定部门"),l.createElement(V.Z,{layout:"vertical",className:"affairs-flow-node",form:E},l.createElement(V.Z.Item,{name:"approve_department_id",label:"部门",initialValue:w.approveDepartmentId,rules:[{required:!0,message:"请选择"}]},l.createElement(Se.Z,{onChange:function(e){return function(e){j(e),E.setFieldsValue({approve_job_id:void 0})}(e)}})),l.createElement(V.Z.Item,{name:"approve_department_account_type",label:"部门审批人类型",rules:[{required:!0,message:"请选择"}],initialValue:w.approveDepartmentAccountType||i.DXc.principal,className:"affairs-flow-node-report-type"},l.createElement(x.ZP.Group,{onChange:function(e){return t=e.target.value,U(t),void E.setFieldsValue({approve_job_id:void 0});var t}},l.createElement(x.ZP,{value:i.DXc.principal,className:be.Z["flow-node-radio-form"]},i.DXc.description(i.DXc.principal)),l.createElement(x.ZP,{value:i.DXc.post,className:be.Z["flow-node-radio-form"]},i.DXc.description(i.DXc.post),l.createElement(V.Z.Item,{name:"approve_job_id",className:be.Z["flow-node-radio-form-item"],initialValue:w.approveJobId,rules:[{required:q===i.DXc.post,message:"请选择"}]},l.createElement(et,{departmentId:T,disabled:q===i.DXc.principal}))))))),(ne=we.P6.dotOptimal(w,"ccList.0",{}),ae=ne.fixedCcAccountInfoList,oe=void 0===ae?[]:ae,re=ne.fixedCcDepartmentJobRelationInfoList,le=void 0===re?[]:re,ie=ne.fixedCcDepartmentInfoList,ce=void 0===ie?[]:ie,pe=ne.flexibleCcAccountInfoList,se=void 0===pe?[]:pe,ue=ne.flexibleCcDepartmentJobRelationInfoList,me=void 0===ue?[]:ue,de=ne.flexibleCcDepartmentInfoList,fe=void 0===de?[]:de,ye={fixedDep:[].concat((0,ve.Z)(ce.map((function(e){return e._id}))),(0,ve.Z)(le.map((function(e){return e._id})))),fixedUser:(0,ve.Z)(oe.map((function(e){return e._id}))),flexibleDep:[].concat((0,ve.Z)(fe.map((function(e){return e._id}))),(0,ve.Z)(me.map((function(e){return e._id})))),flexibleUser:(0,ve.Z)(se.map((function(e){return e._id})))},l.createElement(V.Z,{form:E,labelAlign:"left",className:"affairs-flow-basic"},l.createElement("span",{className:be.Z["app-expense-examine-flow-cc-title"]},"固定抄送"),l.createElement(V.Z.Item,{label:"可抄送部门/岗位",name:"fixedDep",initialValue:ye.fixedDep},l.createElement(Be.Z,{onChange:Ce})),l.createElement(V.Z.Item,{label:"可抄送成员",name:"fixedUser",initialValue:ye.fixedUser},l.createElement(Me,null)),l.createElement("span",{className:be.Z["app-expense-examine-flow-cc-title"]},"灵活抄送"),l.createElement(V.Z.Item,{label:"可抄送部门/岗位",name:"flexibleDep",initialValue:ye.flexibleDep},l.createElement(Be.Z,{onChange:Ie})),l.createElement(V.Z.Item,{label:"可抄送成员",name:"flexibleUser",initialValue:ye.flexibleUser},l.createElement(Me,null)))))}));function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut=C.Z.Option,mt=[{reportOne:1,reportTwo:1,value:i.agl.actualPerson,name:"实际申请人本部门负责人"},{reportOne:1,reportTwo:2,value:i.agl.actualPersonT,name:"实际申请人上级部门负责人"},{reportOne:2,reportTwo:1,value:i.agl.supPerson,name:"上一节点审批人本部门负责人"},{reportOne:2,reportTwo:2,value:i.agl.supPersonT,name:"上一节点审批人上级部门负责人"}],dt=(0,r.connect)((function(e){return{affairsNodeList:e.expenseExamineFlow.affairsNodeList}}))((function(e){var t,n=e.formRef,a=e.flowId,r=e.dispatch,c=e.affairsNodeList,d=void 0===c?[]:c,v=e.examineDetail,Z=void 0===v?{}:v,y=e.scenseType,g=(0,l.useState)(!1),E=(0,L.Z)(g,2),w=E[0],b=E[1],h=(0,l.useState)(!1),x=(0,L.Z)(h,2),I=x[0],N=x[1],P=(0,l.useState)(void 0),k=(0,L.Z)(P,2),A=k[0],T=k[1],j=(0,l.useState)(void 0),z=(0,L.Z)(j,2),R=z[0],q=z[1],U=(0,l.useState)(void 0),K=(0,L.Z)(U,2),X=K[0],H=K[1],J=function(){r({type:"expenseExamineFlow/getAffairsFlowNodeList",payload:{flowId:a}})},B=function(){var e=(0,Ze.Z)(Ee().mark((function e(t,n){var o;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({type:"expenseExamineFlow/updateAffairsFlowNode",payload:st({flow_id:a},t)});case 2:(o=e.sent)&&o.ok&&(f.ZP.success("请求成功"),J()),n&&n();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(e){T(e),b(!0)},M=function(e){var t=0===e.indexNum?e:o().get(e,"ccList.0",{}),n=t.fixedCcAccountInfoList,a=void 0===n?[]:n,r=t.fixedCcDepartmentJobRelationInfoList,i=void 0===r?[]:r,c=t.fixedCcDepartmentInfoList,p=void 0===c?[]:c,s=t.flexibleCcAccountInfoList,d=void 0===s?[]:s,f=t.flexibleCcDepartmentJobRelationInfoList,v=void 0===f?[]:f,Z=t.flexibleCcDepartmentInfoList,y=void 0===Z?[]:Z,g=i.map((function(e){if(e._id)return{_id:e._id,name:e.job_info.name,jobId:e.job_info._id}})),E=v.map((function(e){if(e._id)return{_id:e._id,name:e.job_info.name,jobId:e.job_info._id}})),w=[].concat((0,ve.Z)(p),(0,ve.Z)(g),(0,ve.Z)(a)),b=[].concat((0,ve.Z)(y),(0,ve.Z)(E),(0,ve.Z)(d));return l.createElement(l.Fragment,null,l.createElement(u.Z,{onClick:function(){return G(e.id)},className:be.Z["affairs-flow-update-node-cc-wrap"]},l.createElement(m.Z,{span:20,className:be.Z["affairs-flow-update-node-cc-info"]},l.createElement("div",null,"固定抄送：",l.createElement("span",null,w.slice(0,3).map((function(e){return e.name})).join("、"),w.length>3?l.createElement("span",null,"..."):""))),l.createElement(m.Z,{span:4,className:be.Z["affairs-flow-update-node-cc-info-arrow"]},l.createElement(O.Z,{style:{color:"rgba(0, 0, 0, .4)"}}))),l.createElement(u.Z,{onClick:function(){return G(e.id)},className:be.Z["affairs-flow-update-node-cc-wrap"]},l.createElement(m.Z,{span:20,className:be.Z["affairs-flow-update-node-cc-info"]},l.createElement("div",null,"灵活抄送：",l.createElement("span",null,b.slice(0,3).map((function(e){return e.name})).join("、"),b.length>3?"...":""))),l.createElement(m.Z,{span:4,className:be.Z["affairs-flow-update-node-cc-info-arrow"]},l.createElement(O.Z,{style:{color:"rgba(0, 0, 0, .4)"}}))))},Q=function(e){return l.createElement("div",{className:be.Z["affairs-flow-update-node-operate"]},l.createElement("div",{className:be.Z["affairs-flow-update-node-operate-modify"],onClick:function(){return t=e.id,n&&(a=n.current.getFieldValue("scense"),o=n.current.getFieldValue("departmentSubtype")),T(t),N(!0),q(a),void H(o);var t,a,o}},l.createElement(D.Z,null)," 修改"),l.createElement(s.Z,{title:"确认删除当前节点?",onConfirm:function(){return t=e.id,void r({type:"expenseExamineFlow/deleteExamineFlowNode",payload:{flowId:a,nodeId:t,onSuccessRemoveCallback:function(){return J()}}});var t},okText:"删除",cancelText:"取消"},l.createElement("div",{className:be.Z["affairs-flow-update-node-operate-delete"]},l.createElement(S.Z,null)," 删除")))};return l.createElement(_.IT,{title:"审批流节点设置"},l.createElement(u.Z,null,l.createElement(m.Z,{span:6},l.createElement(u.Z,null,l.createElement(m.Z,{span:20,className:be.Z["affairs-flow-update-report-node"]},(t=d.find((function(e){return 0===e.indexNum&&"提报节点"===e.name}))||{},l.createElement("div",{className:be.Z["app-comp-expense-examine-flow-applicant"]},l.createElement("span",{className:be.Z["affairs-flow-update-node-title"]},"申请人"),l.createElement("div",null,M(t))))),l.createElement(m.Z,{span:4,className:be.Z["affairs-flow-update-node-arrow"]},l.createElement(O.Z,null)))),l.createElement(m.Z,{span:18},l.createElement(u.Z,null,d.map((function(e){var t=e.name;if(0!==e.indexNum||"提报节点"!==t)return l.createElement(m.Z,{span:8,key:e.id},l.createElement(u.Z,null,l.createElement(m.Z,{span:20,className:be.Z["affairs-flow-update-node-wrap"]},function(e){var t=e.name,n=e.approveMode,a=e.id;if(0!==e.indexNum||"提报节点"!==t){var r=e.nodeApproveType,c=e.organizationApproveType,p=e.accountApproveType,s=e.approveDepartmentInfo,u=e.approveJobInfo,m="";return r===i.gH5.report&&(m=(mt.find((function(e){return e.value===c}))||{}).name),r===i.gH5.coopera&&(c===i.agl.fieldDep?m={105:i.vA4.description(i.vA4.callIn),102:"增编部门",101:"招聘部门",108:"录用部门",109:"入职部门"}[y||o().get(Z,"applyApplicationTypes.0")]||i.agl.description(c):c&&(m=i.agl.description(c)),p===i.Evl.fieldAccount?m={405:i.lXD.description(i.lXD.contract),107:"工作接收人",303:"印章保管人",309:"印章保管人",301:"印章保管人",302:"印章保管人",306:"证照保管人",406:"合同保管人"}[y||o().get(Z,"applyApplicationTypes.0")]||i.Evl.description(p):p&&(m=i.Evl.description(p))),c&&c===i.agl.department&&s&&s.name&&(m=s.name,(!u||!u.name)&&(m="".concat(s.name," - 部门负责人")),u&&u.name&&(m="".concat(s.name," - ").concat(u.name))),l.createElement("div",{className:be.Z["affairs-flow-update-node-form"]},l.createElement("div",{className:be.Z["affairs-flow-update-node-title"]},l.createElement("span",{className:be.Z["app-comp-expense-round"]}),t),l.createElement("div",{className:be.Z["affairs-flow-update-node-approve"]},m),l.createElement(V.Z,{layout:"vertical",className:"affairs-flow-update-node"},l.createElement(V.Z.Item,{label:"审批规则"},l.createElement("div",{className:be.Z["affairs-flow-update-node-mode"]},l.createElement(V.Z.Item,null,l.createElement(C.Z,{size:"small",placeholder:"请选择审批规则",value:n,onChange:function(e){return B({approveMode:e,nodeId:a})},style:{width:76}},l.createElement(ut,{value:i.Fv8.any},i.Fv8.description(i.Fv8.any))))))),l.createElement("div",null,M(e)))}}(e),Q(e)),l.createElement(m.Z,{span:4,className:be.Z["affairs-flow-update-node-arrow"]},l.createElement(O.Z,null))))})),l.createElement(m.Z,{span:8},l.createElement(u.Z,null,l.createElement(m.Z,{span:20,className:be.Z["affairs-flow-update-node-create"]},l.createElement(p.Z,{icon:l.createElement(F.Z,null),type:"primary",onClick:function(){return n&&(e=n.current.getFieldValue("scense"),t=n.current.getFieldValue("departmentSubtype")),T(void 0),N(!0),q(e),void H(t);var e,t}},"新增节点"))))))),w?l.createElement(Ye,{visible:w,onClose:function(){return b(!1)},flowId:a,nodeId:A,nodeList:d,getAffairsFlowNodeList:J}):l.createElement("div",null),I?l.createElement(ct,{visible:I,onClose:function(){return N(!1)},scenseVal:R,organizationSubType:X,flowId:a,nodeId:A,nodeList:d,updateAffairsFlowNode:B,getAffairsFlowNodeList:J}):l.createElement("div",null))}));function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zt=ye.Z.TabPane,yt="1",gt="2",Et=(0,r.connect)()((function(e){var t=e.examineDetail,n=void 0===t?{}:t,a=e.flowId,o=e.dispatch,r=(0,l.useRef)(),i=Array.isArray(n.applyApplicationTypes)&&n.applyApplicationTypes.length>0,c=(0,l.useState)(!1),s=(0,L.Z)(c,2),u=s[0],m=s[1],d=(0,l.useState)(!1),v=(0,L.Z)(d,2),Z=v[0],y=v[1],g=(0,l.useState)(yt),E=(0,L.Z)(g,2),w=E[0],b=E[1],h=(0,l.useState)(i?[yt,gt]:[yt]),x=(0,L.Z)(h,2),C=x[0],I=x[1];if(Object.keys(n).length<1)return l.createElement("div",null);var N=function(){var e=(0,Ze.Z)(Ee().mark((function e(){var t,n;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.current.validateFields();case 2:return t=e.sent,e.next=5,m(!0);case 5:return e.next=7,o({type:"expenseExamineFlow/updateAffairsFlow",payload:vt({flowId:a},t)});case 7:(n=e.sent)&&n.ok&&(f.ZP.success("请求成功"),m(!1)),n&&n.zh_message&&(m(!1),f.ZP.error(n.zh_message));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=n.flowNodes,t=void 0===e?[]:e;r.current.validateFields().then(function(){var e=(0,Ze.Z)(Ee().mark((function e(n){var r;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),0!==t.length){e.next=4;break}return y(!1),e.abrupt("return",f.ZP.error("无法启用:该审批流节点设置为空,请设置审批流节点"));case 4:return e.next=6,o({type:"expenseExamineFlow/updateAffairsFlow",payload:vt({flowId:a},n)});case 6:if(!(r=e.sent)||!r.ok){e.next=10;break}return o({type:"expenseExamineFlow/updateExamineFlowByEnable",payload:{flowId:a,onSuccessCallback:function(){y(!1),D()},onFailureCallback:function(e){y(!1),e&&e.zh_message&&f.ZP.error(r.zh_message)}}}),e.abrupt("return");case 10:if(!r||!r.zh_message){e.next=14;break}return y(!1),f.ZP.error(r.zh_message),e.abrupt("return");case 14:y(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){if(y(!1),w===gt&&R().existy(e)&&R().not.empty(e))return f.ZP.error("审批流详情请填写完毕")}))},D=function(){window.location.href="/#/Expense/ExamineFlow/Process?isSetStorageSearchValue=true"},S=function(){var e=(0,Ze.Z)(Ee().mark((function e(){var t,n,l;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.current.validateFields();case 2:return t=e.sent,e.next=5,m(!0);case 5:return e.next=7,o({type:"expenseExamineFlow/updateAffairsFlow",payload:vt({flowId:a},t)});case 7:if(n=e.sent,m(!1),!n||!n.ok){e.next=16;break}return f.ZP.success("请求成功"),e.next=13,o({type:"expenseExamineFlow/fetchExamineDetail",payload:{id:we.P6.dotOptimal(n,"record._id")}});case 13:l=C.includes(gt)?C:[].concat((0,ve.Z)(C),[gt]),I(l),b(gt);case 16:n&&n.zh_message&&f.ZP.error(n.zh_message);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){return i||w!==yt?i&&w===yt?l.createElement("div",{className:be.Z["affairs-flow-tab-scroll-button"]},l.createElement(p.Z,{onClick:function(){return D()},style:{marginRight:30}},"取消"),l.createElement(p.Z,{onClick:N,type:"primary",loading:u},"确定"),l.createElement(p.Z,{style:{marginLeft:30},onClick:P,type:"primary",loading:Z},"确定并启用")):l.createElement("div",{className:be.Z["affairs-flow-tab-scroll-button"]},l.createElement(p.Z,{onClick:function(){return D()},style:{marginRight:30}},"取消"),l.createElement(p.Z,{onClick:function(){return D()},type:"primary"},"确定"),l.createElement(p.Z,{style:{marginLeft:30},onClick:P,type:"primary",loading:Z},"确定并启用")):l.createElement("div",{className:be.Z["affairs-flow-tab-scroll-button"]},l.createElement(p.Z,{onClick:function(){return D()},style:{marginRight:30}},"取消"),l.createElement(p.Z,{onClick:S,type:"primary",loading:u},"下一步"))};return l.createElement("div",{className:"contract-content-wrap",style:{height:"100%"}},l.createElement("div",{className:"contract-content-wrap",style:{height:"100%"}},l.createElement(ye.Z,{activeKey:w,onChange:function(e){return b(e)},style:{height:"100%"}},l.createElement(Zt,{tab:"审批流详情设置",key:yt},l.createElement("div",{className:be.Z["affairs-flow-tab-content-wrap"]},l.createElement("div",{className:be.Z["affairs-flow-tab-scroll-content"]},l.createElement(He,{ref:r,examineDetail:n})),O())),l.createElement(Zt,{tab:"审批流节点设置",key:gt,disabled:!C.includes(gt)},l.createElement("div",{className:be.Z["affairs-flow-tab-content-wrap"]},l.createElement("div",{className:be.Z["affairs-flow-tab-scroll-content"]},l.createElement(dt,{formRef:r,scenseType:r.current&&r.current.getFieldValue("scense"),flowId:a,examineDetail:n})),O())))))})),wt=(0,r.connect)((function(e){return{examineDetail:e.expenseExamineFlow.examineDetail}}))((function(e){var t=e.examineDetail,n=void 0===t?{}:t,a=e.dispatch,r=e.location,c=void 0===r?{}:r,p=o().get(c,"query.flowId",void 0);(0,l.useEffect)((function(){return p&&a({type:"expenseExamineFlow/fetchExamineDetail",payload:{id:p}}),function(){a({type:"expenseExamineFlow/resetExamineFlowDetail"})}}),[p,a]);var s=n.bizType;return(s===i.z_o.costOf||s===i.z_o.noCostOf)&&Object.keys(n).length>0?l.createElement(fe,{examineDetail:n,flowId:p}):s===i.z_o.transactional||Object.keys(n).length>0?l.createElement(Et,{examineDetail:n,flowId:p}):l.createElement("div",null)}))},24031:function(e,t){t.Z={"app-comp-expense-examine-flow-applicant":"K9UKU_SaQNE1GorFG81W","app-comp-expense-examine-flow-applicant-title":"oykpGajnw34V8lHWjh1f","app-comp-expense-examine-flow-link":"_3_x9QY3pzjIGrJZ8kQw","app-expense-examine-flow-cc-title":"NyxZfuysCEK4Cc0bDqYe","app-expense-examine-flow-cc-comment":"aFc1wcrV0K0Si2rlrgJw","app-expense-examine-flow-cc-update-title":"qTCaDJ4CdRE4sX2D5BWx","flow-node-customize-form":"ILWLnYXEB76Kmv3dyOYo","flow-node-radio-form":"sLbixQKMSaebdkU6AkQt","flow-node-radio-form-item":"EMLdhW33ri7A3DbsXPbg","flow-node-radio-form-coopera":"XbbgFDJMCwJK4KKQ0fMr","flow-node-dep-form-item":"z7ZBys5AJRrKraxBgmHQ","flow-node-dep-form-customize-item":"AdOtV0TRPnVeEE7NxCtP","app-comp-expense-round":"VJenoqFMqgv9ig8ZyOYO","affairs-flow-node-time-title-wrap":"ijRE04uYOy_6l9xKF0Vl","affairs-flow-node-time-name":"wH9cADvKO8QcFHHlF7dA","affairs-flow-node-time-approve-name":"qH9TkmPPhNNqvGCYS3E_","affairs-flow-node-time-cc-wrap":"UgbfcbXFkk4zX_uUQhGe","affairs-flow-update-node-wrap":"lPmowDXry4cuQNM5obga","affairs-flow-update-node-form":"FpRDBeHPanPckjvdk8Kk","affairs-flow-update-node-title":"NwT07X7i2VHtbHdZr3oV","affairs-flow-update-node-approve":"fS0o6nV5elXf16YDxX4B","affairs-flow-update-node-mode":"UK9uoj3ug6YtQV_2aLep","affairs-flow-update-node-cc-wrap":"OhEAFWiH3F6ROC94XWbX","affairs-flow-update-node-cc-info":"yhn3BO8vkK8JyhyFzahf","affairs-flow-update-node-cc-info-arrow":"cEdnU6obPQPPS3H1RFiw","affairs-flow-update-node-operate":"Gk1kJR1x8cOA__0AQDwR","affairs-flow-update-node-operate-modify":"aZe6YOnDiEQVMwifjrtw","affairs-flow-update-node-operate-delete":"kbrwXSU4IYr338aUYLSw","affairs-flow-update-node-cc-empty":"TNSbOtNdFOlYuT1pIcTD","affairs-flow-update-node-arrow":"l_UEVFKUOs3SMyaUjVD4","affairs-flow-update-report-node":"jybZb1zTfuH7K8ByWV2a","affairs-flow-update-node-create":"dezrn42QJFy7J9BHhSJh","affairs-flow-update-node-rank":"iCaNGgtcXtueHfwf_F0z","affairs-flow-tab-content-wrap":"aS79sdsKZ0E05xn4wgFx","affairs-flow-tab-scroll-content":"FDrm3mRpAqYCPsktCUm7","affairs-flow-tab-scroll-button":"RNp0wNPq3g27iXjYOTpg"}},654:function(e,t){t.Z={"app-comp-expense-node":"aMth3bdBEzLuUTqkmyGQ","app-comp-expense-node-arrow":"Gj0VkUo32qtANnWffU1b","app-comp-expense-round":"I7pPgwYZpsXbtqBR7y1H","app-comp-expense-node-operate":"wh9Ee6LJrXoxIvsCo8wh","app-comp-expense-node-people-container":"gyFmTI0JyuLeHplPJ9qg","app-comp-expense-node-people-content":"HL4wK5q_N9IhrYEvZXbq","app-comp-expense-node-people-button":"Bhh7K1biPSuEbKUTWkKz","app-comp-expense-node-name":"_5RhNa0yzDZO4HNyTZhb","app-comp-expense-node-approval-people":"nnvHPrd1Mjd2F0l4WCXt","app-comp-expense-add-node-operate":"aACznn8ZfsQsr6zJfY7R","app-comp-expense-node-label":"QSGrWqKa2tkMGRvnLdMz","app-comp-expense-node-ticket-title":"w1FtvoMnroPnsyPf65Kk","app-comp-expense-flow-note":"cI6v0bSl32XM7Pwyy4Dz","app-comp-expense-examine-flow-grouping":"FSjJafGZB5uHqbT_bxQQ","app-comp-expense-flow-operate-detail":"H7s_BjVTvQCkfYBuz4oD","app-comp-expense-flow-operate-update":"mWCjB9xOL3lgNS9dV4VU","app-comp-expense-flow-operate-enable":"pUpTKroSqq0JA7srdu_u","app-comp-expense-flow-operate-detele":"urZSu6xqpC4gTKgHHnyS","app-comp-expense-flow-operate":"qXa0uwmAB_5ygD2uCGUW","app-comp-expense-examine-flow-deatail-user-name":"Qc20agDkRK1rdmmL7gm_","app-comp-expense-examine-flow-deatail-user-text":"h7TPZHRpYlolupf23UPT","app-comp-expense-examine-flow-deatail-setting":"pOkNJ2Gpb9bUuJ69ZQQL","app-comp-expense-examine-flow-deatail-apply":"iBhWgFC9iSzBfbJV9LQo","app-comp-expense-examine-flow-deatail-process":"_3fkFFiSE2g1WW2M79uu","app-comp-expense-examine-flow-deatail-icon":"svAifGaSUMAU5DCiVCzm","app-comp-expense-examine-flow-deatail-process-info":"srbkWaTflYe0PvTKPyfU","app-comp-expense-examine-flow-deatail-button":"cUvCj80XA8AedU9BKl_M","app-comp-expense-examine-flow-form-node-name":"kzLfw1LQH2X2ctzFQTZU","app-comp-expense-examine-flow-form-node-text":"yBi1kEmESmO3cg_S3pV9","app-comp-expense-examine-flow-form-info":"Vygv8llj5gTF7DTCzsuD","app-comp-expense-examine-flow-form-regulation":"UBkSWCSgR1pTgMofO90V","app-comp-expense-examine-flow-form-amount":"urin5CgzybzCGOjWfEPg","app-comp-expense-examine-flow-form-rules":"uwAClVTgw5YDAPWI5nXO","app-comp-expense-examine-flow-form-any":"ahaSSjJ83yjnlOPLeGge","app-comp-expense-examine-flow-form-modify-button":"bN4YqZlmJ1oDf7A7StvA","app-comp-expense-examine-flow-form-detele-button":"QrHhcSzmCJF1j4Ly8L7R","app-comp-expense-examine-flow-form-icon":"qe2CGjs6lj3frAsjODBL","app-comp-expense-examine-flow-form-process":"OgkJNHEFvsU2sCE3S4rr","app-comp-expense-examine-flow-form-apply":"L0EilOXMUv6ZI9LIKdVe","app-comp-expense-examine-flow-form-setting":"Z7DdOV3Zr20nYC1TPGoa","app-comp-expense-examine-flow-form-button":"_odAj7LvgV87xF4j5mlr","app-comp-expense-examine-flow-form-submit":"C075Wm_yOARS1ICs3U3f",boss_expense_examine_flow_post_operate_detail:"MZpnvs3G8pvCxnoCGxRy","app-comp-expense-examine-flow-applicant":"pg1suQhuyWxCuOKF6T_S","app-comp-expense-examine-flow-applicant-title":"JfpaJD66KvD5iAE6sD5x"}}}]);