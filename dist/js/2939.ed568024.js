"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[2939],{82939:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var a=n(4942),r=n(29439),o=n(67294),c=n(55609),i=(n(21316),n(75443)),l=(n(52560),n(71577)),u=(n(35668),n(86585)),p=(n(9070),n(20924)),m=(n(51838),n(48086)),d=n(15861),s=(n(29093),n(16317)),f=n(87757),y=n.n(f),h=n(93517),g=n.n(h),b=n(80385),E=n(96036),O=n(45430);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=s.Z.Option,w=(0,c.connect)((function(e){return{companyNature:e.sharedCompany.companyNature}}))((function(e){var t=e.onSearch,n=void 0===t?function(){}:t,a=e.dispatch,c=e.companyNature,f=(0,o.useState)({}),h=(0,r.Z)(f,2),C=h[0],w=h[1],j=function(){var e=(0,d.Z)(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.validateFields();case 2:t=e.sent,a({type:"sharedCompany/exportSharedCompany",payload:{params:v({},t),onSuccessCallback:function(){return m.ZP.success("创建下载任务成功")},onFailureCallback:function(){return m.ZP.error("导出数据失败")}}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=[o.createElement(u.Z.Item,{label:"公司名称",name:"name"},o.createElement(p.Z,{placeholder:"请输入",allowClear:!0})),o.createElement(u.Z.Item,{label:"公司类型",name:"firm_nature"},o.createElement(s.Z,{placeholder:"请选择"},Object.keys(g().get(c,"data",{})).map((function(e){return o.createElement(S,{key:e,value:e},c.data[e])})))),o.createElement(u.Z.Item,{label:"公司性质",name:"firm_type"},o.createElement(s.Z,{placeholder:"请选择",allowClear:!0},o.createElement(S,{value:b.Ft6.child},b.Ft6.description(b.Ft6.child)),o.createElement(S,{value:b.Ft6.points},b.Ft6.description(b.Ft6.points)),o.createElement(S,{value:b.Ft6.joint},b.Ft6.description(b.Ft6.joint)),o.createElement(S,{value:b.Ft6.acquisition},b.Ft6.description(b.Ft6.acquisition)),o.createElement(S,{value:b.Ft6.other},b.Ft6.description(b.Ft6.other)))),o.createElement(u.Z.Item,{label:"公司状态",name:"state"},o.createElement(s.Z,{placeholder:"请选择",allowClear:!0},o.createElement(S,{value:b.uR3.normal},b.uR3.description(b.uR3.normal)),o.createElement(S,{value:b.uR3.logout},b.uR3.description(b.uR3.logout)))),o.createElement(u.Z.Item,{label:"公司ID",name:"_id"},o.createElement(p.Z,{placeholder:"请输入",allowClear:!0}))],Z={operations:o.createElement("span",null,O.ZP.canOperateSharedCompanyCreate()?o.createElement(l.Z,{type:"primary",onClick:function(){window.location.href="/#/Shared/Company/Create"}},"创建"):"",O.ZP.canOperateSharedCompanyExport()?o.createElement(i.Z,{title:"创建下载任务？",onConfirm:j,okText:"确认",cancelText:"取消"},o.createElement(l.Z,{type:"primary",style:{marginLeft:10}},"导出EXCEL")):""),items:P,onSearch:n,onReset:n,onHookForm:function(e){w(e)}};return o.createElement(E.IT,null,o.createElement(E.j6,Z))})),j=(n(20186),n(75385)),P=n(30381),Z=n.n(P),F=(0,c.connect)((function(e){return{companyNature:e.sharedCompany.companyNature}}))((function(e){var t=e.companyList,n=void 0===t?{}:t,a=e.onShowSizeChange,r=void 0===a?function(){}:a,c=e.onChangePage,i=void 0===c?function(){}:c,l=e.companyNature,u=n.data,p=void 0===u?[]:u,m=n._meta,d=void 0===m?{}:m,s=[{title:"公司ID",dataIndex:"_id"},{title:"公司名称",dataIndex:"name"},{title:"公司类型",dataIndex:"firm_nature",render:function(e){return e?g().get(l,"data.".concat(e),"--"):"--"}},{title:"企业代表人",dataIndex:"legal_name"},{title:"注册资本（万）",dataIndex:"registered_capital",render:function(e){return e>=0?b.fbc.exchangePriceToWanYuan(e):"--"}},{title:"成立日期",dataIndex:"registered_date",render:function(e){return e?Z()(String(e)).format("YYYY-MM-DD"):"--"}},{title:"状态",dataIndex:"state",render:function(e){return e?b.uR3.description(e):"--"}},{title:"操作",dataIndex:"_id",width:150,render:function(e){var t="/#/Shared/Company/Update?id=".concat(e),n="/#/Shared/Company/Detail?id=".concat(e);return o.createElement("div",null,O.ZP.canOperateSharedCompanyDetail()?o.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},"查看"):"",O.ZP.canOperateSharedCompanyUpdate()?o.createElement("a",{href:t,style:{marginLeft:10}},"编辑"):"")}}],f={current:d.page||1,defaultPageSize:30,pageSize:d.page_size||30,showQuickJumper:!0,showSizeChanger:!0,onChange:i,onShowSizeChange:r,showTotal:function(e){return"总共".concat(e,"条")},total:d.result_count,pageSizeOptions:["10","20","30","40"]};return o.createElement(E.IT,{title:"公司列表"},o.createElement(j.Z,{rowKey:function(e,t){return e._id||t},columns:s,dataSource:p,pagination:f,bordered:!0}))}));function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=(0,c.connect)((function(e){return{companyList:e.sharedCompany.companyList}}))((function(e){var t=e.dispatch,n=e.companyList,a=(0,o.useState)({_meta:{page:1,limit:30}}),c=(0,r.Z)(a,2),i=c[0],l=c[1];(0,o.useEffect)((function(){return t({type:"sharedCompany/getSharedCompanyList",payload:I({},i)}),function(){t({type:"sharedCompany/reduceSharedCompanyList",payload:{}})}}),[t,i]),(0,o.useEffect)((function(){t({type:"sharedCompany/getSharedCompanyNature",payload:{}})}),[]);return o.createElement("div",null,o.createElement(w,{onSearch:function(e){l(I({_meta:{page:1,limit:30}},e))},dispatch:t}),o.createElement(F,{companyList:n,onChangePage:function(e,t){l(I(I({},i),{},{_meta:{page:e,limit:t}}))},onShowSizeChange:function(e,t){l(I(I({},i),{},{_meta:{page:e,limit:t}}))}}))}))}}]);