"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[4290],{74290:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});n(20186);var a=n(75385),r=(n(52560),n(71577)),o=(n(55295),n(69713)),i=n(29439),c=n(94315),l=n.n(c),u=n(30381),d=n.n(u),p=n(67294),m=n(55609),s=n(44654),f=n(93517),y=n.n(f),v=(n(9070),n(20924)),h=(n(29093),n(16317)),k=n(96036),E=n(80385),g=h.Z.Option;var w=function(e){var t=(0,p.useState)(void 0),n=(0,i.Z)(t,2)[1],a=(0,p.useState)([]),r=(0,i.Z)(a,2)[1],o={items:[{label:"申请状态",form:function(e){return e.getFieldDecorator("applyState",{initialValue:void 0})(p.createElement(h.Z,{allowClear:!0,placeholder:"请选择申请状态"},p.createElement(g,{value:E.Jku.pendding},E.Jku.description(E.Jku.pendding)),p.createElement(g,{value:E.Jku.verifying},E.Jku.description(E.Jku.verifying)),p.createElement(g,{value:E.Jku.rejected},E.Jku.description(E.Jku.rejected)),p.createElement(g,{value:E.Jku.done},E.Jku.description(E.Jku.done)),p.createElement(g,{value:E.Jku.withdraw},E.Jku.description(E.Jku.withdraw)),p.createElement(g,{value:E.Jku.close},E.Jku.description(E.Jku.close))))}},{label:"信息变更任务",form:function(e){return e.getFieldDecorator("change",{initialValue:void 0})(p.createElement(h.Z,{allowClear:!0,placeholder:"请选择申请状态"},p.createElement(g,{value:E.BnG.finished},E.BnG.description(E.BnG.finished)),p.createElement(g,{value:E.BnG.unfinished},E.BnG.description(E.BnG.unfinished))))}},{label:"主题标签",form:function(e){return e.getFieldDecorator("themeTag",{initialValue:void 0})(p.createElement(h.Z,{showArrow:!0,mode:"tags",style:{width:"100%"},placeholder:"请输入主题标签"},p.createElement(g,{value:E.cij.promotion},E.cij.description(E.cij.promotion)),p.createElement(g,{value:E.cij.demotion},E.cij.description(E.cij.demotion)),p.createElement(g,{value:E.cij.level},E.cij.description(E.cij.level))))}},{label:"调岗人姓名",form:function(e){return e.getFieldDecorator("postName",{initialValue:void 0})(p.createElement(v.Z,{placeholder:"请输入调岗人姓名"}))}},{label:"身份证号码",form:function(e){return e.getFieldDecorator("idCard",{initialValue:void 0})(p.createElement(v.Z,{placeholder:"请输入身份证号码"}))}},{label:"审批单号",form:function(e){return e.getFieldDecorator("examineNum",{initialValue:void 0})(p.createElement(v.Z,{placeholder:"请输入审批单号"}))}}],onReset:function(){e.onSearch&&e.onSearch({page:1,limit:30})},onSearch:function(t){e.onSearch(t)},onChange:function(e){r(e.suppliers)},onHookForm:function(e){n(e)},expand:!0};return p.createElement(k.IT,null,p.createElement(k.yL,o))},T=n(36886),_=n(45430),J={page:1,limit:30},D={searchParams:{}};var C=(0,m.connect)((function(e){return{employeeTurnoverData:e.employeeTurnover.employeeTurnoverData}}))((function(e){var t=(0,p.useState)(J),n=(0,i.Z)(t,1)[0];(0,p.useEffect)((function(){e.dispatch({type:"employeeTurnover/fetchEmployeeTurnoverData",payload:J})}),[]);var c,u,m,f,v=function(t){D.searchParams=t,D.searchParams.page||(D.searchParams.page=1),D.searchParams.limit||(D.searchParams.limit=30),e.dispatch({type:"employeeTurnover/fetchEmployeeTurnoverData",payload:D.searchParams})},h=function(e,t){var n=D.searchParams;n.page=e,n.limit=t,v(n)},g=function(e,t){var n=D.searchParams;n.page=e,n.limit=t,v(n)},C=function(t){var n="",a="",r="",o=p.createElement(s.Link,{to:{pathname:"/Employee/Turnover/Detail",search:"?id=".concat(t._id)},target:"_blank"}," 详情 "),i=y().get(t,"current_flow_node_info",void 0);return _.ZP.canOperateEmployeeTurnoverUpdate()&&(n=p.createElement("a",{src:"",className:T.Z["app-comp-employee-contract-opration-download"],onClick:function(){window.location.href="/#/Employee/Turnover/Update?id=".concat(t._id)}},"编辑")),_.ZP.canOperateEmployeeTurnoverDelete()&&(a=p.createElement("a",{src:"",className:T.Z["app-comp-employee-contract-opration-download"],onClick:function(){var n,a;n=t._id,a={id:n,taskState:E.BnG.detele,onSuccessCallback:function(){e.dispatch({type:"employeeTurnover/fetchEmployeeTurnoverData",payload:J})}},e.dispatch({type:"employeeTurnover/EmployeeTurnoverDelete",payload:a})}},"删除")),_.ZP.canOperateEmployeeTurnoverInfoChange()&&(r=p.createElement("a",{src:"",className:T.Z["app-comp-employee-contract-opration-download"],onClick:function(){var n,a;n=t._id,a={id:n,changeState:E.BnG.finished,onSuccessCallback:function(){e.dispatch({type:"employeeTurnover/fetchEmployeeTurnoverData",payload:J})}},e.dispatch({type:"employeeTurnover/updateEmployeeTurnover",payload:a})}},"完成信息变更")),E.Jku.pendding===t.state?p.createElement("div",null,o,n,a):E.Jku.rejected===t.state&&null===i||E.Jku.withdraw===t.state?p.createElement("div",null,o,n):E.Jku.done===t.state&&E.BnG.unfinished===t.task_state?p.createElement("div",null,o,r):p.createElement("div",null,o)};return p.createElement("div",null,p.createElement(w,{onSearch:v}),(c=y().get(e,"employeeTurnoverData.data",[]),u=[{dataIndex:"_id",key:"_id",title:"申请单号",render:function(e){return e||"--"}},{dataIndex:"changed_staff_info",key:"name",title:"调岗人",render:function(e){return e?e.name:"--"}},{dataIndex:"changed_staff_info",key:"identity_card_id",title:"身份证号",render:function(e){return e?e.identity_card_id:"--"}},{dataIndex:"state",key:"state",title:"申请单状态",render:function(e){return e?E.Jku.description(e):"--"}},{dataIndex:"theme_tags",key:"theme_tags",title:"主题标签",render:function(e){return l().not.existy(e)||l().empty(e)||l().not.array(e)?"--":1===e.length?y().get(e,"0"):p.createElement(o.Z,{title:e.map((function(e){return e})).join(" , ")},p.createElement("span",null,y().get(e,"0")," 等",e.length,"条"))}},{dataIndex:"active_at",key:"active_at",title:"期望生效时间",render:function(e){return e?d()(e).format("YYYY.MM.DD"):"--"}},{dataIndex:"apply_info",key:"apply_info",title:"申请人",render:function(e){return e?e.name:"--"}},{dataIndex:"created_at",key:"created_at",title:"申请时间",render:function(e){return e?d()(e).format("YYYY.MM.DD"):"--"}},{dataIndex:"task_state",key:"task_state",title:"信息变更任务",render:function(e){return e?E.BnG.description(e):"--"}},{key:"opration",title:"操作",render:function(e,t){return p.createElement("div",null,C(t))}}],m={total:y().get(e,"employeeTurnoverData.meta.resultCount",0),pageSize:n.limit,current:n.page,showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],onChange:h,onShowSizeChange:g},f="",_.ZP.canOperateEmployeeTurnoverCreate()&&(f=p.createElement(r.Z,{type:"primary",onClick:function(){window.location.href="/#/Employee/Turnover/Create"}},"调岗申请")),p.createElement(k.IT,{title:"人员异动申请列表",titleExt:f},p.createElement(a.Z,{bordered:!0,rowKey:function(e){return e._id},columns:u,dataSource:c,pagination:m}))))}))},36886:function(e,t){t.Z={"app-comp-employee-contract-opration-download":"dJMAgvmTQYGwUsaVkeCC","app-comp-employee-contract-batch-contract":"yqRTAB2ADu84rs4X7rQQ","app-comp-employee-contract-batch-id-card":"zmPoXMO2oTFXDJ0VqFsO","app-comp-expense-borrowing-info-file":"kzsC6LyQj7EKa76eHxCg","app-comp-employee-turnover-create-submit":"tONgwwaLEf72Ne1EL65X","app-comp-employee-turnover-create-save":"ajXiGno65DUWAMmmgZyw"}}}]);