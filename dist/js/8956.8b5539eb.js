"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[8956],{68956:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});n(20186);var r=n(75385),a=n(15671),i=n(43144),o=n(97326),c=n(60136),u=n(82963),s=n(61120),d=n(4942),l=n(93517),f=n.n(l),p=n(67294),h=n(45697),m=n.n(h),y=n(55609),_=n(68628),v=(n(54071),n(14072)),g=n(30381),Z=n.n(g),x=n(96036),w=n(88144),S="KuNG4wkQlXkJAxKNfr6_",k="cHo8CEzNjFXbt9j55Q08",P="w59IcCCYMePoxdxzcumu";function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var a=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var b=v.Z.MonthPicker,I=function(e){(0,c.Z)(n,e);var t=D(n);function n(e){var r;return(0,a.Z)(this,n),r=t.call(this,e),(0,d.Z)((0,o.Z)(r),"onSearch",(function(e){var t=r.state.onSearch,n=e.platforms,a=e.suppliers,i=e.cities,o=e.districts,c=e.belongTime,u=c?Z()(c).format("YYYYMM"):"";t&&t({platforms:n,suppliers:a,cities:i,districts:o,page:1,limit:30,belongTime:u})})),(0,d.Z)((0,o.Z)(r),"onReset",(function(){var e=r.state.onSearch;e&&e({page:1,limit:30,belongTime:void 0})})),(0,d.Z)((0,o.Z)(r),"disableDateOfMonth",(function(e){return e&&e>new Date})),(0,d.Z)((0,o.Z)(r),"render",(function(){var e=r.state.search.belongTime,t={items:[{label:"归属时间",form:function(t){return t.getFieldDecorator("belongTime",{initialValue:e})(p.createElement(b,{placeholder:"请选择归属时间",disabledDate:r.disableDateOfMonth}))}}],onReset:r.onReset,onSearch:r.onSearch};return p.createElement(x.IT,{className:P},p.createElement(w.p8,t))})),r.state={search:{belongTime:void 0},onSearch:e.onSearch},r}return n}(p.Component),C=n(80385);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var a=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var R=function(e){(0,c.Z)(n,e);var t=T(n);function n(e){var i;return(0,a.Z)(this,n),i=t.call(this,e),(0,d.Z)((0,o.Z)(i),"onSearch",(function(e){i.private.searchParams=e,i.private.searchParams.page||(i.private.searchParams.page=1),i.private.searchParams.limit||(i.private.searchParams.limit=30),i.props.dispatch({type:"supplyDeductions/fetchSupplyDeductionsList",payload:i.private.searchParams})})),(0,d.Z)((0,o.Z)(i),"onChangePage",(function(e,t){i.private.searchParams.page=e,i.private.searchParams.limit=t,i.onSearch(i.private.searchParams)})),(0,d.Z)((0,o.Z)(i),"onShowSizeChange",(function(e,t){i.private.searchParams.page=e,i.private.searchParams.limit=t,i.onSearch(i.private.searchParams)})),(0,d.Z)((0,o.Z)(i),"renderSearch",(function(){var e=(0,o.Z)(i).onSearch;return p.createElement(I,{onSearch:e})})),(0,d.Z)((0,o.Z)(i),"renderContent",(function(){var e=i.private.searchParams,t=e.page,n=e.limit,a=i.props.supplyDeductionsData,o=void 0===a?{}:a,c=f().get(o,"data",[]),u=f().get(o,"meta.count",0),s=[{title:"平台",dataIndex:"platform_name",key:"platform_name",width:70,fixed:"left",render:function(e){return e||"--"}},{title:"供应商",dataIndex:"supplier_name",key:"supplier_name",width:120,fixed:"left",render:function(e){return e||"--"}},{title:"城市",dataIndex:"city_name",key:"city_name",width:70,fixed:"left",render:function(e){return e||"--"}},{title:"商圈",dataIndex:"biz_district_name",key:"biz_district_name",width:140,fixed:"left",render:function(e){return e||"--"}},{title:"物资编号",dataIndex:"material_item_info",key:"material_item_info.code",render:function(e){return e.code||"--"}},{title:"姓名",dataIndex:"staff_info",key:"staff_info.name",width:90,render:function(e){return e.name||"--"}},{title:"人员身份证号",dataIndex:"staff_info",key:"staff_info.identity_card_id",width:140,render:function(e){return e.identity_card_id||"--"}},{title:"物资名称",dataIndex:"material_item_info",key:"material_item_info.name",width:100,render:function(e){return e.name||"--"}},{title:"数量",dataIndex:"qty",key:"qty",width:80,render:function(e){return e||"--"}},{title:"归属时间",dataIndex:"month",key:"month",width:100},{title:"押金扣款方式",dataIndex:"pledge_money_type",key:"pledge_money_type",width:130,render:function(e){return C.erU.description(e)||"--"}},{title:"使用费扣款方式",dataIndex:"fee_money_deduction_type",key:"fee_money_deduction_type",width:130,render:function(e){return C.DFN.description(e)||"--"}},{title:"应扣款押金(元)",dataIndex:"deduction_deposit",key:"deduction_deposit",width:140,render:function(e){return C.fbc.exchangePriceToYuan(e)||0}},{title:"应扣款使用费(元)",dataIndex:"deduction_usage_fee",key:"deduction_usage_fee",width:140,render:function(e){return C.fbc.exchangePriceToYuan(e)||0}},{title:"应扣款折损费(元)",dataIndex:"deduction_fee",key:"deduction_fee",width:140,render:function(e){return C.fbc.exchangePriceToYuan(e)||0}},{title:"应退款押金(元)",dataIndex:"refund_deposit",key:"refund_deposit",width:140,render:function(e){return C.fbc.exchangePriceToYuan(e)||0}}],d={showSizeChanger:!0,showQuickJumper:!0,pageSize:n||30,onShowSizeChange:i.onShowSizeChange,total:u,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],onChange:i.onChangePage};t&&(d.current=t);var l=p.createElement("span",null,p.createElement(_.Z,{className:S}),p.createElement("span",{className:k},"提示：每月1日自动更新上月扣款明细数据"));return p.createElement(x.IT,{title:l,isShowIcon:!0},p.createElement(r.Z,{columns:s,pagination:d,rowKey:function(e,t){return t},scroll:{x:1890,y:400},dataSource:c,bordered:!0}))})),i.state={},i.private={searchParams:{}},i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"supplyDeductions/fetchSupplyDeductionsList"})}},{key:"render",value:function(){return p.createElement("div",null,this.renderSearch(),this.renderContent())}}]),n}(p.Component);(0,d.Z)(R,"propTypes",{supplyDeductionsData:m().object}),(0,d.Z)(R,"defaultProps",{supplyDeductionsData:{}});var E=(0,y.connect)((function(e){return{supplyDeductionsData:e.supplyDeductions.supplyDeductionsData}}))(R)}}]);