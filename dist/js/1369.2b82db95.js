"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[1369],{88081:function(e,t,a){var n=a(15671),r=a(43144),o=a(97326),i=a(60136),c=a(82963),s=a(61120),d=a(4942),l=(a(29093),a(16317)),p=a(96486),u=a.n(p),m=a(93517),f=a.n(m),h=a(45697),y=a.n(h),v=a(67294),g=a(29335);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,c.Z)(this,a)}}var w=l.Z.Option,S=function(e){(0,i.Z)(a,e);var t=x(a);function a(){var e;return(0,n.Z)(this,a),e=t.call(this),(0,d.Z)((0,o.Z)(e),"onChangePersonOrPost",(function(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.props,o=r.onChange,i=r.onChangePerson,c=r.postPersonList,s=t,d=[],l=n.postmark,p=void 0===l?void 0:l,u=!!p;if(u){a=t;var m=c.filter((function(e){return e._id===t}));s=1===(d=f().get(m[0],"account_info_list",[])).length?d[0]._id:void 0}e.setState({personId:s,postId:a,personShowId:t,isShowPost:u,accountList:d}),o({personId:s,postId:a,postPersonId:1===d.length?d[0]._id:void 0,personShowId:t});var h=1===d.length,y=!!u;i&&i(y,h)})),(0,d.Z)((0,o.Z)(e),"onChangePerson",(function(t){var a=e.props.onChange,n=e.state,r=n.postId,o=n.personShowId;e.setState({personId:t,postPersonId:t}),a&&a({personId:t,postId:r,postPersonId:t,personShowId:o})})),(0,d.Z)((0,o.Z)(e),"renderForm",(function(){var t=e.props,a=t.accountIdsData,n=t.value,r=t.isDisabledPost,o=t.isDisabledPerson,i=t.postList,c=void 0===i?[]:i,s=t.personList,d=void 0===s?[]:s,p=e.state.accountList,m=n.postPersonId,h=n.personShowId,y=e.state.isShowPost;1===c.length&&0===d.length&&1!==c[0].account_ids&&(p=f().get(a[0],"account_info_list",[]),y=!0),1===c.length&&0===d.length&&1===c[0].account_ids&&(p=f().get(a[0],"account_info_list",[]),y=!0);var x=u().uniqWith(p,u().isEqual);return v.createElement("div",null,v.createElement(l.Z,{placeholder:"请选择审批人或审批岗位",value:h,className:!0===y?g.Z["app-comp-expense-approve-person-post-selector"]:g.Z["app-comp-expense-approve-person-selector"],disabled:r,onChange:e.onChangePersonOrPost},a.map((function(e){var t=e.id||e._id,a=e.name||e.post_name,n=e.post_name;return v.createElement(w,{key:t,value:t,postmark:n},a)}))),!0===y?v.createElement(l.Z,{placeholder:"请选择审批人",value:m,className:g.Z["app-comp-expense-approve-person-post-person-selector"],disabled:o,onChange:e.onChangePerson},x.map((function(e){return v.createElement(w,{key:e._id,value:e._id},e.name)}))):null)})),e.state={value:void 0,isShowPost:!1,personShowId:void 0,postPersonId:void 0,postId:void 0,personId:void 0,accountList:[]},e}return(0,r.Z)(a,[{key:"render",value:function(){return v.createElement("div",null,this.renderForm())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.value,n=void 0===a?{}:a,r=t.value;return void 0===(void 0===r?void 0:r)&&Object.keys(n).length>0?{value:n,personShowId:n.personShowId,postPersonId:n.postPersonId,postId:n.postId,personId:n.personId}:null}}]),a}(v.Component);(0,d.Z)(S,"propTypes",{value:y().object}),(0,d.Z)(S,"defaultProps",{value:{}}),t.Z=S},21369:function(e,t,a){a.r(t),a.d(t,{default:function(){return ne}});a(438);var n=a(14277),r=(a(20186),a(75385)),o=(a(18085),a(55241)),i=(a(13062),a(71230)),c=(a(89032),a(15746)),s=(a(52560),a(71577)),d=(a(51838),a(48086)),l=a(15671),p=a(43144),u=a(97326),m=a(60136),f=a(82963),h=a(61120),y=a(4942),v=a(67294),g=a(94315),x=a.n(g),w=a(93517),S=a.n(w),P=a(55609),Z=a(45697),b=a.n(Z),I=a(96036),_=a(80385),M=a(45430),k=(a(54071),a(14072)),F=(a(29093),a(16317)),E=a(30381),C=a.n(E),T=a(88144),O="G0B1P7vOgdqmKote9yxO",D="RuoWc8tZlVcAh2qrn32A",R="GM1hXoUnRN8J9o62CHls",A="Bx7DWLzi1SOR6PKasbOp",j="f5DW6hYqL43hped6lQPu",N="VNQU3UGVKrSPZ9a08UB5",V="qywp11VRacWB1h5UygmC";function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.Z)(e);if(t){var r=(0,h.Z)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.Z)(this,a)}}var z=F.Z.Option,U=k.Z.MonthPicker,W=function(e){(0,m.Z)(a,e);var t=H(a);function a(e){var n;return(0,l.Z)(this,a),n=t.call(this,e),(0,y.Z)((0,u.Z)(n),"onChangePlatforms",(function(e){var t=n.state,a=t.form,r=t.search,o=n.private.flag,i=n.props.onSearchPlatform;if(r.platform=e,r.suppliers=[],r.cities=[],n.setState({search:r}),o){n.private.searchParams.platform=e;var c={platform:e,page:1,limit:30};x().existy(i)&&x().not.empty(i)&&i(c),n.private.flag=!1}a.setFieldsValue({suppliers:[]}),a.setFieldsValue({cities:[]})})),(0,y.Z)((0,u.Z)(n),"onChangeSuppliers",(function(e){var t=n.state,a=t.form,r=t.search;r.suppliers=e,r.cities=[],n.setState({search:r}),a.setFieldsValue({cities:[]})})),(0,y.Z)((0,u.Z)(n),"onReset",(function(){var e=n.state.onSearch,t={suppliers:[],platform:n.private.searchParams.platform,cities:[],workType:"",verifyState:[],cycle:"",page:1,limit:30};n.setState({search:t}),e&&e(t)})),(0,y.Z)((0,u.Z)(n),"onSearch",(function(e){var t=n.state.onSearch,a=e.suppliers,r=e.platform,o=e.cities,i=e.verifyState,c=e.workType,s=e.cycle,d={suppliers:a,platform:r,cities:o,verifyState:i,workType:c,page:1,limit:30};x().existy(s)&&x().not.empty(s)&&(d.cycle=C()(s).format("YYYYMM")),t&&t(d)})),(0,y.Z)((0,u.Z)(n),"onHookForm",(function(e){n.setState({form:e})})),(0,y.Z)((0,u.Z)(n),"onChangeWorkProperty",(function(e){var t=n.state.search;t.workType=Number(e),n.setState({search:t})})),(0,y.Z)((0,u.Z)(n),"render",(function(){var e=n.state.search,t=e.platform,a=e.workType,r=e.suppliers,o=e.cities,i=e.verifyState,c={items:[{label:"平台",form:function(e){return e.getFieldDecorator("platform",{initialValue:t})(v.createElement(T.Yg,{showSearch:!0,showDefaultValue:!0,optionFilterProp:"children",placeholder:"请选择平台",onChange:n.onChangePlatforms}))}},{label:"供应商",form:function(e){return e.getFieldDecorator("suppliers",{initialValue:r})(v.createElement(T.o2,{allowClear:!0,showSearch:!0,optionFilterProp:"children",mode:"multiple",showArrow:!0,placeholder:"请选择供应商",platforms:t,onChange:n.onChangeSuppliers}))}},{label:"城市",form:function(e){return e.getFieldDecorator("cities",{initialValue:o})(v.createElement(T.Wn,{isExpenseModel:!0,allowClear:!0,showSearch:!0,optionFilterProp:"children",mode:"multiple",showArrow:!0,placeholder:"请选择城市",platforms:t?[t]:[],suppliers:r}))}},{label:"个户类型",form:function(e){return e.getFieldDecorator("workType",{initialValue:a||void 0})(v.createElement(F.Z,{allowClear:!0,placeholder:"请选择个户类型",onChange:n.onChangeWorkProperty},v.createElement(z,{value:"".concat(_.EbQ.first)},_.EbQ.description(_.EbQ.first)),v.createElement(z,{value:"".concat(_.EbQ.second)},_.EbQ.description(_.EbQ.second))))}},{label:"审核状态",tips:"结算单汇总的审核状态",form:function(e){return e.getFieldDecorator("verifyState",{initialValue:i})(v.createElement(F.Z,{allowClear:!0,placeholder:"请选择审核状态",showArrow:!0,mode:"multiple"},v.createElement(z,{value:"".concat(_.gcb.waiting)},_.gcb.description(_.gcb.waiting)),v.createElement(z,{value:"".concat(_.gcb.processing)},_.gcb.description(_.gcb.processing)),v.createElement(z,{value:"".concat(_.gcb.success)},_.gcb.description(_.gcb.success))))}},{label:"结算周期",form:function(e){return e.getFieldDecorator("cycle",{initialValue:null})(v.createElement(U,{className:V,placeholder:"请选择周期"}))}}],operations:n.state.operations,onReset:n.onReset,onSearch:n.onSearch,onHookForm:n.onHookForm,expand:!0};return v.createElement(I.IT,{className:N},v.createElement(I.yL,c))})),n.state={form:void 0,search:{suppliers:[],platform:"",cities:[],workType:"",verifyState:[]},onSearch:e.onSearch,operations:e.operations?e.operations:void 0},n.private={flag:!0,searchParams:{}},n}return a}(v.Component),B=W,q=(a(52466),a(10642)),K=a(66939),L=(a(98703),a(88081)),Q="A9c_DY8aa4lv6izXK9aH",X="lRSnilz_FOEljYpIP7n2";function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){(0,y.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.Z)(e);if(t){var r=(0,h.Z)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.Z)(this,a)}}var $=function(e){(0,m.Z)(a,e);var t=J(a);function a(e){var n;return(0,l.Z)(this,a),n=t.call(this,e),(0,y.Z)((0,u.Z)(n),"onDirectToInfo",(function(){n.onReset()})),(0,y.Z)((0,u.Z)(n),"onSubmit",(function(e){var t=n.props,a=t.onHideModal,r=t.summaryId;e.preventDefault(),n.props.form.validateFieldsAndScroll((function(e,t){if(!e){var o=t.assignedPerson,i=void 0===o?{}:o,c=i.postId,s=i.personId;if(x().not.existy(r)||x().empty(r))return d.ZP.error("操作失败，请选择结算单");var l={ids:r,accountId:s,postId:c};n.props.dispatch({type:"financeSummaryManage/submitSalaryStatement",payload:l}),a&&a()}}))})),(0,y.Z)((0,u.Z)(n),"onVerify",(function(e,t,a){var r=n.props.auditInfo,o=void 0===r?{}:r,i=n.state.isVerifyPost,c=S().get(o,"node_list",[]),s=S().get(c[0],"account_list",[]);1===S().get(c[0],"post_list",[]).length&&0===s.length&&(i=!0),!0===e.isApprovalAll||!1===e.isApprovalAll&&e.isAutoMatic&&!1===i||!1===e.isApprovalAll&&!0===i&&t.postId&&t.personId||!1===e.isApprovalAll&&!1===e.isAutoMatic&&!1===i&&t.personId?a():a("请选择指派审批人或审批岗位")})),(0,y.Z)((0,u.Z)(n),"onCancel",(function(){var e=n.props.onHideModal;n.setState({isVerifyPost:!1,isDefault:!1}),e&&e(),n.onReset()})),(0,y.Z)((0,u.Z)(n),"onChangePerson",(function(e,t){n.setState({isVerifyPost:e,isDefault:!1,isDisabledPerson:t})})),(0,y.Z)((0,u.Z)(n),"onReset",(function(){n.props.form.resetFields()})),(0,y.Z)((0,u.Z)(n),"renderCreateForm",(function(){var e=n.state.isDefault,t=n.props,a=t.auditInfo,r=void 0===a?{}:a,o=t.isShowModal,i=n.props.form.getFieldDecorator;if(o&&0!==Object.keys(r).length){var c,s,d=[],l=[],p={},u=S().get(r,"node_list");x().existy(u)&&x().array(u)&&x().not.empty(u)&&(p=u[0]||{},d=S().get(u[0],"account_list",[]),l=S().get(u[0],"post_list",[]),s=S().get(u[0],"pick_mode"),c=u[0].approve_mode);var m={message:"请选择审批人或审批岗位",isApprovalAll:!1,isAutoMatic:!1,required:!1};c===_.Fv8.all&&(m.isApprovalAll=!0),s===_.zn9.automatic&&(m.isAutoMatic=!0),m.isApprovalAll||m.isAutoMatic||(m.required=!0);var f,h,y,g,w=d.concat(l),P=!1,Z=!1;0===l.length&&1===w.length&&c===_.Fv8.any&&(h=d[0]._id,g=d[0]._id,P=!0),1===l.length&&1===w.length&&c===_.Fv8.any&&(f=l[0]._id,g=l[0]._id,P=!0),1===l.length&&1===w.length&&1===l[0].account_ids.length&&c===_.Fv8.any&&(h=l[0].account_ids[0],f=l[0]._id,y=l[0].account_ids[0],g=l[0]._id,P=!0,Z=!0);var b={nextNodeDetail:p,accountIdsData:w,postPersonList:l,onChangePerson:n.onChangePerson,isDisabledPost:P,isDisabledPerson:e?Z:n.state.isDisabledPerson,postList:l,personList:d},M=[{label:"下一节点审批人",form:i("assignedPerson",{initialValue:{personId:h,postId:f,postPersonId:y,personShowId:g},rules:[G(G({},m),{},{validator:n.onVerify})],validateTrigger:n.onSubmit})(v.createElement(L.Z,b))}];return v.createElement("div",null,v.createElement(I.KP,{items:M,cols:1,layout:{labelCol:{span:8},wrapperCol:{span:16}}}))}})),(0,y.Z)((0,u.Z)(n),"render",(function(){var e=n.props.isShowModal,t=(0,u.Z)(n),a=t.onSubmit,r=t.onCancel;return v.createElement(q.Z,{title:"操作",visible:e,onOk:a,onCancel:r,okText:"创建",cancelText:"取消"},v.createElement("div",{className:Q},v.createElement("p",{className:X},"请指派下一个节点的审批人")),v.createElement(K.Z,null,n.renderCreateForm()))})),n.state={isVerifyPost:!1,isDefault:!0,isDisabledPerson:!1},n}return(0,p.Z)(a,[{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"financeSummaryManage/resetSalarySubmitAudit"})}}]),a}(v.Component);(0,y.Z)($,"propTypes",{auditInfo:b().object,onHideModal:b().func,isShowModal:b().bool,summaryId:b().string}),(0,y.Z)($,"defaultProps",{auditInfo:{},onHideModal:function(){},isShowModal:!1,summaryId:""});var ee=(0,P.connect)((function(e){return{auditInfo:e.financeSummaryManage.auditInfo}}))(K.Z.create()($));function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.Z)(e);if(t){var r=(0,h.Z)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.Z)(this,a)}}var ae=function(e){(0,m.Z)(a,e);var t=te(a);function a(){var e;return(0,l.Z)(this,a),e=t.call(this),(0,y.Z)((0,u.Z)(e),"onSearchPlatform",(function(t){e.private.searchParams=t,e.props.dispatch({type:"financeSummaryManage/fetchSalaryStatement",payload:e.private.searchParams})})),(0,y.Z)((0,u.Z)(e),"onSearch",(function(t){e.private.searchParams=t,e.private.searchParams.page||(e.private.searchParams.page=1),e.private.searchParams.limit||(e.private.searchParams.limit=30),e.props.dispatch({type:"financeSummaryManage/fetchSalaryStatement",payload:t})})),(0,y.Z)((0,u.Z)(e),"onChangePage",(function(t){var a=e.private.searchParams;a.page=t,e.onSearch(a)})),(0,y.Z)((0,u.Z)(e),"onShowSizeChange",(function(t,a){var n=e.private.searchParams;n.page=t,n.limit=a,e.onSearch(n)})),(0,y.Z)((0,u.Z)(e),"onUploadSuccess",(function(t,a,n){var r={key:t,id:n._id};e.props.dispatch({type:"financeSummaryManage/fetchUploadSalaryExcel",payload:r})})),(0,y.Z)((0,u.Z)(e),"onUploadFailure",(function(e){d.ZP.error(e)})),(0,y.Z)((0,u.Z)(e),"onDownloadModal",(function(t){var a={id:t._id};e.props.dispatch({type:"financeSummaryManage/fetchDownLoadSalaryStatementModal",payload:a})})),(0,y.Z)((0,u.Z)(e),"onDownloadSalaryStatement",(function(t){var a={id:t._id};e.props.dispatch({type:"financeSummaryManage/downloadSalaryStatement",payload:a})})),(0,y.Z)((0,u.Z)(e),"onDownloadOperating",(function(t){var a={id:t._id};e.props.dispatch({type:"financeSummaryManage/fetchDownloadOperatingModal",payload:a})})),(0,y.Z)((0,u.Z)(e),"onUploadOperating",(function(t,a,n){var r={key:t,id:n._id};e.props.dispatch({type:"financeSummaryManage/fetchUploadOperatingExcel",payload:r})})),(0,y.Z)((0,u.Z)(e),"onHideModal",(function(){e.setState({isShowModal:!1})})),(0,y.Z)((0,u.Z)(e),"onShowModal",(function(t){if(x().not.existy(t._id)||x().empty(t._id))return d.ZP.info("请添加结算汇总单数据");if(e.setState({summaryId:t._id}),x().not.empty(t)){var a={summaryItemId:t._id,scope:S().get(t,"domain",0),platform:S().get(t,"platform_code",void 0),supplier:S().get(t,"supplier_id",void 0),city:S().get(t,"city_spelling",void 0),onSuccessCallback:e.onSuccessAuditInfo};e.props.dispatch({type:"financeSummaryManage/fetchSalarySubmitAudit",payload:a})}})),(0,y.Z)((0,u.Z)(e),"onSuccessAuditInfo",(function(t){var a=e.state.summaryId;if(x().not.empty(t)){var n,r=S().get(t,"node_list");if(x().existy(r)&&x().not.empty(r)&&(n=r[0].approve_mode),n===_.Fv8.all){var o={ids:a};e.props.dispatch({type:"financeSummaryManage/submitSalaryStatement",payload:o})}else e.setState({isShowModal:!0})}else d.ZP.error("审批流未配置")})),(0,y.Z)((0,u.Z)(e),"renderSearch",(function(){var t=(0,u.Z)(e).onSearch;return v.createElement(B,{onSearch:t,onSearchPlatform:e.onSearchPlatform})})),(0,y.Z)((0,u.Z)(e),"renderAuditModal",(function(){var t=(0,u.Z)(e).onHideModal,a=e.state,n=a.isShowModal,r=a.summaryId;return v.createElement(ee,{onHideModal:t,isShowModal:n,summaryId:r})})),(0,y.Z)((0,u.Z)(e),"renderRoperationContent",(function(t){var a=t.state===_.gcb.success||t.state===_.gcb.processing;return v.createElement(o.Z,{placement:"left",content:v.createElement("div",{className:O},v.createElement(i.Z,null,M.ZP.canOperateFinanceManageSummaryModalDownload()?v.createElement(c.Z,{span:12},v.createElement(s.Z,{type:"primary",className:D,onClick:function(){return e.onDownloadModal(t)}},"服务费计算模版",v.createElement("br",null),"下载")):"",M.ZP.canOperateFinanceManageSummaryUpload()?v.createElement(c.Z,{span:12},a?v.createElement(s.Z,{disabled:a,className:D},v.createElement("span",null,"服务费计算文件",v.createElement("br",null),"上传")):v.createElement(I.zI,{domain:"salary",namespace:t._id,customContent:v.createElement(s.Z,{type:"primary",className:D},v.createElement("span",{className:j},"服务费计算文件",v.createElement("br",null),"上传")),onSuccess:function(a,n){e.onUploadSuccess(a,n,t)},onFailure:e.onUploadFailure})):"",M.ZP.canOperateFinanceManageOperatingModalDownload()?v.createElement(c.Z,{span:12},v.createElement(s.Z,{type:"primary",className:D,onClick:function(){return e.onDownloadOperating(t)}},"运营补扣款模",v.createElement("br",null),"版下载")):"",M.ZP.canOperateFinanceManageOperatingUpload()?v.createElement(c.Z,{span:12}," ",a?v.createElement(s.Z,{disabled:a,className:D}," ",v.createElement("span",null,"运营补扣款文",v.createElement("br",null),"件上传")):v.createElement(I.zI,{domain:"salary",namespace:t._id,customContent:v.createElement(s.Z,{type:"primary",className:D},v.createElement("span",{className:j},"运营补扣款文",v.createElement("br",null),"件上传")),onSuccess:function(a,n){e.onUploadOperating(a,n,t)},onFailure:e.onUploadFailure})):"",M.ZP.canOperateFinanceManageSummaryDownload()?v.createElement(c.Z,{span:12},v.createElement(s.Z,{type:"primary",className:D,onClick:function(){return e.onDownloadSalaryStatement(t)}},"结算单下载")):"")),trigger:"hover"},v.createElement("a",{className:A},"下载/上传"))})),(0,y.Z)((0,u.Z)(e),"renderElemContent",(function(){var t=e.props.salarySummary,a=void 0===t?{}:t,n=e.private.searchParams||1,o=n.page,i=n.limit,c=[{title:"序号",dataIndex:"序号",width:50,fixed:"left",render:function(e,t,a){var n=i*(o-1)+a+1;return v.createElement("div",null,n)}},{title:"主体",dataIndex:"主体",fixed:"left",width:173,render:function(e,t){return(t.summary_data||{})["主体"]||"--"}},{title:"城市",dataIndex:"城市",fixed:"left",width:53,render:function(e,t){return(t.summary_data||{})["城市"]||"--"}},{title:"雇佣主体",dataIndex:"雇佣主体",width:80,render:function(e,t){return(t.summary_data||{})["雇佣主体"]||"--"}},{title:"项目",dataIndex:"项目",width:80,render:function(e,t){return(t.summary_data||{})["项目"]||"--"}},{title:"个户类型",dataIndex:"work_type",width:80,render:function(e){return _.EbQ.description(e)}},{title:"成本中心",dataIndex:"成本中心",width:120,render:function(e,t){return(t.summary_data||{})["成本中心"]||"--"}},{title:"人数",dataIndex:"人数",width:120,render:function(e,t){var a=t.summary_data||{};return a["人数"]>=0?a["人数"]:"--"}},{title:"招聘费用预测",dataIndex:"招聘费用预测",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["招聘费用预测"])||"--"}},{title:"单量",dataIndex:"单量",width:120,render:function(e,t){var a=t.summary_data||{};return a["完成单量"]>=0?a["完成单量"]:"--"}},{title:"服务费调节类补款",dataIndex:"薪资调节类补款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["薪资调节类补款"])||"--"}},{title:"内荐费",dataIndex:"内荐费",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["内荐费"])||"--"}},{title:"押金返还",dataIndex:"押金返还",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["押金返还"])||"--"}},{title:"平台奖励",dataIndex:"平台奖励",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["平台奖励"])||"--"}},{title:"现金内荐费",dataIndex:"现金内荐费",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["现金内荐费"])||"--"}},{title:"兼职工资(应发后)",dataIndex:"兼职工资(应发后)",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["兼职工资扣款"])||"--"}},{title:"临时性结算汇总",dataIndex:"临时性结算汇总",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["临时性结算"])||"--"}},{title:"工伤保险扣款",dataIndex:"工伤保险扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["工伤险扣款"])||"--"}},{title:"平台雇主险扣款",dataIndex:"平台雇主险扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["平台雇主险扣款"])||"--"}},{title:"电动车扣款",dataIndex:"电动车扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["电动车扣款"])||"--"}},{title:"电动车租金扣款",dataIndex:"电动车租金扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["电动车租金扣款"])||"--"}},{title:"电动车押金扣款",dataIndex:"电动车押金扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["电动车押金扣款"])||"--"}},{title:"装备押金",dataIndex:"装备押金",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["装备押金扣款"])||"--"}},{title:"装备扣款",dataIndex:"装备扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["装备扣款"])||"--"}},{title:"应发工资",dataIndex:"应发工资",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["应发工资"])||"--"}},{title:"社保扣款",dataIndex:"社保扣款",width:120,render:function(){return 0}},{title:"个人所得税",dataIndex:"个人所得税",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["个人所得税"])||"--"}},{title:"实发工资",dataIndex:"实发工资",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["实发工资"])||"--"}},{title:"三方手续费汇总",dataIndex:"手续费",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["手续费"])||"--"}},{title:"综合实发工资",dataIndex:"综合实发工资",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["实发工资"])||"--"}},{title:"文件上传状态(服务费计算)",dataIndex:"calculation_template_state",width:120,render:function(e){return _._PX.description(e)}},{title:"文件上传状态(运营补扣款)",dataIndex:"adjustment_template_state",width:120,render:function(e){return _._PX.description(e)}},{title:"审核状态",dataIndex:"state",width:120,render:function(e){return _.gcb.description(e)}},{title:"操作",dataIndex:"操作",width:150,fixed:"right",render:function(t,a){var n,r=a.state===_.gcb.waiting||a.state===_.gcb.reject;return M.ZP.canOperateFinanceManageSummarySubmit()&&r&&(n=v.createElement("a",{onClick:function(){return e.onShowModal(a)},className:R},"提审")),v.createElement("div",null,n,v.createElement("a",{href:"/#/Finance/Manage/Summary/Detail/City?id=".concat(a._id,"&states=").concat(a.state,"&platformCode=").concat(a.platform_code,"&canDelay=1"),className:R},"查看"),e.renderRoperationContent(a))}}],s=c.map((function(e){return e.width||0})).reduce((function(e,t){return e+t})),d={current:o,defaultPageSize:30,onChange:e.onChangePage,showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:e.onShowSizeChange,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],total:S().get(a,"_meta.result_count",0)};return v.createElement(I.IT,{title:"服务费列表"},v.createElement(r.Z,{rowKey:function(e){return e._id},dataSource:a.data,columns:c,pagination:d,bordered:!0,scroll:{x:s}}))})),(0,y.Z)((0,u.Z)(e),"renderMeituanContent",(function(){var t=e.props.salarySummary,a=void 0===t?{}:t,n=e.private.searchParams,o=n.page,i=n.limit,c=[{title:"序号",dataIndex:"序号",key:"序号",fixed:"left",width:50,render:function(e,t,a){var n=i*(o-1)+a+1;return v.createElement("div",null,n)}},{title:"主体",dataIndex:"主体",key:"主体",fixed:"left",width:173,render:function(e,t){return(t.summary_data||{})["主体"]||"--"}},{title:"城市",dataIndex:"城市",key:"城市",fixed:"left",width:53,render:function(e,t){return(t.summary_data||{})["城市"]||"--"}},{title:"雇佣主体",dataIndex:"雇佣主体",key:"雇佣主体",width:80,render:function(e,t){return(t.summary_data||{})["雇佣主体"]||"--"}},{title:"项目",dataIndex:"项目",key:"项目",width:80,render:function(e,t){return(t.summary_data||{})["项目"]||"--"}},{title:"个户类型",dataIndex:"work_type",key:"work_type",width:80,render:function(e){return _.EbQ.description(e)}},{title:"成本中心",dataIndex:"成本中心",key:"成本中心",width:120,render:function(e,t){return(t.summary_data||{})["成本中心"]||"--"}},{title:"人数",dataIndex:"人数",key:"人数",width:120,render:function(e,t){var a=t.summary_data||{};return a["人数"]>=0?a["人数"]:"--"}},{title:"招聘费用预测",dataIndex:"招聘费用预测",key:"招聘费用预测",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["招聘费用预测"])||"--"}},{title:"单量",dataIndex:"单量",key:"单量",width:120,render:function(e,t){var a=t.summary_data||{},n=a["完成单量"]+a["外单单量"];return n>=0?n:"--"}},{title:"服务费类调节补款",dataIndex:"薪资类调节补款",key:"薪资类调节补款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["薪资调节类补款"])||"--"}},{title:"平台奖励",dataIndex:"平台奖励",key:"平台奖励",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["平台奖励"])||"--"}},{title:"内荐费",dataIndex:"内荐费",key:"内荐费",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["内荐费"])||"--"}},{title:"押金返还（6月前）",dataIndex:"押金返还（6月前）",key:"押金返还（6月前）",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["押金返还（6月前）"])||"--"}},{title:"押金返还（6月后）",dataIndex:"押金返还（6月后）",key:"押金返还（6月后）",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["押金返还（6月后）"])||"--"}},{title:"现金内荐费扣款",dataIndex:"现金内荐费扣款",key:"现金内荐费扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["现金内荐费扣款"])||"--"}},{title:"兼职工资扣款",dataIndex:"兼职工资扣款",key:"兼职工资扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["兼职工资扣款"])||"--"}},{title:"临时性结算扣回",dataIndex:"临时性结算扣回",key:"临时性结算扣回",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["临时性结算扣回"])||"--"}},{title:"工伤保险扣款",dataIndex:"工伤保险扣款",key:"工伤保险扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["工伤险扣款"])||"--"}},{title:"平台雇主险扣款",dataIndex:"平台雇主险扣款",key:"平台雇主险扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["平台雇主险扣款"])||"--"}},{title:"电动车扣款",dataIndex:"电动车扣款",key:"电动车扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["电动车扣款"])||"--"}},{title:"电动车租金扣款",dataIndex:"电动车租金扣款",key:"电动车租金扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["电动车租金扣款"])||"--"}},{title:"电动车押金扣款",dataIndex:"电动车押金扣款",key:"电动车押金扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["电动车押金扣款"])||"--"}},{title:"装备押金扣款",dataIndex:"装备押金扣款",key:"装备押金扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["装备押金扣款"])||"--"}},{title:"装备扣款",dataIndex:"装备扣款",key:"装备扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["装备扣款"])||"--"}},{title:"应发工资",dataIndex:"应发工资",key:"应发工资",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["应发工资"])||"--"}},{title:"社保扣款",dataIndex:"社保扣款",key:"社保扣款",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["社保扣款(个人）"])||"--"}},{title:"个人所得税",dataIndex:"个人所得税",key:"个人所得税",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["个人所得税"])||"--"}},{title:"手续费",dataIndex:"手续费",key:"手续费",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["手续费"])||"--"}},{title:"实发工资",dataIndex:"实发工资",key:"实发工资",width:120,render:function(e,t){var a=t.summary_data||{};return _.fbc.exchangePriceToMathFormat(a["实发工资"])||"--"}},{title:"文件上传状态(服务费计算)",dataIndex:"calculation_template_state",key:"calculation_template_state",width:120,render:function(e){return _._PX.description(e)}},{title:"文件上传状态(运营补扣款)",dataIndex:"adjustment_template_state",key:"adjustment_template_state",width:120,render:function(e){return _._PX.description(e)}},{title:"审核状态",dataIndex:"state",key:"state",width:120,render:function(e){return _.gcb.description(e)}},{title:"操作",dataIndex:"operation",key:"operation",width:150,fixed:"right",render:function(t,a){var n,r=a.state===_.gcb.waiting||a.state===_.gcb.reject;return M.ZP.canOperateFinanceManageSummarySubmit()&&r&&(n=v.createElement("a",{onClick:function(){return e.onShowModal(a)},className:R},"提审")),v.createElement("div",null,n,v.createElement("a",{href:"/#/Finance/Manage/Summary/Detail/City?id=".concat(a._id,"&states=").concat(a.state,"&platformCode=").concat(a.platform_code,"&canDelay=1"),className:R},"查看"),e.renderRoperationContent(a))}}],s=c.map((function(e){return e.width||0})).reduce((function(e,t){return e+t})),d={current:o,defaultPageSize:30,onChange:e.onChangePage,showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:e.onShowSizeChange,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],total:S().get(a,"_meta.result_count",0)};return v.createElement(I.IT,{title:"服务费列表"},v.createElement(r.Z,{rowKey:function(e){return e._id},dataSource:a.data,columns:c,pagination:d,bordered:!0,scroll:{x:s}}))})),(0,y.Z)((0,u.Z)(e),"renderIsPlatformTable",(function(){var t=e.private.searchParams.platform;return"elem"===t?e.renderElemContent():"meituan"===t?e.renderMeituanContent():v.createElement(n.Z,null)})),e.state={selectedRowKeys:[],isShowModal:!1,summaryId:void 0},e.private={searchParams:{page:1,limit:30}},e}return(0,p.Z)(a,[{key:"render",value:function(){var e=this.renderSearch,t=this.renderIsPlatformTable,a=this.renderAuditModal;return v.createElement("div",null,e(),t(),a())}}]),a}(v.Component);(0,y.Z)(ae,"propTypes",{salarySummary:b().object}),(0,y.Z)(ae,"defaultProps",{salarySummary:{}});var ne=(0,P.connect)((function(e){return{salarySummary:e.financeSummaryManage.salarySummary}}))(ae)},29335:function(e,t){t.Z={"app-comp-expense-approve-close-modal-wrap":"wFWoJcqtHrYnD2k8OP3T","app-comp-expense-approve-close-modal-icon":"NVxOz8H3KCLv2PrksvNr","app-comp-expense-approve-close-modal-finish":"D2StYhDY5JgCv2lDVq_X","app-comp-expense-approve-close-modal-count":"DsT4Bl_ZOds1ViSTcHNg","app-comp-expense-approve-close-modal-seconds":"c3a9kycIP3SgUuOgIVgA","app-comp-expense-approve-close-modal-tip":"yi1yWK7DaYHUOCR7dag5","app-comp-expense-approve-close-modal-btn-wrap":"j0nQgO9DmzwkLMe7HMMw","app-comp-expense-approve-close-modal-btn":"YyYFH8hHW4FtyChayxHY","app-comp-expense-approve-person-post-selector":"vw4ra8UPKBLmynjjiqIi","app-comp-expense-approve-person-selector":"_Pt_gfsyyzkRRTMZ5MtA","app-comp-expense-approve-person-post-person-selector":"eup6JthyTMeF6m9INbbv","app-comp-expense-borrow-info-download-btn":"c8c6zBDL2peXANzK80sx","app-comp-expense-business-info-together-name":"mm09g3qaUJ5XRMHvdwwL","app-comp-expense-business-info-transport-kind":"Z8cRkTgFMMdAXRRG838S","app-comp-expense-business-info-ext":"acU3pMBuzOKi8RO2Hek7","app-comp-expense-cost-order-item-files-link":"cVx63tklQroCVJaWRzuB","app-comp-expense-cost-order-item-update-cost-money":"wmb7gmM1JjHdN0pwCrQX","app-comp-expense-detail-operate-wrap":"WOg4C32YPoCKdaflWLOq","app-comp-expense-detail-operate-item":"E5eUuKkyGvwMhvv3hAFi","app-comp-expense-detail-tag-selector":"jhmUqieq6sXXO69HqGtP","app-comp-expense-detail-tag-td":"d06rEhpZq17srsc7ijeT","app-comp-expense-detail-order-info-ext":"DMhWKR3u6STKrG5e3mlt","app-comp-expense-reject-node-node-selector":"fRouNAirBZucSZKkMCA7","app-comp-expense-reject-node-person-or-post":"Pgb0alct1pRvzcOsTpRE","app-comp-expense-reject-node-person":"W84Xvw0jcgp_t74Hdvy3","app-comp-expense-repay-files-item":"vObdtEo4n0SRvNWgHHH7","app-comp-expense-supplement-del-file":"hIq0sjNUScES1sjFqJQD","app-comp-expense-travel-files-link":"Lirch3sn1CwX14gdWgOc","app-comp-expense-travel-update-money":"GTlnH0rPqViFKSqOok19","app-comp-expense-travel-submit-money-td":"u5IVOW2NKkmxHBthDVXf","app-comp-expense-travel-total-money-td":"KMx98PygMK6EePscxp7G","app-comp-expense-travel-money-item-td":"k_4im_OlFswFtXqhewMS","app-comp-expense-borrowing-info-file":"ERWF7UpjdwiVGWGnXxT5","app-comp-expense-borrowing-repayments-info-not":"BWZS14eSTC8EafOxwQSz",preview:"gRDOrI2RAftWkchirlnj","preview-button":"cBPYFgy6Lkf4RZoS5W4Q"}}}]);