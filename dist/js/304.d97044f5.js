"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[304],{96926:function(e,t,a){a.d(t,{Z:function(){return T}});a(35668);var n=a(86585),r=a(87462),l=a(67294),o=a(93517),c=a.n(o),i=a(45697),s=a.n(i),m=a(96036),u=a(80385),p=(a(52560),a(71577)),d=(a(36037),a(47933)),f=a(4942),h=a(29439),v=(a(52466),a(10642)),_=a(93433),g=a(15861),E=a(87757),y=a.n(E),Z=a(88144),b={labelCol:{span:8},wrapperCol:{span:10}},C=function(e){var t=e.visible,a=e.setDepartmentVisible,o=e.changeValue,c=e.departmentInfo,i=n.Z.useForm(),s=(0,h.Z)(i,1)[0],u=(0,l.useRef)([]),p=function(e){var t=[];return e.forEach((function(e){t.some((function(t){return t.id===e.id}))||t.push(e)})),t},d=function(){var e=(0,g.Z)(y().mark((function e(){var t,n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.validateFields();case 2:t=u.current,n=[].concat((0,_.Z)(t),(0,_.Z)(c)),o("departmentInfo",p(n)),s.resetFields(),a(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=[l.createElement(n.Z.Item,{name:"departmentIds",label:"添加部门",rules:[{required:!0,message:"请选择"}]},l.createElement(Z.MG,{isAuthorized:!0,multiple:!0,onChange:function(e,t){u.current=e.map((function(e,a){return{id:e,name:t[a]}}))},filterTreeNode:function(e,t){return!!(e.trim()&&t&&t.props&&-1!==t.props.title.trim().indexOf(e.trim()))}}))];return l.createElement(v.Z,{title:"添加部门",visible:t,onOk:d,onCancel:function(){a(!1)}},l.createElement(n.Z,(0,r.Z)({form:s},b),l.createElement(m.Fp,{items:f,cols:1})))},I=function(){};C.propTypes={visible:s().bool,setDepartmentVisible:s().func,changeValue:s().func,departmentInfo:s().array},C.defaultProps={visible:!1,setDepartmentVisible:I,changeValue:I,departmentInfo:[{}]};var w=C,O={labelCol:{span:8},wrapperCol:{span:10}},k=function(e){var t=e.visible,a=e.setAccountVisible,o=e.changeValue,c=e.accountInfo,i=n.Z.useForm(),s=(0,h.Z)(i,1)[0],u=(0,l.useRef)([]),p=function(e){var t=[];return e.forEach((function(e){t.some((function(t){return t.id===e.id}))||t.push(e)})),t},d=function(){var e=(0,g.Z)(y().mark((function e(){var t,n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.validateFields();case 2:t=u.current.map((function(e){return{id:e.payload.account_id,name:e.payload.name}})),n=[].concat((0,_.Z)(t),(0,_.Z)(c)),o("accountInfo",p(n)),s.resetFields(),a(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=[l.createElement(n.Z.Item,{name:"accountIds",label:"添加成员",rules:[{required:!0,message:"请选择"}]},l.createElement(Z.kl,{mode:"multiple",showArrow:!0,placeholder:"请选择成员",showSearch:!0,optionFilterProp:"children",onChange:function(e,t){u.current=t}}))];return l.createElement(v.Z,{title:"添加成员",visible:t,onOk:d,onCancel:function(){a(!1)}},l.createElement(n.Z,(0,r.Z)({form:s},O),l.createElement(m.Fp,{items:f,cols:1})))},x=function(){};k.propTypes={visible:s().bool,setAccountVisible:s().func,changeValue:s().func,accountInfo:s().array},k.defaultProps={visible:!1,setAccountVisible:x,changeValue:x,accountInfo:[{}]};var S=k,P="yC2Zm4yN4EvDNZioKYs9",D="LRFW8Do9vTZykibh9MxM",F="BZL8_GKS3Yl8JpV1MSq7";function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){(0,f.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V=function(e){var t=e.value,a=e.onChange,n=e.authorityDetail,r=(0,l.useState)(!1),o=(0,h.Z)(r,2),c=o[0],i=o[1],s=(0,l.useState)(!1),m=(0,h.Z)(s,2),v=m[0],_=m[1],g=function(){a($($({},t),{},{accountInfo:[],departmentInfo:[]}))},E=function(e,n){a($($({},t),{},(0,f.Z)({},e,n)))},y=function(e){e.target.value!==u.MmK.all?a({state:e.target.value,accountInfo:n.accountInfo,departmentInfo:n.departmentInfo}):a({state:e.target.value,accountInfo:[],departmentInfo:[]})};(0,l.useEffect)((function(){t.state===u.MmK.all&&g()}),[]);var Z,b,C;return l.createElement(l.Fragment,null,(Z=t.state,b=t.accountInfo,C=t.departmentInfo,l.createElement("div",{className:P},l.createElement("div",null,l.createElement(d.ZP.Group,{defaultValue:Z,onChange:y},l.createElement(d.ZP,{value:u.MmK.all},u.MmK.description(u.MmK.all)),l.createElement(d.ZP,{value:u.MmK.section},u.MmK.description(u.MmK.section)))),l.createElement("div",null,l.createElement(p.Z,{className:D,type:"primary",disabled:Z===u.MmK.all,onClick:function(){i(!0)}},"添加成员"),l.createElement(p.Z,{className:D,type:"primary",disabled:Z===u.MmK.all,onClick:function(){_(!0)}},"添加部门"),l.createElement(p.Z,{type:"primary",disabled:Z===u.MmK.all,onClick:g},"清空")),l.createElement("div",{className:F},function(e,t){return e.concat(t).reduce((function(e,t,a){return 0===a?t.name:"".concat(e,", ").concat(t.name)}),"")}(b,C)))),l.createElement(S,{accountInfo:t.accountInfo,changeValue:E,visible:c,setAccountVisible:i}),l.createElement(w,{departmentInfo:t.departmentInfo,changeValue:E,visible:v,setDepartmentVisible:_}))};V.propTypes={value:s().object,onChange:s().func,authorityDetail:s().object},V.defaultProps={value:{},onChange:function(){},authorityDetail:{}};var q=V,M={labelCol:{span:5},wrapperCol:{span:19}},A=function(e){var t=e.detail,a={state:c().get(t,"look_acl",u.MmK.section),accountInfo:c().get(t,"look_account_info_list",[]).map((function(e){return{id:e._id,name:e.name}})),departmentInfo:c().get(t,"look_department_info_list",[]).map((function(e){return{id:e._id,name:e.name}}))};return l.createElement(l.Fragment,null,[{item:[l.createElement(n.Z.Item,(0,r.Z)({},M,{name:"lookAccountInfo",label:"可见成员",rules:[{required:!0,message:"请选择"}]}),l.createElement(q,{authorityDetail:a}))]}].map((function(e,t){return l.createElement(m.Fp,{key:t,items:e.item,cols:e.col||2})})))};A.propTypes={detail:s().object},A.defaultProps={detail:{}};var T=A},76033:function(e,t,a){var n=a(93433),r=(a(29093),a(16317)),l=a(67294),o=a(55609),c=a(45697),i=a.n(c),s=r.Z.Option;function m(e){var t=e.dispatch,a=e.company,o=void 0===a?{}:a,c=e.onChange,i=e.value,m=e.otherChild,u=o.data,p=void 0===u?[]:u;(0,l.useEffect)((function(){t({type:"sharedCompany/getSharedCompany",payload:{_meta:{page:1,limit:9999}}})}),[t]);return l.createElement(r.Z,{placeholder:"请选择",allowClear:!0,showSearch:!0,optionFilterProp:"children",onChange:c,value:i},!m._id||p.some((function(e){return e._id===m._id}))?p.map((function(e){return l.createElement(s,{value:e._id,key:e._id,child:e},e.name)})):[].concat((0,n.Z)(p),[m]).map((function(e){return e._id===m._id?l.createElement(s,{disabled:!0,value:e._id,key:e._id,child:e},e.name):l.createElement(s,{value:e._id,key:e._id,child:e},e.name)})))}m.propTypes={otherChild:i().object},m.defaultProps={otherChild:{}};t.Z=(0,o.connect)((function(e){return{company:e.sharedCompany.company}}))(m)},90681:function(e,t,a){var n=a(87462),r=a(15861),l=a(29439),o=(a(29093),a(16317)),c=a(87757),i=a.n(c),s=a(67294),m=a(55609),u=a(45697),p=a.n(u),d=(a(98703),a(8240)),f=o.Z.Option;function h(e){var t=e.dispatch,a=(0,s.useState)({}),c=(0,l.Z)(a,2),m=c[0],u=c[1];(0,s.useEffect)((function(){(0,r.Z)(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"applicationCommon/getEnumeratedType",payload:{}});case 2:(a=e.sent)&&a.pact_types_has_sub_types&&u(a.pact_types_has_sub_types);case 4:case"end":return e.stop()}}),e)})))()}),[]);var p=Object.keys(m).map((function(e){return s.createElement(f,{value:"".concat(e),key:e},(0,d.Cg)(m,"".concat(e,".name")))}));return e.isDetail?s.createElement("div",null,e.showValue.map((function(e){return(0,d.Cg)(m,"".concat(e,".name"))})).join(",")):s.createElement(o.Z,(0,n.Z)({allowClear:!0,showSearch:!0},(0,d.CE)(["dispatch","isDetail","showValue"],e)),p)}h.propTypes={isDetail:p().bool,showValue:p().array},h.defaultProps={isDetail:!1,showValue:[]},t.Z=(0,m.connect)()(h)},90304:function(e,t,a){a.r(t);a(52560);var n=a(71577),r=a(71002),l=(a(36037),a(47933)),o=(a(54071),a(14072)),c=a(87462),i=(a(36616),a(51368)),s=a(4942),m=(a(51838),a(48086)),u=a(15861),p=(a(35668),a(86585)),d=a(29439),f=(a(9070),a(20924)),h=(a(29093),a(16317)),v=a(87757),_=a.n(v),g=a(93517),E=a.n(g),y=a(30381),Z=a.n(y),b=a(67294),C=a(94315),I=a.n(C),w=a(55609),O=a(96036),k=a(88144),x=a(86221),S=a(76033),P=a(96926),D=a(80385),F=a(97116),j=a(3127),$=a(90681);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){(0,s.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M=h.Z.Option,A=f.Z.TextArea,T={labelCol:{span:9},wrapperCol:{span:15}},K={labelCol:{span:3},wrapperCol:{span:21}};t.default=(0,w.connect)((function(e){var t=e.sharedContract;return{contractDetail:t.contractDetail,contractTypeData:t.contractTypeData}}),(function(e){return{getContractTypeDetail:function(){return e({type:"sharedContract/fetchContractType"})},getContractDetail:function(t){return e({type:"sharedContract/getSharedContractDetail",payload:t})},updateForm:function(t){return e({type:"sharedContract/updateSharedContract",payload:t})},resetContractDetail:function(){return e({type:"sharedContract/resetSharedContractDetail",payload:{}})}}}))((function(e){var t=e.location,a=void 0===t?{}:t,s=e.updateForm,v=e.getContractDetail,g=e.resetContractDetail,y=e.contractDetail,C=void 0===y?{}:y,w=e.getContractTypeDetail,V=e.contractTypeData,Y=void 0===V?{}:V,L=p.Z.useForm(),N=(0,d.Z)(L,1)[0],z=a.query,G=void 0===z?{}:z,R=(0,b.useState)([]),B=(0,d.Z)(R,2),U=B[0],W=B[1];if((0,b.useEffect)((function(){w()}),[]),(0,b.useEffect)((function(){return G.id&&v({id:G.id}),function(){return g()}}),[v,g,G.id]),(0,b.useEffect)((function(){C&&Object.keys(C).length>0&&0===U.length&&re()}),[C]),!C||Object.keys(C).length<=0)return b.createElement("div",null);var H,J,Q=C.from_date,X=void 0===Q?void 0:Q,ee=C.end_date,te=void 0===ee?void 0:ee,ae=C.unit_price,ne=void 0===ae?void 0:ae,re=function(){var e=C.province_code,t=void 0===e?void 0:e,a=(t?j._.find((function(e){return e.code===Number(t)})):{}).children;W(void 0===a?[]:a)},le=function(){var e=(0,u.Z)(_().mark((function e(){var t,a,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.validateFields();case 2:if(t=e.sent,(a=t.lookAccountInfo).state!==D.MmK.section||0!==a.accountInfo.length||0!==a.departmentInfo.length){e.next=6;break}return e.abrupt("return",m.ZP.error("请选择指定范围"));case 6:return delete t.shared,e.next=9,s(q(q({},t),{},{_id:G.id}));case 9:(n=e.sent)&&n._id&&(m.ZP.success("请求成功"),window.location.href="/#/Shared/Contract");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){N.validateFields(["shared"])},ce=E().get(Y,"seal_types","--"),ie=[b.createElement(p.Z.Item,{label:"合同编号"},E().get(C,"pact_no","--")),b.createElement(p.Z.Item,{label:"合同名称",name:"name",rules:[{required:!0,message:"请填写合同名称"}]},b.createElement(f.Z,{placeholder:"请输入",allowClear:!0})),b.createElement(p.Z.Item,{name:"singer",label:"签订人",rules:[{required:!0,message:"请输入签订人"}]},b.createElement(f.Z,{placeholder:"请输入",allowClear:!0})),b.createElement(p.Z.Item,{name:"firm_id",label:"签订单位",rules:[{required:!0,message:"请选择签订单位"}]},b.createElement(S.Z,{otherChild:F.P6.dotOptimal(C,"firm_info",{})})),b.createElement(p.Z.Item,{label:"盖章类型",required:!0},b.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},b.createElement(p.Z.Item,{name:"seal_type",rules:[{required:!0,message:"请选择盖章类型"}],style:{width:"40%"}},b.createElement(h.Z,{placeholder:"请选择",allowClear:!0},(H=[],I().existy(ce)&&I().not.empty(ce)&&I().object(ce)&&Object.keys(ce).map((function(e){H.push(b.createElement(M,{value:Number(e)},ce[e]))})),H))),b.createElement(p.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.seal_type!==t.seal_type}},(function(e){return(0,e.getFieldValue)("seal_type")===D.fZ1.other?b.createElement(p.Z.Item,{name:"other_seal",style:{width:"50%",marginLeft:10}},b.createElement(f.Z,{placeholder:"请输入"})):null})))),b.createElement(p.Z.Item,{name:"pact_part_a",label:"签订甲方",validateFirst:!0,rules:[{required:!0,message:"请填写签订甲方"}]},b.createElement(h.Z,{mode:"tags",allowClear:!0,notFoundContent:"",tokenSeparators:[",","，"],placeholder:"请输入签订甲方"})),b.createElement(p.Z.Item,{name:"pact_part_b",label:"签订乙方",validateFirst:!0,rules:[{required:!0,message:"请填写签订乙方"}]},b.createElement(h.Z,{mode:"tags",allowClear:!0,notFoundContent:"",tokenSeparators:[",","，"],placeholder:"请输入签订乙方"})),b.createElement(p.Z.Item,{name:"pact_part_c",label:"签订丙方",validateFirst:!0},b.createElement(h.Z,{mode:"tags",allowClear:!0,notFoundContent:"",tokenSeparators:[",","，"],placeholder:"请输入签订丙方"})),b.createElement(p.Z.Item,{name:"pact_part_d",label:"签订丁方",validateFirst:!0},b.createElement(h.Z,{mode:"tags",allowClear:!0,notFoundContent:"",tokenSeparators:[",","，"],placeholder:"请输入签订丁方"}))],se=[b.createElement(p.Z.Item,(0,c.Z)({name:"shared",label:"合同份数",rules:[{required:!0,validator:function(){var e=N.getFieldValue("copies"),t=N.getFieldValue("our_copies"),a=N.getFieldValue("opposite_copies");return!e||!t&&0!==t||!a&&0!==a?Promise.reject("请输入合同份数"):t+a!==e?Promise.reject("我方合同份数与对方合同份数之和需和合同总份数保持一致"):Promise.resolve()}}],style:{lineHeight:3}},K),b.createElement(b.Fragment,null,"一式",b.createElement(p.Z.Item,{name:"copies",style:{display:"inline-block",margin:"0 20px"}},b.createElement(i.Z,{style:{width:60},min:0,precision:0,onChange:oe})),"份，其中我方",b.createElement(p.Z.Item,{name:"our_copies",style:{display:"inline-block",margin:"0 20px"}},b.createElement(i.Z,{style:{width:60},min:0,precision:0,onChange:oe})),"份，对方",b.createElement(p.Z.Item,{name:"opposite_copies",style:{display:"inline-block",margin:"0 20px"}},b.createElement(i.Z,{style:{width:60},min:0,precision:0,onChange:oe})),"份"))],me=[b.createElement(p.Z.Item,{name:"from_date",label:"合同起始日期",rules:[{required:!0,message:"请选择"}]},b.createElement(o.Z,{onChange:function(){(0,N.setFieldsValue)({end_date:null})}})),b.createElement(p.Z.Item,{name:"end_date",label:"合同终止日期",rules:[{required:!0,message:"请选择"}]},b.createElement(o.Z,{showToday:!1,disabledDate:function(e){var t=N.getFieldValue("from_date");if(!e||!t)return!1;var a=Z()(Z()(t).format("YYYY-MM-DD")).valueOf();return Z()(Z()(e).format("YYYY-MM-DD")).valueOf()<a}})),b.createElement(p.Z.Item,{name:"business_type",label:"业务类别",rules:[{required:!0,message:"请选择业务类别"}]},b.createElement(h.Z,{placeholder:"请选择",allowClear:!0},b.createElement(M,{value:D.OSm.purchase},D.OSm.description(D.OSm.purchase)),b.createElement(M,{value:D.OSm.electromechanical},D.OSm.description(D.OSm.electromechanical)),b.createElement(M,{value:D.OSm.building},D.OSm.description(D.OSm.building)),b.createElement(M,{value:D.OSm.airCondi},D.OSm.description(D.OSm.airCondi)),b.createElement(M,{value:D.OSm.equipment},D.OSm.description(D.OSm.equipment)),b.createElement(M,{value:D.OSm.maintenance},D.OSm.description(D.OSm.maintenance)),b.createElement(M,{value:D.OSm.firefighting},D.OSm.description(D.OSm.firefighting)))),{key:"area_code",span:24,render:b.createElement(p.Z.Item,(0,c.Z)({label:"所属区域",required:!0},K),b.createElement("div",{style:{display:"flex"}},b.createElement(p.Z.Item,{name:"province_code",rules:[{required:!0,message:"请选择省份"}],style:{width:"25%",marginRight:5}},b.createElement(h.Z,{onChange:function(e,t){var a=t.citychild,n=void 0===a?[]:a;N.setFieldsValue({city_code:void 0}),W(n)},placeholder:"请选择省份"},j._.map((function(e){return b.createElement(M,{key:String(e.code),value:String(e.code),citychild:e.children},e.value)})))),b.createElement(p.Z.Item,{name:"city_code",style:{width:"30%"},rules:[{required:!0,message:"请选择城市"}]},b.createElement(h.Z,{placeholder:"请选择城市"},U.map((function(e){return b.createElement(M,{key:String(e.code),value:String(e.code)},e.value)}))))))},b.createElement(p.Z.Item,{label:"合同保管人"},E().get(C,"preserver_info.name","--")),b.createElement(p.Z.Item,{name:"pact_property",label:"合同性质"},b.createElement(h.Z,{placeholder:"请选择",allowClear:!0},b.createElement(M,{value:D.a5L.main},D.a5L.description(D.a5L.main)),b.createElement(M,{value:D.a5L.supplement},D.a5L.description(D.a5L.supplement)),b.createElement(M,{value:D.a5L.business},D.a5L.description(D.a5L.business)))),b.createElement(p.Z.Item,{name:"pact_type",label:"合同类型"},b.createElement($.Z,{placeholder:"请选择"})),b.createElement(p.Z.Item,{name:"singer_phone",label:"签订电话",rules:[{pattern:/^1[3456789]\d{9}$/,message:"请填写正确电话"}]},b.createElement(f.Z,{placeholder:"请输入",allowClear:!0})),b.createElement(p.Z.Item,{name:"invoice_type",label:"发票类型"},b.createElement(h.Z,{placeholder:"请选择",allowClear:!0},b.createElement(M,{value:D.x$h.special},D.x$h.description(D.x$h.special)),b.createElement(M,{value:D.x$h.ordinary},D.x$h.description(D.x$h.ordinary)),b.createElement(M,{value:D.x$h.volume},D.x$h.description(D.x$h.volume)),b.createElement(M,{value:D.x$h.machine},D.x$h.description(D.x$h.machine)),b.createElement(M,{value:D.x$h.building},D.x$h.description(D.x$h.building)),b.createElement(M,{value:D.x$h.cargo},D.x$h.description(D.x$h.cargo)),b.createElement(M,{value:D.x$h.highway},D.x$h.description(D.x$h.highway)),b.createElement(M,{value:D.x$h.quota},D.x$h.description(D.x$h.quota)),b.createElement(M,{value:D.x$h.place},D.x$h.description(D.x$h.place)),b.createElement(M,{value:D.x$h.receipt},D.x$h.description(D.x$h.receipt)))),b.createElement(p.Z.Item,{name:"fare_manager_id",label:"票务负责人"},b.createElement(k.kl,{showSearch:!0,optionFilterProp:"children",fareManagerInfo:E().get(C,"fare_manager_info",[]),placeholder:"请选择",allowClear:!0})),b.createElement(p.Z.Item,{name:"relation_application_order_ids",label:"关联审批单",validateFirst:!0,rules:[function(){return{validator:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=/^[0-9a-zA-Z]{1,}$/;if(Array.isArray(t)){var n=t.filter((function(e){return a.test(e)}));if(t.length!==n.length)return Promise.reject("请输入数字、字母");if(n.length>0)return Promise.resolve()}return Promise.resolve()}}}]},b.createElement(h.Z,{mode:"tags",allowClear:!0,notFoundContent:"",tokenSeparators:[",","，"],placeholder:"请输入关联审批单"})),b.createElement(p.Z.Item,{name:"unit_price",label:"合同单价（元）"},b.createElement(i.Z,{step:.01,min:0,placeholder:"请输入"})),b.createElement(p.Z.Item,{name:"part_pact_no",label:"客户方合同编号",rules:[function(){return{validator:function(e,t){return!t||/^[0-9a-zA-Z-_]{1,}$/.test(t)?Promise.resolve():Promise.reject("请输入数字、字母或横线")}}}]},b.createElement(f.Z,{placeholder:"请输入",allowClear:!0})),b.createElement(p.Z.Item,{name:"customer_company",label:"客户公司"},b.createElement(f.Z,{placeholder:"请输入",allowClear:!0})),b.createElement(p.Z.Item,{name:"customer_info",label:"客户信息",rules:[function(){return{validator:function(e,t){return!t||/^[0-9a-zA-Z\u4e00-\u9fa5]{1,}$/.test(t)?Promise.resolve():Promise.reject("请输入数字、字母或者汉字")}}}]},b.createElement(f.Z,{placeholder:"请输入",allowClear:!0})),b.createElement(p.Z.Item,{name:"is_backed",label:"合同版本是否已返回"},b.createElement(l.ZP.Group,null,b.createElement(l.ZP,{value:"1"},"已回"),b.createElement(l.ZP,{value:"0"},"未回")))],ue=[b.createElement(p.Z.Item,(0,c.Z)({name:"content",label:"合同主要内容及条款",rules:[{required:!0,pattern:/\S+/,message:"请输入申请原因及说明"}]},K),b.createElement(A,{rows:4,placeholder:"请输入"})),b.createElement(p.Z.Item,(0,c.Z)({name:"note",label:"备注",rules:[{pattern:/\S+/,message:"请输入备注"}]},K),b.createElement(A,{rows:4,placeholder:"请输入"})),b.createElement(p.Z.Item,(0,c.Z)({label:"上传盖章附件",name:"asset_keys",rules:[{required:!0,message:"请上传盖章附件"}]},K),b.createElement(x.uA,{domain:x.uA.UploadDomains.OAUploadDomain}))],pe=[b.createElement(p.Z.Item,{label:"合同状态"},E().get(C,"state","")?D.xWt.description(E().get(C,"state")):"--"),b.createElement(p.Z.Item,{label:"借用人"},E().get(C,"borrower_info.name","--")),b.createElement(p.Z.Item,{label:"预计归还时间"},E().get(C,"expected_return_date","")?Z()("".concat(E().get(C,"expected_return_date"))).format("YYYY-MM-DD"):"--")];E().get(C,"seal_type",void 0)===D.fZ1.other&&(J=E().get(C,"other_seal",void 0));var de={name:E().get(C,"name",void 0),pact_property:E().get(C,"pact_property")>0?E().get(C,"pact_property"):void 0,pact_type:E().get(C,"pact_type")>0?E().get(C,"pact_type"):void 0,from_date:X?Z()(String(X)):void 0,end_date:te?Z()(String(te)):void 0,fare_manager_id:F.P6.dotOptimal(C,"fare_manager_id",void 0)||void 0,relation_application_order_ids:E().get(C,"relation_application_order_list",void 0)&&Array.isArray(C.relation_application_order_list)?C.relation_application_order_list.map((function(e){return e._id})):"--",unit_price:ne?D.fbc.exchangePriceToYuan(ne):void 0,part_pact_no:E().get(C,"part_pact_no",void 0),firm_id:E().get(C,"firm_info._id",void 0),business_type:C.business_type||void 0,singer:E().get(C,"singer",void 0),singer_phone:E().get(C,"singer_phone",void 0),copies:E().get(C,"copies",0),our_copies:E().get(C,"our_copies",0),opposite_copies:E().get(C,"opposite_copies",0),pact_part_a:E().get(C,"pact_part_a")?E().get(C,"pact_part_a").split("、"):void 0,pact_part_b:E().get(C,"pact_part_b")?E().get(C,"pact_part_b").split("、"):void 0,pact_part_c:E().get(C,"pact_part_c")?E().get(C,"pact_part_c").split("、"):void 0,pact_part_d:E().get(C,"pact_part_d")?E().get(C,"pact_part_d").split("、"):void 0,customer_company:E().get(C,"customer_company",void 0),seal_type:E().get(C,"seal_type",void 0),other_seal:J,customer_info:E().get(C,"customer_info",void 0),invoice_type:E().get(C,"invoice_type")>0?E().get(C,"invoice_type"):void 0,is_backed:"object"!==(0,r.Z)(C.is_backed)||C.is_backed?E().get(C,"is_backed",!1)?"1":"0":void 0,content:E().get(C,"content",void 0),note:E().get(C,"note",void 0),asset_keys:x.uA.getInitialValue(C,"asset_infos",{}),city_code:C.city_code||void 0,province_code:C.province_code||void 0,lookAccountInfo:{state:E().get(C,"look_acl",D.MmK.section),accountInfo:E().get(C,"look_account_info_list",[]).map((function(e){return{id:e._id,name:e.name}})),departmentInfo:E().get(C,"look_department_info_list",[]).map((function(e){return{id:e._id,name:e.name}}))}};return b.createElement(p.Z,(0,c.Z)({},T,{form:N,initialValues:de}),b.createElement(O.IT,null,b.createElement(O.Fp,{items:ie}),b.createElement(O.Fp,{items:se,cols:1}),b.createElement(O.Fp,{items:me}),b.createElement(O.Fp,{items:ue,cols:1}),b.createElement(O.IT,{title:"权限"},b.createElement(P.Z,{detail:C}))),b.createElement(O.IT,null,b.createElement(O.Fp,{items:pe})),b.createElement(O.IT,null,b.createElement("div",{style:{textAlign:"center"}},b.createElement(n.Z,{type:"primary",onClick:le},"保存"))))}))}}]);