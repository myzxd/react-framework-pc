"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[2439],{52439:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});r(20186);var n=r(75385),o=(r(13062),r(71230)),a=(r(52560),r(71577)),c=(r(89032),r(15746)),i=r(4942),l=r(29439),s=r(30381),u=r.n(s),p=r(93517),f=r.n(p),d=r(67294),m=r(55609),y=r(96036),h=r(88144);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e){var t=(0,d.useState)(void 0),r=(0,l.Z)(t,2),n=r[0],o=r[1],a=(0,d.useState)([]),c=(0,l.Z)(a,2),i=c[0],s=c[1],u=function(){n.setFieldsValue({cityCodes:[]}),s([])},p=function(){n.setFieldsValue({supplierIds:[],cityCodes:[]}),s([])},f=function(e,t){var r=t.map((function(e){return e.props.code}));s(r)},m={items:[{label:"平台",form:function(e){return e.getFieldDecorator("platformCodes")(d.createElement(h.Yg,{showArrow:!0,showSearch:!0,enableSelectAll:!0,allowClear:!0,mode:"multiple",optionFilterProp:"children",placeholder:"请选择平台",onChange:p}))}},{label:"供应商",form:function(e){return e.getFieldDecorator("supplierIds")(d.createElement(h.o2,{showArrow:!0,enableSelectAll:!0,allowClear:!0,showSearch:!0,mode:"multiple",optionFilterProp:"children",placeholder:"请选择供应商",platforms:e.getFieldValue("platformCodes"),onChange:u}))}},{label:"城市",form:function(e){return e.getFieldDecorator("cityCodes")(d.createElement(h.Wn,{showArrow:!0,enableSelectAll:!0,allowClear:!0,showSearch:!0,optionFilterProp:"children",mode:"multiple",placeholder:"请选择城市",onChange:f,platforms:e.getFieldValue("platformCodes"),suppliers:e.getFieldValue("supplierIds")}))}}],onReset:function(){s([]),e.onSearch&&e.onSearch({page:1,limit:30})},onSearch:function(t){var r=b(b({page:1,limit:30},t),{},{cityCodes:i});e.onSearch&&e.onSearch(r)},expand:!0,onHookForm:function(e){o(e)}};return d.createElement(y.IT,null,d.createElement(y.yL,m))};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var S={page:1,limit:30};var j=(0,m.connect)((function(e){return{statisticsData:e.employeeStatisticsData.statisticsData}}))((function(e){var t=(0,d.useState)(u()().subtract(1,"days").format("YYYY.MM.DD 23:00:00")),r=(0,l.Z)(t,1)[0],s=function(){e.dispatch({type:"employeeStatisticsData/fetchEmployeeStatisticsData",payload:S})};(0,d.useEffect)((function(){s()}),[]);var p,m,h=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);S=t,s()},g=function(){e.dispatch({type:"employeeStatisticsData/exportEmployeeStatisticsData",payload:S})},b=function(e,t){S.page=e,S.limit=t,h(S)},j=function(e,t){S.page=e,S.limit=t,h(S)};return d.createElement("div",null,d.createElement(o.Z,null,d.createElement(c.Z,{span:22},d.createElement(y.DF,{items:[{title:"个户注册数据",key:"个户注册数据"}]})),d.createElement(c.Z,{span:2},d.createElement(a.Z,{type:"primary",onClick:g},"导出"))),d.createElement(O,{onSearch:h}),(p=f().get(e,"statisticsData",{}),m={current:S.page,pageSize:S.limit,onChange:b,showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:j,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],total:f().get(p,"_meta.result_count",0)},d.createElement(y.IT,null,d.createElement("div",{style:{marginBottom:10}},"最近更新时间：",r),d.createElement(n.Z,{rowKey:function(e,t){return t},pagination:m,columns:[{title:"平台",dataIndex:"platform_name",key:"platform_name"},{title:"供应商",dataIndex:"supplier_name",key:"supplier_name",width:200},{title:"城市",dataIndex:["city_info","city_name"],key:"city_info.city_name",width:100},{title:"有效个户协议数量",dataIndex:"succeeded_amount",key:"succeeded_amount"},{title:"45天内个户协议到期数量",dataIndex:"45天内个户协议到期数量",key:"45天内个户协议到期数量",render:function(){return 0}},{title:"个户协议过期数量",dataIndex:"个户协议过期数量",key:"个户协议过期数量",render:function(){return 0}},{title:"未签署个户协议数量",dataIndex:"unsuccessful_amount",key:"unsuccessful_amount"}],dataSource:p.data,bordered:!0,scroll:{y:500}}))))}))}}]);