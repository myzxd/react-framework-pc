"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[6584],{96584:function(e,t,n){n.r(t);n(52560);var a=n(71577),r=n(15671),o=n(43144),p=n(97326),c=n(60136),s=n(82963),i=n(61120),l=n(4942),u=(n(9070),n(20924)),m=(n(29093),n(16317)),f=n(93517),d=n.n(f),y=n(55609),b=n(67294),h=n(45697),x=n.n(h),Z=n(66939),g=(n(98703),n(7378)),v=n(96036),j=n(88144),w=n(80385);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,i.Z)(e);if(t){var r=(0,i.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.Z)(this,n)}}var S=m.Z.Option,T=u.Z.TextArea,C=function(e){(0,c.Z)(n,e);var t=O(n);function n(){var e;return(0,r.Z)(this,n),e=t.call(this),(0,l.Z)((0,p.Z)(e),"onChangeScense",(function(t){var n=e.state.scense;e.props.form.setFieldsValue({accountingIds:void 0}),t!==n&&e.props.dispatch({type:"expenseSubject/fetchExpenseSubjects",payload:{page:1,limit:1e5,state:[w.NF3.normal,w.NF3.disable],scense:t}}),e.setState({scense:t})})),(0,l.Z)((0,p.Z)(e),"onSubmit",(function(t){var n=e.props.expenseTypeDetail,a=void 0===n?{}:n;t.preventDefault(),e.props.form.validateFields((function(t,n){if(!t){var r=D({id:a.id},n);e.props.dispatch({type:"expenseType/updateExpenseType",payload:D(D({},r),{},{onSuccessCallback:e.onSuccessCallback})})}}))})),(0,l.Z)((0,p.Z)(e),"onSuccessCallback",(function(){window.location.href="/#/Expense/Type"})),(0,l.Z)((0,p.Z)(e),"renderForm",(function(){var t=e.props,n=t.expenseTypeDetail,a=void 0===n?{}:n,r=t.subjectsData,o=(r=void 0===r?{}:r).data,p=void 0===o?[]:o,c=e.props.form.getFieldDecorator,s=[{label:"费用分组名称",form:c("name",{initialValue:d().get(a,"name"),rules:[{required:!0,message:"请填写名称"},{max:20,message:"字数过多"}]})(b.createElement(u.Z,{placeholder:"请输入"}))},{label:"适用场景",form:c("scense",{rules:[{required:!0,message:"请选择适用场景"}],initialValue:d().get(a,"industryCodes.0",void 0)})(b.createElement(j.UU,{enumeratedType:"subjectScense",onChange:e.onChangeScense}))},{label:"选择科目",form:c("accountingIds",{initialValue:d().get(a,"accountingIds"),rules:[{required:!0,message:"请选择科目"}]})(b.createElement(m.Z,{placeholder:"请选择",mode:"multiple",showSearch:!0,optionFilterProp:"children",allowClear:!0,showArrow:!0},p.map((function(e){return b.createElement(S,{key:e.id,value:e.id,disabled:e.state===w.NF3.disable},"".concat(e.name,"(").concat(e.accountingCode,")").concat(e.state===w.NF3.disable?"(停用)":""))}))))},{label:"备注",form:c("note",{rules:[{max:1e3,message:"字数过多"}],initialValue:a.note})(b.createElement(T,{autoSize:{minRows:5},placeholder:"(选填)"}))}];return b.createElement(v.IT,{title:"编辑费用分组"},b.createElement(v.KP,{items:s,cols:1,layout:{labelCol:{span:6},wrapperCol:{span:12}}}))})),(0,l.Z)((0,p.Z)(e),"renderButton",(function(){return b.createElement(v.IT,{style:{textAlign:"center",backgroundColor:"#ffffff"}},b.createElement(a.Z,{type:"primary",htmlType:"submit",className:g.Z["app-comp-expense-type-update-submit"]},"确定"),b.createElement(a.Z,{type:"default",onClick:function(){window.location.href="/#/Expense/Type"}},"取消"))})),(0,l.Z)((0,p.Z)(e),"render",(function(){return b.createElement(Z.Z,{onSubmit:e.onSubmit},e.renderForm(),e.renderButton())})),e.state={scense:void 0},e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=d().get(this.props,"location.query.scense",void 0);this.props.dispatch({type:"expenseSubject/fetchExpenseSubjects",payload:{page:1,limit:1e5,state:[w.NF3.normal,w.NF3.disable],scense:e}})}}]),n}(b.Component);(0,l.Z)(C,"propsTypes",{expenseTypeDetail:x().object,subjectsData:x().object}),(0,l.Z)(C,"defaultProps",{expenseTypeDetail:{},subjectsData:{}}),t.default=(0,y.connect)((function(e){return{subjectsData:e.expenseSubject.subjectsData,expenseTypeDetail:e.expenseType.expenseTypeDetail}}))(Z.Z.create()(C))},7378:function(e,t){t.Z={"app-comp-expense-type-accounting-list":"mAnDrdEjGkjoOQO8TEmk","app-comp-expense-type-operate-detail":"S_GZuVr37uAK__xDXlCA","app-comp-expense-type-operate-update":"ziyoehmUKcnoUy45j6bG","app-comp-expense-type-operate-enable":"KfVEYkxQ93mWup5bFDnb","app-comp-expense-type-operate-detele":"Vav1Ggq8Hw5p8eww2N0w","app-comp-expense-type-operate":"UZkbyr8gLxEZuUx87Sxc","app-comp-expense-type-update-submit":"r52VtMbeQaUyhAZ9nzTn","app-comp-expense-type-accounting-ist-create":"qR8Yp_a84kmwKlt_LRVR","app-comp-expense-type-accounting-list-create-submit":"eE5LqlmG6ZcHCLRIVTaD"}}}]);