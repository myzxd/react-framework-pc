"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[3903],{23903:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});n(20186);var i=n(75385),a=(n(52560),n(71577)),r=(n(21316),n(75443)),o=(n(55295),n(69713)),c=n(15861),p=n(4942),l=n(29439),s=n(87757),u=n.n(s),h=n(94315),m=n.n(h),d=n(45697),f=n.n(d),w=n(67294),y=n(55609),g=n(93517),b=n.n(g),E=n(96036),v=n(80385),k=n(45430),L=n(88144),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSearch,n=function(){t&&t({})},i=function(e){t&&t(e)},a={isExpenseModel:!0,onReset:n,onSearch:i};return w.createElement(E.IT,null,w.createElement(L.Mw,a))},j=n(47372);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.whiteListData,p=(0,w.useState)({page:1,limit:30}),s=(0,l.Z)(p,2),h=s[0],d=s[1];(0,w.useEffect)((function(){t({type:"whiteList/fetchWhiteListList",payload:h})}),[h]);var f=function(e){d(O(O({},e),{},{page:1,limit:30}))},y=function(e,t){d(O(O({},h),{},{page:e,limit:t}))},g=function(e,t){d(O(O({},h),{},{page:e,limit:t}))},L=function(){var e=(0,c.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"whiteList/fetchWhiteListClosePer",payload:{id:n}});case 2:return e.next=4,t({type:"whiteList/fetchWhiteListList",payload:h});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){return w.createElement(_,{onSearch:f})},Z=function(){var e,t=n.data,c=void 0===t?[]:t,p=[{title:"平台",width:100,dataIndex:"platform_name",key:"platform_name",render:function(e){return e||"--"}},{title:"供应商",width:100,dataIndex:"supplier_name",key:"supplier_name",render:function(e){return e||"全部"}},{title:"城市",width:100,dataIndex:"city_list",key:"city_list",render:function(e){return m().not.existy(e)||m().empty(e)||m().not.array(e)?"全部":1===e.length?b().get(e,"0.city_name"):w.createElement(o.Z,{title:e.map((function(e){return e.city_name})).join(" , ")},w.createElement("span",null,b().get(e,"0.city_name")," 等",e.length,"条"))}},{title:"商圈",width:100,dataIndex:"biz_district_list",key:"biz_district_list",render:function(e){return m().not.existy(e)||m().empty(e)||m().not.array(e)?"全部":1===e.length?b().get(e,"0.name"):w.createElement(o.Z,{title:e.map((function(e){return e.name})).join(" , ")},w.createElement("span",null,b().get(e,"0.name")," 等",e.length,"条"))}},{title:"应用APP",width:100,dataIndex:"app_code",key:"app_code",render:function(e){return e?v.k52.description(e):"--"}},{title:"操作",width:100,dataIndex:"operate",key:"operate",render:function(e,t){var n,i,a;return k.ZP.canOperateWhiteListDetail()&&(n=w.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"/#/WhiteList/Detail?id=".concat(t._id),className:j.Z["app-comp-white-list-operate-item"]},"详情")),k.ZP.canOperateWhiteListUpdate()&&(i=w.createElement("a",{rel:"noopener noreferrer",href:"/#/WhiteList/Update?id=".concat(t._id),className:j.Z["app-comp-white-list-operate-item"]},"编辑")),k.ZP.canOperateWhiteListDelete()&&(a=w.createElement(r.Z,{placement:"top",title:"确定关闭该范围的白名单?",onConfirm:function(){return L(t._id)},okText:"确定",cancelText:"取消"},w.createElement("a",{className:j.Z["app-comp-white-list-operate-item"]},"关闭"))),w.createElement("div",null,n,i,a)}}],l={current:h.page,pageSize:h.limit||30,onChange:y,showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:g,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],total:b().get(n,"_meta.result_count",0)};return k.ZP.canOperateWhiteListCreate()&&(e=w.createElement("a",{key:"create",rel:"noopener noreferrer",href:"/#/WhiteList/Create",className:j.Z["app-comp-white-list-operate-add"]},w.createElement(a.Z,{type:"primary"},"新增"))),w.createElement(E.IT,{title:"列表",titleExt:e},w.createElement(i.Z,{rowKey:function(e,t){return t},pagination:l,columns:p,dataSource:c,bordered:!0,scroll:{y:500}}))};return w.createElement("div",null,x(),Z())};Z.propTypes={whiteListData:f().object},Z.defaultProps={whiteListData:{}};var D=(0,y.connect)((function(e){return{whiteListData:e.whiteList.whiteListData}}))(Z)},47372:function(e,t){t.Z={"app-comp-white-list-create-operate-wrap":"tSvyDAblnu8U4j4yBG58","app-comp-white-list-detail-workbench-wrap":"Mm3MEpDEYpRCGED3jovA","app-comp-white-list-detail-workbench-item":"HWfh1nHgKub5f_FyFWiA","app-comp-white-list-detail-join-team-info-title":"RLuqxWEvs8nv16UC7dJG","app-comp-white-list-detail-join-team-info-item":"WDPzrZk7GQLQhxVYH82x","app-comp-white-list-detail-join-team-info-label":"iHlAG1ShYJWvZKxwcguJ","app-comp-white-list-detail-join-team-info-value":"IeM0v6UzkabArTxxynHB","app-comp-white-list-detail-back-wrap":"Kk5oppCdruNVnCVleJgs","app-comp-white-list-detail-item":"jH5ue5eQ548GH0hhF1DR","app-comp-white-list-operate-item":"UtAwWDFPsgQ08Yz9fbqf","app-comp-white-list-operate-add":"Mz88wCQfITKERFzEwMxN","app-comp-white-list-update-operate-wrap":"ar0RQFqkCwgjAQ4vV_lS"}}}]);