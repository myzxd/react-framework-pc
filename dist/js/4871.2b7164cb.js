"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[4871],{24871:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var a=n(4942),r=n(29439),c=n(67294),o=n(55609),l=(n(21316),n(75443)),i=(n(52560),n(71577)),u=(n(54071),n(14072)),d=(n(9070),n(20924)),p=(n(35668),n(86585)),s=(n(51838),n(48086)),m=n(15861),f=(n(29093),n(16317)),h=n(87757),b=n.n(h),v=n(80385),E=f.Z.Option,y=(0,o.connect)((function(e){return{companyPurview:e.sharedCompany.companyPurview}}))((function(e){var t=e.dispatch,n=e.companyPurview,a=void 0===n?{}:n,r=e.onChange,o=e.value,l=a.data,i=void 0===l?[]:l;return(0,c.useEffect)((function(){t({type:"sharedCompany/getSharedCompanyPurview",payload:{state:100,_meta:{page:1,limit:9999}}})}),[t]),c.createElement(f.Z,{placeholder:"请选择",allowClear:!0,showSearch:!0,optionFilterProp:"children",onChange:r,value:o},i.map((function(e){return c.createElement(E,{value:e._id,key:e._id,child:e},e.name)})))})),g=n(96036),k=n(45430);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=f.Z.Option,Z=function(e){var t=e.onSearch,n=void 0===t?function(){}:t,a=e.dispatch,o=(0,c.useState)({}),h=(0,r.Z)(o,2),E=h[0],O=h[1],Z=function(){var e=(0,m.Z)(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.validateFields();case 2:t=e.sent,a({type:"sharedBankAccount/exportSharedBankAccount",payload:{params:w({},t),onSuccessCallback:function(){return s.ZP.success("创建下载任务成功")}}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=[c.createElement(p.Z.Item,{label:"公司名称",name:"firm_id"},c.createElement(y,null)),c.createElement(p.Z.Item,{label:"开户账号",name:"bank_card"},c.createElement(d.Z,{placeholder:"请输入",allowClear:!0})),c.createElement(p.Z.Item,{label:"账户类型",name:"bank_card_type"},c.createElement(f.Z,{placeholder:"请选择",allowClear:!0},c.createElement(_,{value:v.MY2.basic},v.MY2.description(v.MY2.basic)),c.createElement(_,{value:v.MY2.general},v.MY2.description(v.MY2.general)),c.createElement(_,{value:v.MY2.temporary},v.MY2.description(v.MY2.temporary)),c.createElement(_,{value:v.MY2.special},v.MY2.description(v.MY2.special)),c.createElement(_,{value:v.MY2.treasure},v.MY2.description(v.MY2.treasure)),c.createElement(_,{value:v.MY2.dollar},v.MY2.description(v.MY2.dollar)))),c.createElement(p.Z.Item,{label:"账户状态",name:"state"},c.createElement(f.Z,{placeholder:"请选择",allowClear:!0},c.createElement(_,{value:v.v_$.normal},v.v_$.description(v.v_$.normal)),c.createElement(_,{value:v.v_$.disable},v.v_$.description(v.v_$.disable)))),c.createElement(p.Z.Item,{label:"银行账户ID",name:"_id"},c.createElement(d.Z,{placeholder:"请输入"})),c.createElement(p.Z.Item,{label:"币种",name:"currency"},c.createElement(f.Z,{placeholder:"请选择",allowClear:!0},c.createElement(_,{value:v.uJJ.rmb},v.uJJ.description(v.uJJ.rmb)),c.createElement(_,{value:v.uJJ.dollar},v.uJJ.description(v.uJJ.dollar)),c.createElement(_,{value:v.uJJ.hkdollar},v.uJJ.description(v.uJJ.hkdollar)),c.createElement(_,{value:v.uJJ.other},v.uJJ.description(v.uJJ.other)))),c.createElement(p.Z.Item,{label:"开户日期",name:"bankDate"},c.createElement(u.Z,{picker:"month",allowClear:!0})),c.createElement(p.Z.Item,{label:"注销日期",name:"canceler_date"},c.createElement(u.Z,{allowClear:!0})),c.createElement(p.Z.Item,{label:"账户体系",name:"account_system"},c.createElement(f.Z,{placeholder:"请选择",allowClear:!0},c.createElement(_,{value:v.$xK.inside},v.$xK.description(v.$xK.inside)),c.createElement(_,{value:v.$xK.outside},v.$xK.description(v.$xK.outside))))],P={operations:c.createElement("span",null,k.ZP.canOperateSharedBankAccountCreate()?c.createElement(i.Z,{type:"primary",onClick:function(){window.location.href="/#/Shared/BankAccount/Create"}},"创建"):"",k.ZP.canOperateSharedBankAccountExport()?c.createElement(l.Z,{title:"创建下载任务？",onConfirm:Z,okText:"确认",cancelText:"取消"},c.createElement(i.Z,{type:"primary",style:{marginLeft:10}},"导出EXCEL")):""),items:S,onSearch:n,onReset:n,onHookForm:function(e){O(e)}};return c.createElement(g.IT,null,c.createElement(g.j6,P))},S=(n(20186),n(75385)),P=n(30381),C=n.n(P),J=function(e){var t=e.bankAccountList,n=void 0===t?{}:t,a=e.onShowSizeChange,r=void 0===a?function(){}:a,o=e.onChangePage,l=void 0===o?function(){}:o,i=n.data,u=void 0===i?[]:i,d=n._meta,p=void 0===d?{}:d,s=[{title:"公司名称",dataIndex:["firm_info","name"]},{title:"开户账号",dataIndex:"bank_card",render:function(e){return e||"--"}},{title:"账户类型",dataIndex:"bank_card_type",render:function(e){return e?v.MY2.description(e):"--"}},{title:"币种",dataIndex:"currency",render:function(e){return e?v.uJJ.description(e):"--"}},{title:"开户银行",dataIndex:"bank_and_branch"},{title:"账户体系",dataIndex:"account_system",render:function(e){return e?v.$xK.description(e):"--"}},{title:"最新修改时间",dataIndex:"updated_at",render:function(e){return e?C()(e).format("YYYY-MM-DD"):"--"}},{title:"最新操作人",dataIndex:["operator_info","name"],render:function(e){return e||"--"}},{title:"状态",dataIndex:"state",render:function(e){return e?v.v_$.description(e):"--"}},{title:"操作",dataIndex:"_id",width:150,render:function(e){var t="/#/Shared/BankAccount/Update?id=".concat(e),n="/#/Shared/BankAccount/Detail?id=".concat(e);return c.createElement("div",null,k.ZP.canOperateSharedBankAccountDetail()?c.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},"查看"):"",k.ZP.canOperateSharedBankAccountUpdate()?c.createElement("a",{href:t,style:{marginLeft:10}},"编辑"):"")}}],m={current:p.page||1,defaultPageSize:30,pageSize:p.page_size||30,showQuickJumper:!0,showSizeChanger:!0,onChange:l,onShowSizeChange:r,showTotal:function(e){return"总共".concat(e,"条")},total:p.result_count,pageSizeOptions:["10","20","30","40"]};return c.createElement(g.IT,{title:"银行账户列表"},c.createElement(S.Z,{rowKey:function(e,t){return e._id||t},columns:s,dataSource:u,pagination:m,bordered:!0}))};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=(0,o.connect)((function(e){return{bankAccountList:e.sharedBankAccount.bankAccountList}}))((function(e){var t=e.dispatch,n=e.bankAccountList,a=(0,c.useState)({_meta:{page:1,limit:30}}),o=(0,r.Z)(a,2),l=o[0],i=o[1];(0,c.useEffect)((function(){return t({type:"sharedBankAccount/getSharedBankAccountList",payload:x({},l)}),function(){t({type:"sharedBankAccount/reduceSharedBankAccountList",payload:{}})}}),[t,l]);return c.createElement("div",null,c.createElement(Z,{onSearch:function(e){i(x({_meta:{page:1,limit:30}},e))},dispatch:t}),c.createElement(J,{bankAccountList:n,onChangePage:function(e,t){i(x(x({},l),{},{_meta:{page:e,limit:t}}))},onShowSizeChange:function(e,t){i(x(x({},l),{},{_meta:{page:e,limit:t}}))}}))}))}}]);