"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[3059],{93059:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});n(20186);var a=n(75385),r=(n(21316),n(75443)),o=(n(18085),n(55241)),c=(n(52560),n(71577)),p=n(15671),i=n(43144),l=n(97326),s=n(60136),u=n(82963),d=n(61120),m=n(4942),f=n(55609),y=n(44654),h=n(30381),E=n.n(h),x=n(67294),Z=n(45697),v=n.n(Z),T=n(93517),b=n.n(T),g=n(87462),S=(n(9070),n(20924)),C=(n(29093),n(16317)),k=n(96036),G=n(80385),O=n(88144);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.Z)(this,n)}}var P=C.Z.Option,D=function(e){(0,s.Z)(n,e);var t=w(n);function n(e){var a;return(0,p.Z)(this,n),a=t.call(this,e),(0,m.Z)((0,l.Z)(a),"onReset",(function(){var e=a.props.onSearch,t={state:"",costGroup:void 0,scense:void 0};a.setState({search:t}),e&&e(t)})),(0,m.Z)((0,l.Z)(a),"onSearch",(function(e){var t=a.props.onSearch,n=e;n.page=1,n.limit=30,t&&t(n)})),(0,m.Z)((0,l.Z)(a),"onHookForm",(function(e){a.setState({form:e})})),(0,m.Z)((0,l.Z)(a),"render",(function(){var e={showSearch:!0,mode:"multiple",optionFilterProp:"children",allowClear:!0,showArrow:!0},t={items:[{label:"状态",form:function(e){return e.getFieldDecorator("state")(x.createElement(C.Z,{placeholder:"请选择",allowClear:!0},x.createElement(P,{value:"".concat(G.XOG.enable)},G.XOG.description(G.XOG.enable)),x.createElement(P,{value:"".concat(G.XOG.disabled)},G.XOG.description(G.XOG.disabled)),x.createElement(P,{value:"".concat(G.XOG.edit)},G.XOG.description(G.XOG.edit))))}},{label:"费用分组",form:function(e){return e.getFieldDecorator("costGroup")(x.createElement(S.Z,{placeholder:"请输入"}))}},{label:"科目",form:function(t){return t.getFieldDecorator("subjects")(x.createElement(O.t7,(0,g.Z)({placeholder:"请选择"},e)))}},{label:"适用场景",form:function(e){return e.getFieldDecorator("scense")(x.createElement(O.UU,{enumeratedType:"subjectScense"}))}}],onReset:a.onReset,onSearch:a.onSearch,onHookForm:a.onHookForm};return x.createElement(k.IT,null,x.createElement(k.yL,t))})),a.state={form:void 0,search:{state:"",costGroup:void 0,scense:void 0}},a}return n}(x.Component);(0,m.Z)(D,"propsTypes",{onSearch:v().func}),(0,m.Z)(D,"defaultProps",{onSearch:function(){}});var R=D,U=n(7378),X=n(45430),I=n(97116);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.Z)(this,n)}}var B=function(e){(0,s.Z)(n,e);var t=L(n);function n(e){var i;return(0,p.Z)(this,n),i=t.call(this,e),(0,m.Z)((0,l.Z)(i),"onShowSizeChange",(function(e,t){var n=i.private.searchParams;n.page=e,n.limit=t,i.onSearch(n)})),(0,m.Z)((0,l.Z)(i),"onChangePage",(function(e,t){var n=i.private.searchParams;n.page=e,n.limit=t,i.onSearch(n)})),(0,m.Z)((0,l.Z)(i),"onSearch",(function(e){i.private.searchParams=e,i.private.searchParams.page||(i.private.searchParams.page=1),i.private.searchParams.limit||(i.private.searchParams.limit=30),i.props.dispatch({type:"expenseType/fetchExpenseType",payload:i.private.searchParams})})),(0,m.Z)((0,l.Z)(i),"onUpdateExpenseTypeByEnable",(function(e,t){i.props.dispatch({type:"expenseType/updateExpenseTypeByEnable",payload:{id:e,flag:t,onSuccessCallback:i.onSuccessCallback}})})),(0,m.Z)((0,l.Z)(i),"onDelete",(function(e){i.props.dispatch({type:"expenseType/deleteExpenseType",payload:{id:e,onSuccessCallback:i.onSuccessCallback}})})),(0,m.Z)((0,l.Z)(i),"onSuccessCallback",(function(){i.props.dispatch({type:"expenseType/fetchExpenseType",payload:i.private.searchParams})})),(0,m.Z)((0,l.Z)(i),"renderSearch",(function(){return x.createElement(R,{onSearch:i.onSearch})})),(0,m.Z)((0,l.Z)(i),"renderContent",(function(){var e=i.props,t=e.expenseTypeList,n=void 0===t?{}:t,p=e.enumeratedValue,l=(void 0===p?{}:p).subjectScense,s=void 0===l?[]:l,u=i.private.searchParams,d=u.page,m=void 0===d?1:d,f=u.limit,h="";X.ZP.canOperateExpenseExpenseTypeUpdate()&&(h=x.createElement("div",{className:U.Z["app-comp-expense-type-accounting-ist-create"]},x.createElement(c.Z,{type:"primary",onClick:function(){window.location.href="/#/Expense/Type/Create"}},"新增费用分组")));var Z=[{title:"序号",dataIndex:"id",render:function(e,t,n){return x.createElement("div",null,n+1)}},{title:"费用分组名称",dataIndex:"name"},{title:"适用场景",dataIndex:"industryCodes",render:function(e){if(!e||1!==e.length)return"--";var t=(s.find((function(t){return t.value===e[0]}))||{}).name;return(void 0===t?void 0:t)||"--"}},{title:"科目",dataIndex:"accountingList",render:function(e){var t="";if(e.forEach((function(e){t+="".concat(e.name).concat(e.accountingCode,",")})),0===e.length)return"--";if(e.length<=1)return e[0].name;var n=t.split(",");return x.createElement(o.Z,{content:x.createElement("p",{className:U.Z["app-comp-expense-type-accounting-list"]},t.slice(0,t.length-1)),trigger:"hover"},x.createElement("div",null,n.slice(0,1).join(","),"等"))}},{title:"创建日期",dataIndex:"createdAt",render:function(e){return e?E()(e).format("YYYY-MM-DD"):"--"}},{title:"创建人",dataIndex:"creatorInfo",render:function(e){return e&&e.name?e.name:"--"}},{title:"状态",dataIndex:"state",render:function(e){return G.XOG.description(e)}},{title:"操作",render:function(e,t){var n=b().get(t,"industryCodes.0",void 0);if(Number(t.state)===G.XOG.deleted)return"--";if(t.creatorInfo.id!==I.Iq.account.id)return x.createElement("a",{href:"/#/Expense/Type/Detail?id=".concat(t.id)},"查看");if(!0!==X.ZP.canOperateExpenseExpenseTypeUpdate())return x.createElement("a",{href:"/#/Expense/Type/Detail?id=".concat(t.id)},"查看");switch(Number(t.state)){case G.XOG.enable:return x.createElement("div",null,x.createElement("a",{href:"/#/Expense/Type/Detail?id=".concat(t.id),className:U.Z["app-comp-expense-type-operate-detail"]},"查看"),x.createElement(r.Z,{title:"您是否确定停用该费用分组",onConfirm:function(){i.onUpdateExpenseTypeByEnable(t.id,!1)},okText:"确定",cancelText:"取消"},x.createElement("a",null,"停用")));case G.XOG.disabled:return x.createElement("div",null,x.createElement(y.Link,{to:{pathname:"/Expense/Type/Update",query:{id:t.id,scense:n}},className:U.Z["app-comp-expense-type-operate-update"]},"编辑"),x.createElement(r.Z,{title:"您是否确定启用该费用分组",onConfirm:function(){i.onUpdateExpenseTypeByEnable(t.id,!0)},okText:"确定",cancelText:"取消"},x.createElement("a",{className:U.Z["app-comp-expense-type-operate-enable"]},"启用")),x.createElement(r.Z,{title:"您是否确定删除该费用分组",onConfirm:function(){i.onDelete(t.id)},okText:"确定",cancelText:"取消"},x.createElement("a",null,"删除")));case G.XOG.edit:return x.createElement("div",null,x.createElement(y.Link,{to:{pathname:"/Expense/Type/Update",query:{id:t.id,scense:n}},className:U.Z["app-comp-expense-type-operate-update"]},"编辑"),x.createElement(r.Z,{title:"您是否确定删除该费用分组",onConfirm:function(){i.onDelete(t.id)},okText:"确定",cancelText:"取消"},x.createElement("a",{className:U.Z["app-comp-expense-type-operate-detele"]},"删除")),x.createElement(r.Z,{title:"您是否确定启用该费用分组",onConfirm:function(){i.onUpdateExpenseTypeByEnable(t.id,!0)},okText:"确定",cancelText:"取消"},x.createElement("a",{className:U.Z["app-comp-expense-type-operate-enable"]},"启用")),x.createElement(r.Z,{title:"您是否确定停用该费用分组",onConfirm:function(){i.onUpdateExpenseTypeByEnable(t.id,!1)},okText:"确定",cancelText:"取消"},x.createElement("a",null,"停用")));case G.XOG.deleted:return x.createElement("div",null,"--");default:return x.createElement("div",{className:U.Z["app-comp-expense-type-operate"]},x.createElement("a",{href:"/#/Expense/Type/Detail?id=".concat(t.id)},"查看"))}}}],v={current:m,pageSize:f||30,onChange:i.onChangePage,showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:i.onShowSizeChange,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],total:b().get(n,"meta.count",0)};return x.createElement(k.IT,{title:"费用分组列表",titleExt:h},x.createElement(a.Z,{rowKey:function(e,t){return t},pagination:v,columns:Z,dataSource:n.data,bordered:!0}))})),(0,m.Z)((0,l.Z)(i),"render",(function(){return x.createElement("div",null,i.renderSearch(),i.renderContent())})),i.state={},i.private={searchParams:{}},i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"applicationCommon/getEnumeratedValue",payload:{enumeratedType:"subjectScense"}})}},{key:"componentWillUnmount",value:function(){(0,this.props.dispatch)({type:"applicationCommon/resetEnumeratedValue"})}}]),n}(x.Component);(0,m.Z)(B,"propsTypes",{expenseTypeList:v().object}),(0,m.Z)(B,"defaultProps",{expenseTypeList:{}});var N=(0,f.connect)((function(e){return{expenseTypeList:e.expenseType.expenseTypeList,enumeratedValue:e.applicationCommon.enumeratedValue}}))(B)},7378:function(e,t){t.Z={"app-comp-expense-type-accounting-list":"mAnDrdEjGkjoOQO8TEmk","app-comp-expense-type-operate-detail":"S_GZuVr37uAK__xDXlCA","app-comp-expense-type-operate-update":"ziyoehmUKcnoUy45j6bG","app-comp-expense-type-operate-enable":"KfVEYkxQ93mWup5bFDnb","app-comp-expense-type-operate-detele":"Vav1Ggq8Hw5p8eww2N0w","app-comp-expense-type-operate":"UZkbyr8gLxEZuUx87Sxc","app-comp-expense-type-update-submit":"r52VtMbeQaUyhAZ9nzTn","app-comp-expense-type-accounting-ist-create":"qR8Yp_a84kmwKlt_LRVR","app-comp-expense-type-accounting-list-create-submit":"eE5LqlmG6ZcHCLRIVTaD"}}}]);