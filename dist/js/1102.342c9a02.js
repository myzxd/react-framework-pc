(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[1102],{34387:function(e,t,n){"use strict";n(52560);var o=n(71577),r=(n(35668),n(86585)),a=n(87462),i=n(93517),l=n.n(i),c=n(67294),p=n(96036),s=n(80385),d={labelCol:{span:8},wrapperCol:{span:16}};t.Z=function(e){var t=e.approveOrderDetail,n=void 0===t?{}:t,i=[c.createElement(r.Z.Item,(0,a.Z)({label:"申请人"},d),l().get(n,"apply_account_info.name","--")),c.createElement(r.Z.Item,(0,a.Z)({label:"部门"},d),l().get(n,"department_job_info.department_info.name","--")),c.createElement(r.Z.Item,(0,a.Z)({label:"岗位"},d),l().get(n,"department_job_info.job_info.name","--")),c.createElement(r.Z.Item,(0,a.Z)({label:"职级"},d),l().get(n,"department_job_info.job_info.rank","--")),c.createElement(r.Z.Item,(0,a.Z)({label:"审批单号"},d),l().get(n,"_id","--")),c.createElement(r.Z.Item,(0,a.Z)({label:"审批流"},d),l().get(n,"flow_info.name","--")),c.createElement(r.Z.Item,(0,a.Z)({label:"流程状态"},d),l().get(n,"state",void 0)?s.DU5.description(l().get(n,"state",void 0)):"--"),c.createElement(r.Z.Item,(0,a.Z)({label:"付款状态"},d),l().get(n,"paid_state",void 0)?s.rTI.description(l().get(n,"paid_state",void 0)):"--"),c.createElement(r.Z.Item,(0,a.Z)({label:"验票状态"},d),l().get(n,"inspect_bill_state",void 0)?s.A1w.description(l().get(n,"inspect_bill_state",void 0)):"--"),c.createElement(r.Z.Item,(0,a.Z)({label:"记账月份"},d),l().get(n,"belong_month",void 0)||"付款月份")],u=(l().get(n,"state",void 0)===s.DU5.processing||l().get(n,"state",void 0)===s.DU5.finish||l().get(n,"state",void 0)===s.DU5.close)&&!l().get(n,"plugin_app_id",void 0)?c.createElement(o.Z,{type:"primary",onClick:function(){var e=JSON.stringify([l().get(n,"_id",void 0)]);window.location.href="/#/Code/Print?selectedRowKeys=".concat(e)}},"打印"):"";return c.createElement(p.IT,{title:"基本信息",titleExt:u,className:"affairs-flow-detail-basic"},c.createElement(r.Z,null,c.createElement(p.Fp,{items:i,cols:4})))}},72438:function(e,t,n){"use strict";var o=n(87462),r=(n(29093),n(16317)),a=n(15861),i=n(93433),l=(n(35668),n(86585)),c=n(29439),p=n(87757),s=n.n(p),d=n(55609),u=n(93517),m=n.n(u),f=n(67294),v=n(80385),Z=n(97116),h={labelCol:{span:2},wrapperCol:{span:22}};t.Z=(0,d.connect)((function(e){return{approveOrderThemeTags:e.codeOrder.approveOrderThemeTags}}))((function(e){var t=e.orderId,n=e.dispatch,p=e.approveOrderThemeTags,d=void 0===p?{}:p,u=e.isUpdate,g=l.Z.useForm(),y=(0,c.Z)(g,1)[0],b=d.theme_label_list,w=void 0===b?[]:b,E=d.current_account_ids,_=void 0===E?[]:E,k=d.state,x=d.plugin_extra_meta,C=void 0===x?{}:x,T=d.plugin_theme_label_list,U=void 0===T?[]:T,R=!1;R=!!u||!m().get(C,"is_plugin_order",!1)&&(k===v.DU5.processing&&_.includes(Z.Iq.account.id)),(0,f.useEffect)((function(){return t&&n({type:"codeOrder/getApproveOrderThemeTags",payload:{orderId:t}}),function(){n({type:"codeOrder/reduceApproveOrderThemeTags",payload:{}})}}),[n,t]),(0,f.useEffect)((function(){y.setFieldsValue({themeTags:[].concat((0,i.Z)(w),(0,i.Z)(U))})}),[y,w,U]);var F=function(){t&&n({type:"codeOrder/getApproveOrderThemeTags",payload:{orderId:t}})},P=function(){var e=(0,a.Z)(s().mark((function e(){var o,r,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=a.length>0&&void 0!==a[0]?a[0]:[],r=o.filter((function(e){return!U.includes(e)})),n({type:"codeOrder/saveOrderThemeTags",payload:{orderId:t,tags:r,onSucessCallback:F}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f.createElement(l.Z,{form:y,className:"affairs-flow-basic"},f.createElement(l.Z.Item,(0,o.Z)({label:"主题标签"},h,{className:"code-approve-order-theme-tag"}),f.createElement(l.Z.Item,{name:"themeTags",style:{width:"50%"},getValueFromEvent:function(e){return e.map((function(e){return e.replace(/\s+/g,"")})).filter((function(e){return""!==e}))}},f.createElement(r.Z,{mode:"tags",notFoundContent:"",tokenSeparators:[",","，"],placeholder:"请输入",allowClear:!0,disabled:!R,onChange:function(e){P(e)}}))))}))},85277:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});n(61023);var o=n(11324),r=(n(52560),n(71577)),a=(n(51838),n(48086)),i=n(93433),l=n(15671),c=n(43144),p=n(97326),s=n(60136),d=n(82963),u=n(61120),m=n(4942),f=n(67294),v=n(45697),Z=n.n(v),h=n(94315),g=n.n(h),y=n(93517),b=n.n(y),w=n(55609),E=n(90631),_=n(73171),k=n(84391),x=n(80385),C=n(96036),T=n(80309);n(7869);var U=function(e,t){return n=e,o=function(e){return function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(e,t);else{var n=window.document.createElement("a"),o=window.document.querySelector("body");n.href=window.URL.createObjectURL(e),n.download=t,n.style.display="none",o.appendChild(n),n.click(),o.removeChild(n),window.URL.revokeObjectURL(n.href)}}(e,t)},(r=new XMLHttpRequest).open("GET",n,!0),r.responseType="blob",r.onload=function(){200===r.status&&o(r.response)},void r.send();var n,o,r};function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,d.Z)(this,n)}}var F=C.KT.CoreFinderList,P=function(e){(0,s.Z)(n,e);var t=R(n);function n(e){var o;return(0,l.Z)(this,n),o=t.call(this,e),(0,m.Z)((0,p.Z)(o),"onUploadSuccessCallback",(function(e,t){var n=o.props,r=n.value,a=n.onChange,l=[t],c=l.map((function(e){return{key:e}}));t&&(Array.isArray(r)?a([].concat((0,i.Z)(r),(0,i.Z)(c))):a(c)),o.setState({fileList:l})})),(0,m.Z)((0,p.Z)(o),"onChangeUpload",(function(e){var t=e.file,n=o.props.domain,r="",i="";if(t.name&&(r=t.name.split(".").pop(),i=t.name.slice(0,t.name.lastIndexOf(".")),!1===x.fbc.uploadFileSuffixs(r)))return a.ZP.error("您所上传的".concat(t.name,"格式不支持上传"));if(t.size>=62914560)return a.ZP.error("上传文件不能超过60M，超过的解决方案：①拆分多个文件，确保每个文件不超过60M;②压缩至60M以内上传");o.props.dispatch({type:"applicationFiles/uploadAmazonFile",payload:{file:t,domain:n,fileType:r,fileKey:i,onSuccessCallback:function(e){return o.onUploadSuccessCallback(t,e)}}})})),(0,m.Z)((0,p.Z)(o),"onUpload",(function(){return!1})),(0,m.Z)((0,p.Z)(o),"onRemove",(function(e){var t=o.props,n=t.value,r=t.onChange;if(Array.isArray(n)){var a=(0,i.Z)(n);a.splice(e,1),0===a.length&&(a=void 0),r(a)}})),(0,m.Z)((0,p.Z)(o),"onUploadSuccess",(function(e,t,n){o.setState({fileType:e,fileUrl:t,visible:!0,fileName:n})})),(0,m.Z)((0,p.Z)(o),"setVisible",(function(){o.setState({visible:!1})})),(0,m.Z)((0,p.Z)(o),"renderFileList",(function(){var e=o.props,t=e.showFileList,n=e.value,a=e.displayMode;if(!Array.isArray(n)||0===n.length)return a?"--":null;if(!t&&!a)return null;var i=function(e,t){if(t&&e){var n;return n=e.match(/\.(\w+)$/)[1],void o.onUploadSuccess(n,t,e)}o.props.dispatch({type:"applicationFiles/fetchKeyUrl",payload:{key:e,onUploadSuccess:function(t,n){return o.onUploadSuccess(t,n,e)}}})};return n.map((function(e,t){var n=e.key,l=e.url;return f.createElement("div",{key:n,"preview-file-box":!0,className:l?null:T.Z["preview-file-box"]},l?f.createElement(f.Fragment,null,f.createElement(r.Z,{type:"link",className:T.Z["preview-url"],onClick:function(){return i(n,l)}},n),f.createElement(r.Z,{type:"link",icon:f.createElement(E.Z,null),onClick:function(){return U(l,n)}})):f.createElement(f.Fragment,null,f.createElement(r.Z,{type:"link",style:{marginLeft:6,whiteSpace:"inherit",textAlign:"left"},onClick:function(){return i(n)}},n)),a?null:f.createElement(_.Z,{onClick:function(){return o.onRemove(t)},style:{marginLeft:5}}))}))})),(0,m.Z)((0,p.Z)(o),"renderPreviewDetail",(function(e){return g().empty(e)||g().not.existy(e)?"--":f.createElement(F,{data:e,enableTakeLatest:!1,enableRequest:!1})})),(0,m.Z)((0,p.Z)(o),"renderPreviewUpdate",(function(e){return g().empty(e)||g().not.existy(e)?f.createElement(f.Fragment,null):f.createElement(F,{data:e,enableDownload:!1,enableRemove:!0,onRemove:o.onRemove,enableRequest:!1})})),(0,m.Z)((0,p.Z)(o),"renderCorePreview",(function(){var e=o.props,t=e.value;return e.displayMode?o.renderPreviewDetail(t):o.renderPreviewUpdate(t)})),o.state={fileList:[],fileType:null,fileUrl:null,visible:!1,fileName:null},o}return(0,c.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.displayMode;return f.createElement(f.Fragment,null,n?null:f.createElement(o.Z,{name:"file",onChange:this.onChangeUpload,beforeUpload:this.onUpload,showUploadList:!1,multiple:!0},t||f.createElement(r.Z,null,f.createElement(k.Z,null),"点击上传")),this.renderCorePreview())}}]),n}(f.Component);P.propTypes={domain:Z().string,showFileList:Z().bool,value:Z().arrayOf(Z().shape({key:Z().string.isRequired,url:Z().string})),onChange:Z().func,displayMode:Z().bool},P.defaultProps={showFileList:!0,onChange:function(){},displayMode:!1},P.getInitialValue=function(e,t){var n=b().get(e,t);if(n&&!g().empty(n))return n.map((function(e){return{key:e.file_name,url:e.file_url}}))},P.UploadDomains={OAUploadDomain:"oa_approval"};var A=(0,w.connect)((function(e){return{applicationFiles:e.applicationFiles}}))(P)},45498:function(e,t){"use strict";t.Z={"code-order-approve-consent-popover":"J_IahFHty_KP9Pb5mqVY","code-order-circulation-node-operate":"A1QXokjGwP6nO7ZKHocc","code-order-circulation-node-icon":"UGmW0haWOp6wTiYErm1M","code-order-circulation-node-name":"mbXWN6rkVJNU4Ty3m1ig","code-order-circulation-rec-approve-name":"XeVjSwYvDDTkfAXtozJd","code-circulation-rec-info":"isH4hHvbou1XYlS90ffs","code-circulation-supplement-show-more-btn":"N4Tk6vlFYVdt3vnVg_Iz","code-circulation-supplement-item":"rc3glx83ichwxsPyjbx4","code-circulation-supplement-creator-name":"ElCGiDvROdxuJLBMkSc5","code-circulation-supplement-create-at":"_vXVxnKdKytAW0vwbmW0","code-circulation-supplement-text-wrap":"eP9p57wbxRF5TXLBRg4q","code-circulation-supplement-text":"AlIuTyKgWPpYA9KEVsrD","code-circulation-supplement-files":"AeMtxV1OmXotvNEjcMqc","code-circulation-supplement-file-item":"gC4L84DzgYd9grxkHDSh","code-circulation-supplement-del-icon":"EiXVWS6mVhGfXQzIKg5A","code-circulation-supplement-title":"PFEROzVJ0e47g3ZLgg_W","code-circulation-supplement-content":"HMfkiVj1ES9oQTstytoM","code-circulation-approve-operation":"cFjrbByRCB0z1GfuCuwZ","code-circulation-pay-operation":"vwPtD_kxPl5Xl7UJpEYX","code-circulation-extra-wrap":"dEKrd0hdHDh6ciAChnaw","card-title":"NRvMsPxc4s8soKEArEr4","card-box":"AQd3vWRunHHwtCtcHCBD","card-box-team":"vfNC6KjNuJ2BFkyC_NCd","card-box-code":"Cm3x_FXczoJJNwFbPwuW","code-order-cost-header":"tLsrp2ZDZ52kTUxb47hA","code-order-cost-header-money-text":"b7pkJyhNVYpShjIlVtMR","code-order-cost-header-tax":"qFUPZC6SGkMYMGU4SlkP","code-order-cost-footer":"RYhjiXMVdzJeqED5rqPw","code-circulation-pay-row":"BbgMFTuMjeSR6MpXxLZg","code-circulation-pay-title":"hayEMkAALIKePkC91clr","code-order-cost-header-money-modal":"PPDLRkR6J_uQBF7ogThE","code-order-cost-tooltip-title":"ihHJVTzE_V8kkjKDU7QA"}},80309:function(e,t){"use strict";t.Z={"app-comp-expense-associated-tag":"iDIZnA6FXUdUzy_21amC","app-comp-expense-associated-info-wrap":"MK3HamwJKxB3H6rFzrX9","app-comp-expense-associated-info-link":"W9Lw5ePuPhkW499d1DcC","app-comp-expense-associated-info-icon":"io4TEBrcANgA4_0TlaxR","app-comp-expense-associated-info-input-label":"uOjDZhq_O4xi_ZhwxKha","app-comp-expense-associated-info-input":"YU7DpfgxoditYcG9_RD6","app-comp-expense-associated-info-btn":"hYQ88cJVzeyW4Md6BR7B","app-comp-expense-associated-info-content":"ZhqBTsGTpnfWqV4vSwPL","app-comp-expense-associated-info-table-wrap":"YC5FkrJrbeOnoE1JkRba","app-comp-expense-associated-info-list-table":"_hSuPkiNZFxn2C5_t9xc","app-comp-expense-associated-info-list":"HgpEMR9EuUQfIrVGvVff","code-report-modal-title":"WwsM5E2HR4xDV4eTvvbP","code-report-modal-btn-wrap":"_p5BH0bQVpzmNUJECp0C","preview-file-box":"ZDkBN0NAPLvlf7YmEwX4","preview-url":"q98CsNrGWEU7OMx3p8TI"}},55382:function(){},72095:function(){},61219:function(){}}]);