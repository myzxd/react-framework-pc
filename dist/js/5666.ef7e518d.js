"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[5666],{45666:function(e,t,a){a.r(t);a(13062);var n=a(71230),r=(a(20186),a(75385)),l=a(87462),c=(a(21316),a(75443)),p=(a(52560),a(71577)),i=a(4942),o=a(29439),s=a(67294),m=a(93517),u=a.n(m),d=a(44654),f=a(55609),y=a(30381),E=a.n(y),b=a(66939),g=(a(98703),a(96036)),Z=a(97116),I=a(80385),v=a(45430),h=a(29401);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,i.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=b.Z.create()((0,f.connect)((function(e){var t=e.supplierManage,a=t.supplierDetail,n=void 0===a?{}:a,r=t.districts;return{supplierDetail:n,districts:void 0===r?{}:r}}))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,a=e.districts,i=void 0===a?{}:a,m=e.supplierDetail,f=void 0===m?{}:m,y=e.location,D=void 0===y?{}:y,S=D.query.id,Y=(0,s.useState)({page:1,limit:30}),k=(0,o.Z)(Y,2),M=k[0],w=k[1];(0,s.useEffect)((function(){var e=O({supplierId:[D.query.id]},M);t({type:"supplierManage/fetchDistricts",payload:e})}),[S,M]);var N=function(e,t){w(O(O({},M),{},{page:e,limit:t}))},P=function(e,t){w(O(O({},M),{},{page:e,limit:t}))},x=function(e){var a={recordId:f._id,onSuccessCallback:C,supplierState:e};t({type:"supplierManage/updateSupplierState",payload:a})},C=function(){var e={supplierId:f._id};t({type:"supplierManage/fetchSupplierDetail",payload:e})},j=function(){var e=s.createElement("div",{className:h.Z["app-comp-system-detail-stoped-title"]},s.createElement("h2",{className:h.Z["app-comp-system-title"]},"你确定要停用该供应商吗?"),s.createElement("p",null,"停用后该供应商下",s.createElement("strong",{className:h.Z["app-comp-system-line"]},"所有系统用户停用")),s.createElement("p",null,"将不能登录系统,",s.createElement("strong",{className:h.Z["app-comp-system-line"]},"请慎重!"))),t=s.createElement("div",{className:h.Z["app-comp-system-detail-enable-title"]},s.createElement("h2",{className:h.Z["app-comp-system-title"]},"你确定要启用该供应商吗?"),s.createElement("p",null,"启用后该供应商下的系统用户将重新启用。"));return u().get(f,"state")===I.Acu.enable?s.createElement(c.Z,{title:e,okText:"确认",cancelText:"取消",onConfirm:function(){return x(I.Acu.stoped)}},s.createElement(p.Z,{type:"primary",className:h.Z["app-comp-system-detail-operate-btn"]},"停用供应商")):u().get(f,"state")===I.Acu.stoped?s.createElement(c.Z,{title:t,okText:"确认",cancelText:"取消",onConfirm:function(){return x(I.Acu.enable)}},s.createElement(p.Z,{type:"primary",className:h.Z["app-comp-system-detail-operate-btn"]},"启用供应商")):void 0},A=function(){var e={labelCol:{span:8},wrapperCol:{span:16}},t=[s.createElement(b.Z.Item,(0,l.Z)({label:"供应商名称"},e),s.createElement("span",null,u().get(f,"name","--"))),s.createElement(b.Z.Item,(0,l.Z)({label:"供应商ID"},e),s.createElement("span",null,u().get(f,"supplier_id","--"))),s.createElement(b.Z.Item,(0,l.Z)({label:"状态"},e),s.createElement("span",null,f&&f.state?I.Acu.description(u().get(f,"state")):"--")),s.createElement(b.Z.Item,(0,l.Z)({label:"创建时间"},e),s.createElement("span",null,f&&f.created_at?E()(u().get(f,"created_at")).format("YYYY-MM-DD HH:mm:ss"):"--")),s.createElement(b.Z.Item,(0,l.Z)({label:"停用时间"},e),s.createElement("span",null,f&&f.forbidden_at&&Number(f.state)===I.Acu.stoped?E()(u().get(f,"forbidden_at")).format("YYYY-MM-DD HH:mm:ss"):"--")),s.createElement(b.Z.Item,(0,l.Z)({label:"最新操作时间"},e),s.createElement("span",null,f&&f.updated_at?E()(u().get(f,"updated_at")).format("YYYY-MM-DD HH:mm:ss"):"--")),s.createElement(b.Z.Item,(0,l.Z)({label:"最新操作人"},e),s.createElement("span",null,u().get(f,"operator_info.name","--")))];return s.createElement(g.IT,{title:"基本信息"},s.createElement(g.Fp,{items:t,cols:3,layout:e}))},T=function(){var e=[{title:"商圈ID",dataIndex:"customId",key:"customId",render:function(e){return e||"--"}},{title:"商圈",dataIndex:"name",key:"name",render:function(e){return e||"--"}},{title:"平台",dataIndex:"platformCode",key:"platformCode",render:function(e){return Z.Iq.platformFilter(e)}},{title:"城市",dataIndex:"cityInfo",key:"cityInfo",render:function(e){return e&&e.cityName?e.cityName:"--"}},{title:"商圈添加时间",dataIndex:"createdAt",key:"createdAt",render:function(e){return e?E()(e).format("YYYY-MM-DD HH:mm"):"--"}},{title:"商圈状态",dataIndex:"state",key:"state",render:function(e){return I.hQm.description(e)||"--"}}],t={current:M.page,defaultPageSize:M.limit,onChange:P,showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:N,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],total:u().get(i,"meta.count",0)};return s.createElement("div",null,s.createElement(g.IT,{title:"业务范围"},s.createElement(r.Z,{columns:e,dataSource:u().get(i,"data",[]),pagination:t,bordered:!0,rowKey:function(e,t){return t}})),s.createElement(n.Z,{justify:"center",type:"flex",className:"app-global-mgt16"},v.ZP.canOperateSystemSupplierUpdateState()?j():null,s.createElement(p.Z,null,s.createElement(d.Link,{to:"/System/Supplier/Manage"},"返回"))))};return s.createElement("div",null,A(),T())})))},29401:function(e,t){t.Z={"app-comp-system-detail-stoped-title":"ksyllvX0nI8pe3ET7Vwy","app-comp-system-title":"XxbfF22BPlE8h6AEBYDd","app-comp-system-line":"IaPUI9qzA92bT4rU4MBs","app-comp-system-detail-enable-title":"uRJK03eNaQlC4rD6YDZ0","app-comp-system-detail-operate-btn":"TBzeeWmVN6i1OYFudBUx","app-comp-system-form-submit-btn":"SMWMu62_PAuaIEsKeBet","app-comp-system-supplier-operate-btn":"oELKpAmWEP8W3rW0UtBT"}}}]);