"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[8132],{88132:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var a=n(55609),r=n(67294),c=(n(35668),n(86585)),o=n(87462),i=n(93517),l=n.n(i),d=n(96036),u=n(80385),m=d.KT.CoreFinderList,f={labelCol:{span:8},wrapperCol:{span:16}},s={labelCol:{span:2},wrapperCol:{span:22}},_=(0,a.connect)()((function(e){var t=e.detail,n=void 0===t?{}:t,a=n._id,i=n.cost_center_type,_=n.invoice_title,p=n.total_money,b=void 0===p?0:p,I=n.payment_total_money,Z=void 0===I?0:I,E=n.total_tax_amount_amount,h=void 0===E?0:E,v=n.state,y=n.paid_state,x=n.inspect_bill_state,g=n.note,C=n.attachment_private_urls,T=void 0===C?[]:C,w=n.bill_red_push_state,F=b;n.type===u.rkq.normal&&w===u.LLt.done&&(F=b-h);var k="--";i===u.Xr3.code&&(k=l().get(n,"biz_code_info.name","--")),i===u.Xr3.team&&(k=l().get(n,"biz_team_info.name","--"));var M=[r.createElement(c.Z.Item,(0,o.Z)({label:"费用单号"},f),a||"--"),r.createElement(c.Z.Item,(0,o.Z)({label:"科目"},f),l().get(n,"biz_account_info.name","--"),l().get(n,"biz_account_info.ac_code")?"(".concat(l().get(n,"biz_account_info.ac_code"),")"):""),r.createElement(c.Z.Item,(0,o.Z)({label:"核算中心"},f),k),r.createElement(c.Z.Item,(0,o.Z)({label:"发票抬头"},f),_||"--"),r.createElement(c.Z.Item,(0,o.Z)({label:"提报金额"},f),u.fbc.exchangePriceCentToMathFormat(b),"元"),r.createElement(c.Z.Item,(0,o.Z)({label:"付款金额"},f),u.fbc.exchangePriceCentToMathFormat(Z),"元"),r.createElement(c.Z.Item,(0,o.Z)({label:"费用金额"},f),u.fbc.exchangePriceCentToMathFormat(F),"元"),r.createElement(c.Z.Item,(0,o.Z)({label:"总税金"},f),u.fbc.exchangePriceCentToMathFormat(h),"元"),r.createElement(c.Z.Item,(0,o.Z)({label:"审批单状态"},f),v?u.DU5.description(v):"--"),r.createElement(c.Z.Item,(0,o.Z)({label:"付款状态"},f),y?u.rTI.description(y):"--"),r.createElement(c.Z.Item,(0,o.Z)({label:"验票状态"},f),x?u.A1w.description(x):"--")],P=[r.createElement(c.Z.Item,(0,o.Z)({label:"事项说明"},s),r.createElement("div",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"}},g||"--")),r.createElement(c.Z.Item,(0,o.Z)({label:"附件"},s),function(e){if(Array.isArray(e)&&l().get(e,"0.file_url")){var t=e.map((function(e){return{key:e.file_name,url:e.file_url}}));return r.createElement(m,{data:t})}return"--"}(T))];return r.createElement(d.IT,{title:"基本信息",className:"affairs-flow-detail-basic"},r.createElement(d.Fp,{items:M,cols:4}),r.createElement(d.Fp,{items:P,cols:1}))})),p=(n(20186),n(75385)),b=function(e){var t,n=e.detail,a=(void 0===n?{}:n).actual_payee_list,c=void 0===a?[]:a;return r.createElement(d.IT,{title:"付款明细"},(t=[{title:"收款人",dataIndex:"card_name",render:function(e,t){return e?"".concat(e," ").concat(t.card_phone?"(".concat(t.card_phone,")"):""):"--"}},{title:"银行卡号",dataIndex:"card_num",render:function(e){return e||"--"}},{title:"开户支行",dataIndex:"bank_details",render:function(e){return e||"--"}},{title:"金额（元）",dataIndex:"money",render:function(e){return e>=0?u.fbc.exchangePriceCentToMathFormat(e):"--"}},{title:"收款方式",dataIndex:"payee_type",render:function(e){return e?u.vaC.description(e):"--"}}],r.createElement(p.Z,{bordered:!0,columns:t,pagination:!1,dataSource:c,rowKey:function(e,t){return e._id||t},scroll:{y:400}})))},I=(n(438),n(14277)),Z=function(e){var t=e.detail,n=(void 0===t?{}:t).cost_bill_list,a=void 0===n?[]:n;return r.createElement(d.IT,{title:"发票信息"},function(){if(a&&!(a.length<1)){var e=[{title:"发票编号",dataIndex:"code",render:function(e){return e||"--"}},{title:"发票类型",dataIndex:"type",render:function(e){return e?u.R4S.description(e):"--"}},{title:"发票金额",dataIndex:"money",render:function(e){return"".concat(u.fbc.exchangePriceCentToMathFormat(e),"元")}},{title:"税率",dataIndex:"tax_rate",render:function(e){return void 0!==e?u.vU.description(e):"--"}},{title:"税金",dataIndex:"tax_amount",render:function(e){return"".concat(u.fbc.exchangePriceCentToMathFormat(e),"元")}},{title:"税金",dataIndex:"tax_deduction",render:function(e){return"".concat(u.fbc.exchangePriceCentToMathFormat(e),"元")}}];return r.createElement(p.Z,{bordered:!0,columns:e,pagination:!1,dataSource:a,rowKey:function(e,t){return e._id||t},scroll:{y:400}})}}(),function(){if(!(Array.isArray(a)&&a.length>0))return r.createElement(I.Z,{description:"暂无发票信息"})}())},E=(0,a.connect)((function(e){return{recordDetail:e.codeRecord.recordDetail}}))((function(e){var t=e.dispatch,n=e.location,a=e.recordDetail,c=void 0===a?{}:a,o=n.query.recordId;return(0,r.useEffect)((function(){return t({type:"codeRecord/getRecordDetail",payload:{recordId:o}}),function(){t({type:"codeRecord/resetRecordDetail"})}}),[t,o]),r.createElement(r.Fragment,null,r.createElement(_,{detail:c}),r.createElement(b,{detail:c}),r.createElement(Z,{detail:c}))}))}}]);