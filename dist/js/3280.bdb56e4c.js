"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[3280],{13280:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});r(51838);var n=r(48086),o=r(15671),a=r(43144),c=r(97326),l=r(60136),i=r(82963),u=r(61120),f=r(4942),s=r(55609),p=r(45697),m=r.n(p),d=r(67294),y=r(66939),h=(r(98703),r(80385)),v=r(96036);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}var b=function(e){(0,l.Z)(r,e);var t=Z(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,f.Z)((0,c.Z)(e),"renderBasisInfo",(function(){var t=e.props.detail.id,r=[{label:"合同编号",form:t||"--"}],n=d.createElement("a",{key:"detail",target:"_blank",rel:"noopener noreferrer",href:"/#/Expense/Manage/House/Detail?id=".concat(t)},"更多详情");return d.createElement(v.IT,{title:"基本信息",titleExt:n},d.createElement(v.KP,{items:r,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}}))})),(0,f.Z)((0,c.Z)(e),"render",(function(){return e.renderBasisInfo()})),e}return r}(d.Component);(0,f.Z)(b,"propTypes",{detail:m().object}),(0,f.Z)(b,"defaultProps",{detail:{}});var P=b;function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}var D=function(e){(0,l.Z)(r,e);var t=g(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,f.Z)((0,c.Z)(e),"renderHistoryContractInfo",(function(){var t=e.props.detail,r=t.id,n=t.monthMoney,o=t.pledgeMoney,a=t.agentMoney,c=t.fileList,l=t.unrefundedPledgeMoney,i=[{label:"合同编号",form:r},{label:"附件",form:c}],u=[{label:"押金金额（元）",form:void 0!==o?h.fbc.exchangePriceToYuan(o):"--"},{label:"未退押金（元）",form:void 0!==l?h.fbc.exchangePriceToYuan(l):"--"},{label:"月租金（元）",form:void 0!==n?h.fbc.exchangePriceToYuan(n):"--"},{label:"中介费（元）",form:void 0!==a?h.fbc.exchangePriceToYuan(a):"--"}],f={labelCol:{span:8},wrapperCol:{span:16}},s=d.createElement("a",{key:"detail",target:"_blank",rel:"noopener noreferrer",href:"/#/Expense/Manage/House/Detail?id=".concat(r)},"更多详情");return d.createElement(v.IT,{title:"历史合同信息",titleExt:s},d.createElement(v.KP,{items:i,cols:2,layout:f}),d.createElement(v.KP,{items:u,cols:4,layout:f}))})),(0,f.Z)((0,c.Z)(e),"render",(function(){return e.renderHistoryContractInfo()})),e}return r}(d.Component);(0,f.Z)(D,"propTypes",{detail:m().object}),(0,f.Z)(D,"defaultProps",{detail:{}});var x=D,C=r(30381),E=r.n(C);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}var Y=function(e){(0,l.Z)(r,e);var t=R(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,f.Z)((0,c.Z)(e),"renderPaymentInfo",(function(){var t=e.props.detail,r=t.recentPayInfo,n=void 0===r?{}:r,o=t.migrateFlag,a=t.lastAllocationMoney,c=t.allocationStartDate,l=t.allocationEndDate,i=t.contractStartDate,u=n.rent_cycle_start_at,f=n.rent_cycle_end_at,s=n.rent_money,p=n.tax_money,m=n.payee_info,y=(m=void 0===m?{bankDetails:"",cardName:"",cardNum:""}:m).bank_details,Z=m.card_name,b=m.card_num,P=n.invoice_flag,g=[{label:"租金期间",form:u&&f?"".concat(E()("".concat(u)).format("YYYY.MM.DD"),"-").concat(E()("".concat(f)).format("YYYY.MM.DD")):"--"}],D=[{label:"租金期间",form:a>0?"".concat(E()("".concat(c)).format("YYYY.MM.DD"),"-").concat(E()("".concat(l)).format("YYYY.MM.DD")):"".concat(E()("".concat(i)).format("YYYY.MM.DD"),"-").concat(E()("".concat(l)).format("YYYY.MM.DD"))}],x=[{label:"房租租金",form:void 0!==s?h.fbc.exchangePriceToYuan(s):"--"},{label:"是否开票",form:P?"是":"否"},{label:"税金",form:void 0!==p?h.fbc.exchangePriceToYuan(p):"--"},{label:"房租收款人",form:Z||"--"},{label:"收款账号",form:b||"--"},{label:"开户支行",form:y||"--"}],C={labelCol:{span:8},wrapperCol:{span:16}};return d.createElement(v.IT,{title:"最近一次付款信息"},o?d.createElement(v.KP,{items:D,cols:3,layout:C}):d.createElement("div",null,d.createElement(v.KP,{items:g,cols:3,layout:C}),d.createElement(v.KP,{items:x,cols:3,layout:C})))})),(0,f.Z)((0,c.Z)(e),"render",(function(){return e.renderPaymentInfo()})),e}return r}(d.Component);(0,f.Z)(Y,"propTypes",{detail:m().object}),(0,f.Z)(Y,"defaultProps",{detail:{}});var M=Y,O=(r(54071),r(14072)),T=(r(36616),r(51368));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}var I=function(e){(0,l.Z)(r,e);var t=_(r);function r(){var e;return(0,o.Z)(this,r),e=t.call(this),(0,f.Z)((0,c.Z)(e),"onChangeReturnMoney",(function(t){var r=e.props.detail.unrefundedPledgeMoney,n=h.fbc.exchangePriceToYuan(r)-t,o=.045*n;e.setState({lostMoney:n,lostMoneyTax:o})})),(0,f.Z)((0,c.Z)(e),"disabledDate",(function(t){var r=e.props.detail.contractEndDate;return t>=E()(String(r))||t<E()(new Date)})),(0,f.Z)((0,c.Z)(e),"renderBrokRentInfo",(function(){var t=e.props,r=t.detail,n=t.form,o=e.state,a=o.lostMoney,c=o.lostMoneyTax,l=n.getFieldDecorator,i=r.unrefundedPledgeMoney,u=r.contractEndDate,f=[{label:"退回押金",form:l("returnPledgeMoney",{initialValue:h.fbc.exchangePriceToYuan(i),rules:[{required:!0,message:"请填写内容"}]})(d.createElement(T.Z,{min:0,max:h.fbc.exchangePriceToYuan(i),formatter:h.fbc.limitDecimals,parser:h.fbc.limitDecimals,onChange:e.onChangeReturnMoney}))}],s=[{label:"押金损失",form:a},{label:"押金损失税金",form:c}],p=[{label:"退回租金",form:l("returnRentMoney",{initialValue:0,rules:[{required:!0,message:"请填写内容"}]})(d.createElement(T.Z,{min:0,formatter:h.fbc.limitDecimals,parser:h.fbc.limitDecimals}))},{label:"断租时间",form:l("updateTime",{initialValue:E()(String(u)).subtract("days",1),rules:[{required:!0,message:"请选择"}]})(d.createElement(O.Z,{format:"YYYY-MM-DD",showToday:!1,disabledDate:e.disabledDate}))}],m={labelCol:{span:8},wrapperCol:{span:16}};return d.createElement(v.IT,{title:"断租信息"},d.createElement(v.KP,{items:f,cols:3,layout:m}),d.createElement(v.KP,{items:s,cols:3,layout:m}),d.createElement(v.KP,{items:p,cols:3,layout:m}))})),(0,f.Z)((0,c.Z)(e),"render",(function(){return e.renderBrokRentInfo()})),e.state={lostMoney:0,lostMoneyTax:0},e}return r}(d.Component);(0,f.Z)(I,"propTypes",{detail:m().object,form:m().object}),(0,f.Z)(I,"defaultProps",{detail:{},form:{}});var j=I,k=r(59104);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}var H=function(e){(0,l.Z)(r,e);var t=w(r);function r(){var e;return(0,o.Z)(this,r),e=t.call(this),(0,f.Z)((0,c.Z)(e),"onSubmit",(function(){var t=e.props,r=t.form,o=t.houseContractDetail,a=t.dispatch,c=o.id,l=void 0===c?"":c;r.validateFields((function(t,r){if(!t){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){(0,f.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:l,action:h.deO.break},r);e.private.isSubmit&&a({type:"expenseHouseContract/createExpenseHouseBrokRent",payload:{params:o,onSuccessCallback:function(t){e.private.isSubmit=!1,window.location.href="/#/Expense/Manage/ExamineOrder/Form?orderId=".concat(t.application_order_id)},onFailureCallback:function(t){if(t&&t.zh_message)return e.private.isSubmit=!0,n.ZP.error(t.zh_message)}}})}}))})),(0,f.Z)((0,c.Z)(e),"renderBasisInfo",(function(){var t=e.props.houseContractDetail;return d.createElement(P,{detail:t})})),(0,f.Z)((0,c.Z)(e),"renderHistoryContractInfo",(function(){var t=e.props.houseContractDetail;return d.createElement(x,{detail:t})})),(0,f.Z)((0,c.Z)(e),"renderPaymentInfo",(function(){var t=e.props,r=t.form,n=t.houseContractDetail;return d.createElement(M,{form:r,detail:n})})),(0,f.Z)((0,c.Z)(e),"renderBrokRentInfo",(function(){var t=e.props,r=t.form,n=t.houseContractDetail;return d.createElement(j,{form:r,detail:n})})),(0,f.Z)((0,c.Z)(e),"renderOpration",(function(){return d.createElement(k.Z,{onSubmit:e.onSubmit})})),(0,f.Z)((0,c.Z)(e),"render",(function(){var t=e.props.houseContractDetail;return 0===Object.keys(t).length?d.createElement("div",null):d.createElement("div",null,e.renderBasisInfo(),e.renderHistoryContractInfo(),e.renderPaymentInfo(),e.renderBrokRentInfo(),e.renderOpration())})),e.state={},e.private={isSubmit:!0},e}return(0,a.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.dispatch)({type:"expenseHouseContract/fetchHouseContractsDetail",payload:{id:e.location.query.id}})}}]),r}(d.Component);(0,f.Z)(H,"propsTypes",{houseContractDetail:m().object,form:m().object}),(0,f.Z)(H,"defaultProps",{houseContractDetail:{},form:{}});var S=(0,s.connect)((function(e){return{houseContractDetail:e.expenseHouseContract.houseContractDetail}}))(y.Z.create()(H))},59104:function(e,t,r){r(13062);var n=r(71230),o=(r(89032),r(15746)),a=(r(52560),r(71577)),c=r(15671),l=r(97326),i=r(60136),u=r(82963),f=r(61120),s=r(4942),p=r(45697),m=r.n(p),d=r(67294),y=r(22681);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,u.Z)(this,r)}}var v=function(e){(0,i.Z)(r,e);var t=h(r);function r(){var e;(0,c.Z)(this,r);for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];return e=t.call.apply(t,[this].concat(u)),(0,s.Z)((0,l.Z)(e),"renderContent",(function(){var t=e.props.onSubmit;return d.createElement(n.Z,{type:"flex",align:"middle",justify:"space-around",className:y.Z["app-comp-expense-house-contract-common-operation"]},d.createElement(o.Z,null,d.createElement(a.Z,{type:"primary",size:"large",onClick:t},"提交并生成费用单")))})),(0,s.Z)((0,l.Z)(e),"render",(function(){return e.renderContent()})),e}return r}(d.Component);(0,s.Z)(v,"propsTypes",{onSubmit:m().func}),(0,s.Z)(v,"defaultProps",{onSubmit:function(){}}),t.Z=v},22681:function(e,t){t.Z={"app-comp-expense-house-contract-common-districts":"QvQAs2_PFKvjEIDtRzPG","app-comp-expense-house-contract-common":"bxh94LL6yPUuG_DrQuQn","app-comp-expense-house-contract-common-expense-info":"NimUe4clvIZ3FH6RcHIA","app-comp-expense-house-contract-common-operation":"NdVksvUzaqUxf35zxgc1","app-comp-expense-house-contract-from-customize":"jajabo8Tih2o5sxay_Ai","app-comp-expense-house-contract-from-payment":"KuTKTKcJHrXehz80Iv9M",boss_expense_house_contract_from_pay:"dUoXtbveHJUedRHHY1Ho"}}}]);