"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[7547],{87547:function(e,t,n){n.r(t);n(13062);var r=n(71230),a=(n(20186),n(75385)),o=(n(52560),n(71577)),i=(n(36616),n(51368)),c=(n(55295),n(69713)),s=(n(52466),n(10642)),d=n(15671),l=n(43144),f=n(97326),p=n(60136),u=n(82963),m=n(61120),h=n(4942),y=n(67294),_=n(93517),Z=n.n(_),k=n(44654),w=n(55609),x=n(30381),I=n.n(x),g=n(66939),v=(n(98703),n(43894)),C=n(45430),b=n(80385),E=n(96036);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,m.Z)(e);if(t){var a=(0,m.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var M=C.ZP.canOperateTeamTeacherManageOperationsBatchEdit(),Y=function(e){(0,p.Z)(n,e);var t=O(n);function n(e){var l;return(0,d.Z)(this,n),l=t.call(this,e),(0,h.Z)((0,f.Z)(l),"onSubmit",(function(){l.props.form.validateFields((function(e,t){if(!e){var n=t.changeIncome,r=t.changeCost;if(!n&&0!==n&&!r&&0!==r)return!1;var a={ids:l.private.selectedArray,changeIncome:n,changeCost:r,onSuccessCallback:l.onSuccessCallback};l.props.dispatch({type:"modelCoachOperations/updateMoney",payload:a})}}))})),(0,h.Z)((0,f.Z)(l),"onSuccessCallback",(function(){s.Z.success({content:"批量操作成功"});var e=l.private,t={meta:e.meta,ids:e.selectedArray};l.props.dispatch({type:"modelCoachOperations/fetchCoachOperationsUpdateList",payload:t})})),(0,h.Z)((0,f.Z)(l),"showMoreStr",(function(e,t){return e.length<=t?e:y.createElement(c.Z,{placement:"right",title:e},"".concat(e.slice(0,t),"..."))})),(0,h.Z)((0,f.Z)(l),"renderChangeMoney",(function(){var e=l.props.form.getFieldDecorator,t=[{label:"预估当月单收入",form:e("changeIncome")(y.createElement(i.Z,{min:0,precision:2,placeholder:"请输入单收入",formatter:function(e){return"".concat(e,"元")},className:v.Z["app-comp-team-teacher-operations-w100"]}))},{label:"预估当月单成本",form:e("changeCost")(y.createElement(i.Z,{min:0,precision:2,placeholder:"请输入单成本",formatter:function(e){return"".concat(e,"元")},className:v.Z["app-comp-team-teacher-operations-w100"]}))}];M&&t.push({form:y.createElement(o.Z,{onClick:l.onSubmit,type:"primary"},"批量操作")});return y.createElement(E.IT,null,y.createElement(E.KP,{items:t,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}}))})),(0,h.Z)((0,f.Z)(l),"renderListInfo",(function(){var e=(0,f.Z)(l).showMoreStr,t=l.props.coachOperationsUpdateList,n=[{title:"私教部门",dataIndex:"department_info",key:"department_info.name",fixed:"left",width:100,render:function(e){return e&&e.name||"--"}},{title:"私教部门ID",dataIndex:"_id",key:"_id",fixed:"left",width:180,render:function(e){return e||"--"}},{title:"业主",dataIndex:"owner_info",key:"owner_info.staff_info.name",width:100,render:function(e){return e&&e.staff_info&&e.staff_info.name||"--"}},{title:"业主ID",dataIndex:"owner_info",key:"owner_info.staff_info._id",width:180,render:function(e){return e&&e.staff_info&&e.staff_info._id||"--"}},{title:"平台",dataIndex:"platform_name",key:"platform_name",render:function(t){return e(t||"--",10)}},{title:"供应商",dataIndex:"supplier_info",key:"supplier_info.name",render:function(t){return e(t&&t.name||"--",10)}},{title:"城市",dataIndex:"city_name",key:"city_name",render:function(t){return e(t||"--",10)}},{title:"商圈",dataIndex:"biz_district_info",key:"biz_district_info.name",render:function(t){return e(t&&t.name||"--",10)}},{title:"商圈状态",dataIndex:"biz_district_info",key:"biz_district_info.state",width:100,render:function(e){return e&&e.state?b.hQm.description(e.state):"--"}},{title:"操作日期",dataIndex:"updated_at",key:"updated_at",width:120,render:function(e){return e?I()(e).format("YYYY年MM月DD日"):"--"}},{title:"归属月份",dataIndex:"month",key:"month",width:120,render:function(e){return e?I()("".concat(e,"01")).format("YYYY年MM月"):"--"}},{title:"操作人",dataIndex:"operator_info",key:"operator_info.name",width:100,render:function(e){return e&&e.name||"--"}},{title:"预估当月单收入(元)",dataIndex:"forecast_order_income",key:"forecast_order_income",width:140,render:function(e){return e||0===e?b.fbc.exchangePriceToYuan(e):"--"}},{title:"预估当月单成本(元)",dataIndex:"forecast_order_cost",key:"forecast_order_cost",width:140,render:function(e){return e||0===e?b.fbc.exchangePriceToYuan(e):"--"}}];return y.createElement("div",null,y.createElement(E.IT,{title:"列表信息"},y.createElement(a.Z,{columns:n,dataSource:Z().get(t,"data",[]),bordered:!0,rowKey:function(e,t){return t},pagination:!1,scroll:{x:1600}})),y.createElement(r.Z,{justify:"center",type:"flex",className:"app-global-mgt16"},y.createElement(o.Z,null,y.createElement(k.Link,{to:"/Team/Teacher/Manage/Operations"},"返回"))))})),l.private={meta:{page:1,limit:30},selectedArray:JSON.parse(l.props.location.query.selectedRowKeys)},l}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){var e=this.private,t={meta:e.meta,ids:e.selectedArray};this.props.dispatch({type:"modelCoachOperations/fetchCoachOperationsUpdateList",payload:t})}},{key:"render",value:function(){var e=this.renderChangeMoney,t=this.renderListInfo;return y.createElement("div",null,e(),t())}}]),n}(y.Component);t.default=g.Z.create()((0,w.connect)((function(e){return{coachOperationsUpdateList:e.modelCoachOperations.coachOperationsUpdateList}}))(Y))},43894:function(e,t){t.Z={"app-comp-team-teacher-operations-w100":"lc4FhHY8j_1gQBwulfxx","app-comp-team-teacher-operations-title-btn":"nfMFkI1pn4in3FEOpaCt","app-comp-team-teacher-operations-icon":"IQVFuyBzQmz8Odgs7YEC","app-comp-team-teacher-operations-title-ext":"EiLsFxgAWwCe2gqhA9EW"}}}]);