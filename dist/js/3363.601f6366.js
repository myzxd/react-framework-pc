"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[3363],{50498:function(e,t,a){var r=a(15671),n=a(43144),o=a(97326),i=a(60136),l=a(82963),c=a(61120),s=a(4942),p=(a(29093),a(16317)),d=a(93517),u=a.n(d),m=a(55609),f=a(67294),y=a(45697),v=a.n(y);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.Z)(e);if(t){var n=(0,c.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,l.Z)(this,a)}}var h=p.Z.Option,b=function(e){(0,i.Z)(a,e);var t=g(a);function a(){var e;(0,r.Z)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,o.Z)(e),"onChange",(function(t,a){var r=e.props.onChange;r&&r(t,a)})),e}return(0,n.Z)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.type,r=e.namespace,n=void 0===r?"default":r,o=e.isAuthorized;t({type:"department/getExpenseDepartment",payload:{namespace:n,page:1,limit:9999,teamAttr:a,isAuthorized:void 0!==o&&o}})}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.dispatch,r=t.type,n=t.namespace,o=void 0===n?"default":n,i=t.isAuthorized;e.type!==r&&a({type:"department/getExpenseDepartment",payload:{namespace:o,page:1,limit:9999,teamAttr:r,isAuthorized:i}})}},{key:"componentWillUnmount",value:function(){var e=this.props.namespace,t=void 0===e?"default":e;this.props.dispatch({type:"department/resetExpenseDepartment",payload:{namespace:t}})}},{key:"render",value:function(){var e=this.props,t=e.expenseDepartment,a=void 0===t?{}:t,r=e.value,n=e.disabled,o=e.namespace,i=u().get(a,"".concat(o,".data"),[]);return f.createElement(p.Z,{style:{width:"100%"},placeholder:"请选择岗位名称",onChange:this.onChange,value:r,disabled:n,showSearch:!0,optionFilterProp:"children"},i.map((function(e){return f.createElement(h,{key:"".concat(e.code,"+").concat(e.name),name:e.name,code:e.code,value:e._id},e.name,"(",e.code,")")})))}}]),a}(f.Component);b.protoType={expenseDepartment:v().object,onChange:v().func,value:v().string,disabled:v().bool,namespace:v().string},b.defaultProps={expenseDepartment:{},onChange:function(){},value:void 0,disabled:!1,namespace:"default"},t.Z=(0,m.connect)((function(e){return{expenseDepartment:e.department.expenseDepartment}}))(b)},8359:function(e,t,a){var r=a(15671),n=a(43144),o=a(97326),i=a(60136),l=a(82963),c=a(61120),s=a(4942),p=a(55609),d=a(67294),u=a(58491),m=a(57254),f=a(45697),y=a.n(f),v=a(42911),g=a(80458);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.Z)(e);if(t){var n=(0,c.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,l.Z)(this,a)}}var b=function(e){(0,i.Z)(a,e);var t=h(a);function a(e){var n;return(0,r.Z)(this,a),n=t.call(this,e),(0,s.Z)((0,o.Z)(n),"checkShowInfo",(function(){n.setState({isShowInfo:!n.state.isShowInfo})})),(0,s.Z)((0,o.Z)(n),"renderHouseInfo",(function(){var e=n.props,t=e.isReset,a=e.contractId,r=e.isExternal;return d.createElement(v.default,{isReset:t,contractId:a,isExternal:r})})),n.state={isShowInfo:!1},n}return(0,n.Z)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.contractId,r=e.isExternal;""===a||void 0!==r&&r||(t({type:"expenseHouseContract/fetchHouseContractsDetail",payload:{id:a}}),t({type:"expenseCostOrder/fetchCostOrders",payload:{bizExtraHouseContractId:a,limit:9999}}))}},{key:"componentDidUpdate",value:function(e){""===this.props.contractId||this.props.contractId===e.contractId||e.isExternal||(this.props.dispatch({type:"expenseHouseContract/fetchHouseContractsDetail",payload:{id:this.props.contractId}}),this.props.dispatch({type:"expenseCostOrder/fetchCostOrders",payload:{bizExtraHouseContractId:this.props.contractId,limit:9999}}))}},{key:"render",value:function(){var e=this.state.isShowInfo;return d.createElement("div",null,d.createElement("div",{className:g.Z["app-comp-expense-manage-common-house-info"],onClick:this.checkShowInfo},"房屋信息",e?d.createElement(u.Z,{className:g.Z["app-comp-expense-manage-common-house-info-icon"]}):d.createElement(m.Z,{className:g.Z["app-comp-expense-manage-common-house-info-icon"]})),!e||this.renderHouseInfo())}}]),a}(d.Component);(0,s.Z)(b,"propTypes",{contractId:y().string.isRequired,isExternal:y().bool}),t.Z=(0,p.connect)((function(e){return{expenseHouseContract:e.expenseHouseContract}}))(b)},72531:function(e,t,a){a(438);var r=a(14277),n=a(15671),o=a(43144),i=a(97326),l=a(60136),c=a(82963),s=a(61120),p=a(4942),d=a(93517),u=a.n(d),m=a(67294),f=a(45697),y=a.n(f),v=a(44654),g=a(80385),h=a(96036),b=a(31101);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.Z)(e);if(t){var n=(0,s.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var Z=function(e){(0,l.Z)(a,e);var t=x(a);function a(){var e;return(0,n.Z)(this,a),e=t.call(this),(0,p.Z)((0,i.Z)(e),"onDownloadPayroll",(function(t){(0,e.props.dispatch)({type:"financeSummaryManage/downloadSalaryStatement",payload:{id:t}})})),(0,p.Z)((0,i.Z)(e),"renderPublic",(function(){var t=e.props.detail,a=u().get(t,"summary_data",{}),r=u().get(t,"start_date","--"),n=u().get(t,"end_date","--"),o=[{form:"项目：".concat(a["项目"]||"--")},{form:"主体：".concat(a["主体"]||"--")},{form:"城市：".concat(a["城市"]||"--")},{form:"个户类型：".concat(g.EbQ.description(t.work_type))},{form:"雇佣主体：".concat(a["雇佣主体"]||"--")},{form:"服务费归属日期：".concat(r,"~").concat(n)},{form:"成本中心：".concat(a["成本中心"]||"--")},{form:"人数：".concat(Number(a["人数"])||0)},{form:"招聘费用预测：".concat(g.fbc.exchangePriceToMathFormat(a["招聘费用预测"]||0),"元")},{form:"单量：".concat(a["完成单量"]||0,"单")},{form:"服务费调节类补款：".concat(g.fbc.exchangePriceToMathFormat(a["薪资调节类补款"]||0),"元")},{form:"内荐费：".concat(g.fbc.exchangePriceToMathFormat(a["内荐费"]||0),"元")},{form:"押金返还：".concat(g.fbc.exchangePriceToMathFormat(a["押金返还"]||0),"元")},{form:"平台奖励：".concat(g.fbc.exchangePriceToMathFormat(a["平台奖励"]||0),"元")},{form:"服务费调节类补款：".concat(g.fbc.exchangePriceToMathFormat(a["薪资调节类补款"]||0),"元")}];return m.createElement(h.KP,{items:o,cols:4,layout:{labelCol:{span:6},wrapperCol:{span:18}}})})),(0,p.Z)((0,i.Z)(e),"renderOther",(function(){var t=e.props.detail,a=u().get(t,"summary_data",{}),r=[{form:"临时性结算汇总：".concat(g.fbc.exchangePriceToMathFormat(a["临时性结算汇总"]||0),"元")},{form:"工伤保险扣款：".concat(g.fbc.exchangePriceToMathFormat(a["工伤险扣款"]||0),"元")},{form:"平台雇主险扣款：".concat(g.fbc.exchangePriceToMathFormat(a["平台雇主险扣款"]||0),"元")},{form:"电动车扣款：".concat(g.fbc.exchangePriceToMathFormat(a["电动车扣款"]||0),"元")},{form:"电动车租金扣款：".concat(g.fbc.exchangePriceToMathFormat(a["电动车租金扣款"]||0),"元")},{form:"电动车押金扣款：".concat(g.fbc.exchangePriceToMathFormat(a["电动车押金扣款"]||0),"元")},{form:"装备押金：".concat(g.fbc.exchangePriceToMathFormat(a["装备押金"]||0),"元")},{form:"装备扣款：".concat(g.fbc.exchangePriceToMathFormat(a["装备扣款"]||0),"元")},{form:"应发工资：".concat(g.fbc.exchangePriceToMathFormat(a["应发工资"]||0),"元")},{form:"社保扣款：".concat(g.fbc.exchangePriceToMathFormat(a["社保扣款"]||0),"元")},{form:"个人所得税：".concat(g.fbc.exchangePriceToMathFormat(a["个人所得税"]||0),"元")},{form:"实发工资：".concat(g.fbc.exchangePriceToMathFormat(a["实发工资"]||0),"元")},{form:"三方手续费汇总：".concat(g.fbc.exchangePriceToMathFormat(a["手续费"]||0),"元")},{form:"综合实发工资：".concat(g.fbc.exchangePriceToMathFormat(a["实发工资"]||0),"元")}];return m.createElement(h.KP,{items:r,cols:4,layout:{labelCol:{span:10},wrapperCol:{span:14}}})})),(0,p.Z)((0,i.Z)(e),"renderOperate",(function(){var t=e.props.detail,a=u().get(t,"payrollStatementInfo",{}),r=a._id,n=a.platform_code,o=a.state;return m.createElement("div",null,m.createElement(v.Link,{to:{pathname:"/Finance/Manage/Summary/Detail/City",query:{id:r,platformCode:n,canDelay:1,states:o}}},"查看详情"),m.createElement("a",{key:"onDownloadPayroll",onClick:function(){return e.onDownloadPayroll(t._id)},className:b.Z["app-comp-expense-elem-dowload-btn"]},"下载结算单附件"))})),e.state={isShowDetail:!0},e}return(0,o.Z)(a,[{key:"render",value:function(){var e=this,t=this.state.isShowDetail,a=this.props.detail;if(!a||0===Object.keys(a).length)return m.createElement(h.IT,{title:"结算汇总"},m.createElement(r.Z,null));var n=m.createElement("a",{key:"changeExpand",onClick:function(){return e.setState({isShowDetail:!t})}},t?"收起":"展开");return m.createElement(h.IT,{title:"结算汇总",titleExt:n},m.createElement("div",{className:t?"":b.Z["app-comp-expense-elem-hide"]},this.renderPublic(),this.renderOther(),this.renderOperate()))}}]),a}(m.Component);(0,p.Z)(Z,"propTypes",{detail:y().object,dispatch:y().func}),(0,p.Z)(Z,"defaultProps",{detail:{},dispatch:function(){}}),t.Z=Z},4681:function(e,t,a){a(438);var r=a(14277),n=a(15671),o=a(43144),i=a(97326),l=a(60136),c=a(82963),s=a(61120),p=a(4942),d=a(93517),u=a.n(d),m=a(67294),f=a(45697),y=a.n(f),v=a(44654),g=a(80385),h=a(96036),b=a(31101);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.Z)(e);if(t){var n=(0,s.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var Z=function(e){(0,l.Z)(a,e);var t=x(a);function a(){var e;return(0,n.Z)(this,a),e=t.call(this),(0,p.Z)((0,i.Z)(e),"onDownloadPayroll",(function(t){(0,e.props.dispatch)({type:"financeSummaryManage/downloadSalaryStatement",payload:{id:t}})})),(0,p.Z)((0,i.Z)(e),"renderPublic",(function(){var t=e.props.detail,a=u().get(t,"summary_data",{}),r=u().get(t,"start_date","--"),n=u().get(t,"end_date","--"),o=[{form:"项目：".concat(a["项目"]||"--")},{form:"主体：".concat(a["主体"]||"--")},{form:"城市：".concat(a["城市"]||"--")},{form:"个户类型：".concat(g.EbQ.description(t.work_type))},{form:"雇佣主体：".concat(a["雇佣主体"]||"--")},{form:"服务费归属日期：".concat(r,"~").concat(n)},{form:"成本中心：".concat(a["成本中心"]||"--")},{form:"人数：".concat(Number(a["人数"])||0)},{form:"招聘费用预测：".concat(g.fbc.exchangePriceToMathFormat(a["招聘费用预测"]||0),"元")},{form:"单量：".concat(a["单量"]||0,"单")},{form:"服务费调节类补款：".concat(g.fbc.exchangePriceToMathFormat(a["薪资调节类补款"]||0))},{form:"平台奖励：".concat(g.fbc.exchangePriceToMathFormat(a["平台奖励"]||0))},{form:"内荐费：".concat(g.fbc.exchangePriceToMathFormat(a["内荐费"]||0))},{form:"押金返还(6月前)：".concat(g.fbc.exchangePriceToMathFormat(a["押金返还(6月前)"]||0))},{form:"押金返还(6月后)：".concat(g.fbc.exchangePriceToMathFormat(a["押金返还(6月后)"]||0))},{form:"现金内荐费扣款：".concat(g.fbc.exchangePriceToMathFormat(a["现金内荐费扣款"]||0))},{form:"兼职工资扣款：".concat(g.fbc.exchangePriceToMathFormat(a["兼职工资扣款"]||0))}];return m.createElement(h.KP,{items:o,cols:4,layout:{labelCol:{span:12},wrapperCol:{span:12}}})})),(0,p.Z)((0,i.Z)(e),"renderOther",(function(){var t=e.props.detail,a=u().get(t,"summary_data",{}),r=[{form:"临时性结算扣回：".concat(g.fbc.exchangePriceToMathFormat(a["临时性结算扣回"]||0))},{form:"工伤保险扣款：".concat(g.fbc.exchangePriceToMathFormat(a["工伤保险扣款"]||0))},{form:"平台雇主险扣款：".concat(g.fbc.exchangePriceToMathFormat(a["平台雇主险扣款"]||0))},{form:"电动车扣款：".concat(g.fbc.exchangePriceToMathFormat(a["电动车扣款"]||0))},{form:"电动车租金扣款：".concat(g.fbc.exchangePriceToMathFormat(a["电动车租金扣款"]||0))},{form:"电动车押金扣款：".concat(g.fbc.exchangePriceToMathFormat(a["电动车押金扣款"]||0))},{form:"装备押金扣款：".concat(g.fbc.exchangePriceToMathFormat(a["装备押金扣款"]||0))},{form:"装备扣款：".concat(g.fbc.exchangePriceToMathFormat(a["装备扣款"]||0))},{form:"应发工资：".concat(g.fbc.exchangePriceToMathFormat(a["应发工资"]||0))},{form:"社保扣款：".concat(g.fbc.exchangePriceToMathFormat(a["社保扣款"]||0))},{form:"个人所得税：".concat(g.fbc.exchangePriceToMathFormat(a["个人所得税"]||0))},{form:"手续费：".concat(g.fbc.exchangePriceToMathFormat(a["手续费"]||0))},{form:"实发工资：".concat(g.fbc.exchangePriceToMathFormat(a["实发工资"]||0))}];return m.createElement(h.KP,{items:r,cols:4,layout:{labelCol:{span:6},wrapperCol:{span:18}}})})),(0,p.Z)((0,i.Z)(e),"renderOperate",(function(){var t=e.props.detail,a=t._id,r=t.platform_code,n=t.state;return m.createElement("div",null,m.createElement(v.Link,{to:{pathname:"/Finance/Manage/Summary/Detail/City",query:{id:a,canDelay:1,states:n,platformCode:r}}},"查看详情"),m.createElement("a",{key:"onDownloadPayroll",className:b.Z["app-comp-expense-mt-dowload-btn"],onClick:function(){return e.onDownloadPayroll(t.payrollStatementId)}},"下载结算单附件"))})),e.state={isShowDetail:!0},e}return(0,o.Z)(a,[{key:"render",value:function(){var e=this,t=this.state.isShowDetail,a=this.props.detail;if(!a||0===Object.keys(a).length)return m.createElement(h.IT,{title:"结算汇总"},m.createElement(r.Z,null));var n=m.createElement("a",{key:"changeExpand",onClick:function(){return e.setState({isShowDetail:!t})}},t?"收起":"展开");return m.createElement(h.IT,{title:"结算汇总",titleExt:n},m.createElement("div",{className:t?"":b.Z["app-comp-expense-mt-hide"]},this.renderPublic(),this.renderOther(),this.renderOperate()))}}]),a}(m.Component);(0,p.Z)(Z,"propTypes",{detail:y().object,dispatch:y().func}),(0,p.Z)(Z,"defaultProps",{detail:{},dispatch:function(){}}),t.Z=Z},43363:function(e,t,a){a.r(t),a.d(t,{default:function(){return Gt}});a(29093);var r=a(16317),n=(a(52560),a(71577)),o=(a(13062),a(71230)),i=(a(56022),a(60331)),l=(a(89032),a(15746)),c=a(93433),s=a(15671),p=a(43144),d=a(97326),u=a(60136),m=a(82963),f=a(61120),y=a(4942),v=(a(19597),a(27279)),g=a(96486),h=a.n(g),b=a(94315),x=a.n(b),Z=a(93517),C=a.n(Z),E=a(55609),_=a(45697),O=a.n(_),I=a(67294),D=a(66939),T=a(53292),P=a(81914),k=a(80089),w=a(18202),Y=a(2671),F=a(8359),S=a(80385),M=a(30381),R=a.n(M),A=a(96036);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var K=A.KT.CoreFinderList,B=function(e){(0,u.Z)(a,e);var t=L(a);function a(){var e;(0,s.Z)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),(0,y.Z)((0,d.Z)(e),"getCostTargetId",(function(e,t){return e===S.F$Y.project?t.platformCode:e===S.F$Y.headquarter?t.supplierId:e===S.F$Y.city?t.cityCode:e===S.F$Y.district||e===S.F$Y.knight?t.bizDistrictId:void 0})),(0,y.Z)((0,d.Z)(e),"renderCorePreview",(function(e,t){if(Array.isArray(e)&&C().get(e,"0")){var a=e.map((function(e,a){return{key:t[a],url:e}}));return I.createElement(K,{data:a})}return"--"})),(0,y.Z)((0,d.Z)(e),"renderCostShare",(function(t){var a=C().get(t,"cost_allocation_list",[])||[];return I.createElement("div",null,I.createElement(o.Z,null,I.createElement(l.Z,{span:24},S.eL2.description(C().get(t,"allocation_mode"))),I.createElement(l.Z,{span:24},a.map((function(t,a){return e.renderCostShareItems(t,a)})))))})),(0,y.Z)((0,d.Z)(e),"renderCostShareItems",(function(t,a){var r,n=e.props,i=n.examineOrderDetail,c=n.costOrderDetail,s=n.costOrderAmountSummary,p=n.costOrderSubmitSummary,d=C().get(c,"cost_accounting_id"),u=C().get(c,"cost_center_type"),m=e.getCostTargetId(u,t);x().existy(t.platform_name)&&x().not.empty(t.platform_name)&&(r="".concat(t.platform_name)),x().existy(t.supplier_name)&&x().not.empty(t.supplier_name)&&(r="".concat(t.platform_name," - ").concat(t.supplier_name)),x().existy(t.city_name)&&x().not.empty(t.city_name)&&(r="".concat(t.platform_name," - ").concat(t.supplier_name," - ").concat(t.city_name)),x().existy(t.biz_district_name)&&x().not.empty(t.biz_district_name)&&(r="".concat(t.platform_name," - ").concat(t.supplier_name," - ").concat(t.city_name," - ").concat(t.biz_district_name));var f=C().get(i,"submitAt",void 0),y="",v="";f?(y=R()(f).format("YYYYMM"),v=R()(f).format("YYYY-MM-DD")):(y=R()().format("YYYYMM"),v=R()().format("YYYY-MM"));var g="".concat(d,"-").concat(m,"-").concat(y),h="".concat(d,"-").concat(m,"-").concat(v),b=C().get(p,"".concat(h,".amountMoney"),0),Z=C().get(s,"".concat(g,".money"),0),E=[{label:"当月已提报费用合计",span:9,layout:{labelCol:{span:15},wrapperCol:{span:9}},form:"".concat(S.fbc.exchangePriceCentToMathFormat(b),"元")},{label:"当月已付款费用合计",span:9,layout:{labelCol:{span:15},wrapperCol:{span:9}},form:"".concat(S.fbc.exchangePriceCentToMathFormat(Z),"元")}];return t.money&&E.unshift({label:"分摊金额",span:6,layout:{labelCol:{span:13},wrapperCol:{span:11}},form:"".concat(S.fbc.exchangePriceToYuan(C().get(t,"money","--")),"元")}),I.createElement(o.Z,{key:a},I.createElement(l.Z,{span:10},r),I.createElement(l.Z,{span:14},I.createElement(A.KP,{items:E})))})),(0,y.Z)((0,d.Z)(e),"renderUpdateCostRecord",(function(e){var t=C().get(e,"total_money",void 0);return void 0!==t?"".concat(S.fbc.exchangePriceToYuan(t),"元"):"--"})),(0,y.Z)((0,d.Z)(e),"render",(function(){var t=e.props.costOrderDetail,a=[{label:"退款金额",layout:{labelCol:{span:9,pull:3},wrapperCol:{span:15,pull:3}},form:e.renderUpdateCostRecord(t)},{label:"费用分组",form:C().get(t,"cost_group_name")},{label:"科目",form:"".concat(C().get(t,"cost_accounting_info.name","--"),"(").concat(C().get(t,"cost_accounting_info.accounting_code","--"),"})")}],r=[{label:"成本分摊",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:e.renderCostShare(t)}],n=[{label:"发票抬头",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:C().get(t,"invoice_title","--")||"--"},{label:"退款说明",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:C().get(t,"note")},{label:"上传附件",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:e.renderCorePreview(C().get(t,"attachment_private_urls",[]),C().get(t,"attachments",[]))}],o=[{label:"费用单号",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:C().get(t,"_id","--")||"--"}];return I.createElement("div",{style:{marginTop:"10px",width:"100%",borderTop:"3px dashed #ccc",backgroundColor:"rgba(251,245,246)"}},I.createElement("h2",{style:{marginTop:"10px",width:"100%",textAlign:"center",height:"40px",lineHeight:"40px"}},"退款申请单"),I.createElement(A.KP,{items:o,cols:1}),I.createElement(A.KP,{items:a,cols:3,layout:{labelCol:{span:9},wrapperCol:{span:15}}}),I.createElement(A.KP,{items:r,cols:1}),I.createElement(A.KP,{items:n,cols:1}))})),e}return a}(I.Component),j=B;function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var N=A.KT.CoreFinderList,q=function(e){(0,u.Z)(a,e);var t=z(a);function a(){var e;(0,s.Z)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),(0,y.Z)((0,d.Z)(e),"getCostTargetId",(function(e,t){return e===S.F$Y.project?t.platformCode:e===S.F$Y.headquarter?t.supplierId:e===S.F$Y.city?t.cityCode:e===S.F$Y.district||e===S.F$Y.knight?t.bizDistrictId:void 0})),(0,y.Z)((0,d.Z)(e),"renderCorePreview",(function(e,t){if(Array.isArray(e)&&C().get(e,"0")){var a=e.map((function(e,a){return{key:t[a],url:e}}));return I.createElement(N,{data:a})}return"--"})),(0,y.Z)((0,d.Z)(e),"renderCostShare",(function(t){var a=C().get(t,"cost_allocation_list",[])||[];return I.createElement("div",null,I.createElement(o.Z,null,I.createElement(l.Z,{span:24},S.eL2.description(C().get(t,"allocation_mode"))),I.createElement(l.Z,{span:24},a.map((function(t,a){return e.renderCostShareItems(t,a)})))))})),(0,y.Z)((0,d.Z)(e),"renderCostShareItems",(function(t,a){var r,n=e.props,i=n.examineOrderDetail,c=n.costOrderDetail,s=n.costOrderAmountSummary,p=n.costOrderSubmitSummary,d=C().get(c,"cost_accounting_id"),u=C().get(c,"cost_center_type"),m=e.getCostTargetId(u,t);x().existy(t.platform_name)&&x().not.empty(t.platform_name)&&(r="".concat(t.platform_name)),x().existy(t.supplier_name)&&x().not.empty(t.supplier_name)&&(r="".concat(t.platform_name," - ").concat(t.supplier_name)),x().existy(t.city_name)&&x().not.empty(t.city_name)&&(r="".concat(t.platform_name," - ").concat(t.supplier_name," - ").concat(t.city_name)),x().existy(t.biz_district_name)&&x().not.empty(t.biz_district_name)&&(r="".concat(t.platform_name," - ").concat(t.supplier_name," - ").concat(t.city_name," - ").concat(t.biz_district_name));var f=C().get(i,"submitAt",void 0),y="",v="";f?(y=R()(f).format("YYYYMM"),v=R()(f).format("YYYY-MM-DD")):(y=R()().format("YYYYMM"),v=R()().format("YYYY-MM"));var g="".concat(d,"-").concat(m,"-").concat(y),h="".concat(d,"-").concat(m,"-").concat(v),b=C().get(p,"".concat(h,".amountMoney"),0),Z=C().get(s,"".concat(g,".money"),0),E=[{label:"当月已提报费用合计",span:9,layout:{labelCol:{span:15},wrapperCol:{span:9}},form:"".concat(S.fbc.exchangePriceCentToMathFormat(b),"元")},{label:"当月已付款费用合计",span:9,layout:{labelCol:{span:15},wrapperCol:{span:9}},form:"".concat(S.fbc.exchangePriceCentToMathFormat(Z),"元")}];return t.money&&E.unshift({label:"分摊金额",span:6,layout:{labelCol:{span:13},wrapperCol:{span:11}},form:"".concat(S.fbc.exchangePriceToYuan(C().get(t,"money","--")),"元")}),I.createElement(o.Z,{key:a},I.createElement(l.Z,{span:10},r),I.createElement(l.Z,{span:14},I.createElement(A.KP,{items:E})))})),(0,y.Z)((0,d.Z)(e),"renderUpdateCostRecord",(function(e){var t=C().get(e,"total_money",void 0);return void 0!==t?"".concat(S.fbc.exchangePriceToYuan(t),"元"):"--"})),(0,y.Z)((0,d.Z)(e),"render",(function(){var t=e.props.costOrderDetail,a=[{label:"科目",form:"".concat(C().get(t,"cost_accounting_info.name","--"),"(").concat(C().get(t,"cost_accounting_info.accounting_code","--"),")")},{label:"费用金额",form:e.renderUpdateCostRecord(t)},{label:"费用分组",form:C().get(t,"cost_group_name")},{label:"是否开票",form:C().get(t,"invoice_flag")?"是":"否"}],r=[{label:"成本分摊",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:e.renderCostShare(t)}],n=[{label:"发票抬头",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:C().get(t,"invoice_title","--")||"--"},{label:"备注",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:C().get(t,"note")},{label:"上传附件",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:e.renderCorePreview(C().get(t,"attachment_private_urls",[]),C().get(t,"attachments",[]))}],o=[{label:"费用单号",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:C().get(t,"_id","--")||"--"}],i=[{label:"收款人",layout:{labelCol:{span:9,pull:3},wrapperCol:{span:15,pull:3}},form:C().get(t,"payee_info.card_name","--")},{label:"收款账号",form:C().get(t,"payee_info.card_num","--")},{label:"开户支行",form:C().get(t,"payee_info.bank_details","--")}],l={labelCol:{span:9},wrapperCol:{span:15}};return I.createElement("div",{style:{marginTop:"10px",width:"100%",borderTop:"3px dashed #ccc",backgroundColor:"rgba(251,245,246)"}},I.createElement("h2",{style:{marginTop:"10px",width:"100%",textAlign:"center",height:"40px",lineHeight:"40px"}},"红冲申请单"),I.createElement(A.KP,{items:o,cols:1}),I.createElement(A.KP,{items:a,cols:4,layout:l}),I.createElement(A.KP,{items:r,cols:1}),I.createElement(A.KP,{items:n,cols:1}),I.createElement(A.KP,{items:i,cols:3,layout:l}))})),e}return a}(I.Component),U=q,V=a(97116),$=a(87462),H=(a(36616),a(51368)),W=(a(36037),a(47933)),G=(a(9070),a(20924)),J=(a(21316),a(75443)),Q=(a(51838),a(48086)),X=a(15861),ee=(a(35668),a(86585)),te=a(29439),ae=a(87757),re=a.n(ae),ne=a(73218),oe=a(73171),ie=a(15873),le=(a(52466),a(10642)),ce=(a(75310),a(76772)),se=a(18095),pe=a(18267),de=a(57119),ue=a(88144),me=a(8240),fe=a(50498),ye=r.Z.Option,ve=(0,E.connect)((function(e){return{staffMember:e.expenseExamineOrder.staffMember}}))((function(e){var t=e.value,a=e.dispatch,n=e.onChange,o=e.staffMember,i=e.teamId;(0,I.useEffect)((function(){i&&a({type:"expenseExamineOrder/getStaffMember",payload:{staffId:i,state:[1,100]}})}),[i,a]);var l=o.data,c=void 0===l?[]:l;return I.createElement(r.Z,{value:t,placeholder:"请选择",style:{width:"100%"},onChange:n,allowClear:!0,showSearch:!0,optionFilterProp:"children"},c.map((function(e){return I.createElement(ye,{key:e._id,profileid:e._id,value:e.identity_card_id},e.name,"(",e.identity_card_id,")")})))}));function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(a),!0).forEach((function(t){(0,y.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var be=r.Z.Option,xe="platform",Ze="supplier",Ce="city",Ee="district",_e=function(e){var t=e.form,a=e.field,n=e.config,o=void 0===n?{}:n,i=e.costCenterType,l=(0,I.useRef)((0,me.xv)(32)),c=a.key,s=void 0===c?0:c,p=(0,I.useState)(void 0),d=(0,te.Z)(p,2),u=d[0],m=d[1],f=(0,I.useState)(void 0),y=(0,te.Z)(f,2),v=y[0],g=y[1],h=(0,I.useState)(void 0),b=(0,te.Z)(h,2),x=b[0],Z=b[1],C=(0,I.useState)(void 0),E=(0,te.Z)(C,2),_=E[0],O=E[1],D=(0,I.useState)(void 0),T=(0,te.Z)(D,2),P=T[0],k=T[1],w={labelCol:{span:6},wrapperCol:{span:18}},Y=[];return void 0!==o.find((function(e){return e===xe}))&&(Y[Y.length]=I.createElement(ee.Z.Item,(0,$.Z)({},w,{style:{margin:"5px 0"},name:[a.name,"platform"],label:"平台",key:[a.fieldKey,"platform"],fieldKey:[a.fieldKey,"platform"],rules:[{required:!0,message:"请选择"}]}),I.createElement(ue.Yg,{onChange:function(e){var a=t.getFieldsValue().approt||[];a[s]={platform:e},t.setFieldsValue(a),m(e)},allowClear:!0,showSearch:!0,placeholder:"请选择平台",optionFilterProp:"children",namespace:l.current}))),void 0!==o.find((function(e){return e===Ze}))&&(Y[Y.length]=I.createElement(ee.Z.Item,(0,$.Z)({},w,{style:{margin:"5px 0"},name:[a.name,"supplier"],label:"供应商",key:[a.fieldKey,"supplier"],fieldKey:[a.fieldKey,"supplier"],rules:[{required:!0,message:"请选择"}]}),I.createElement(ue.o2,{allowClear:!0,showSearch:!0,platforms:u,placeholder:"请选择供应商",namespace:l.current,optionFilterProp:"children",onChange:function(e){var a=t.getFieldsValue().approt||[],r=a[s].platform,n=void 0===r?void 0:r;a[s]={platform:n,supplier:e},t.setFieldsValue(a),g(e)}}))),void 0!==o.find((function(e){return e===Ce}))&&(Y[Y.length]=I.createElement(ee.Z.Item,(0,$.Z)({},w,{style:{margin:"5px 0"},name:[a.name,"city"],label:"城市",key:[a.fieldKey,"city"],fieldKey:[a.fieldKey,"city"],rules:[{required:!0,message:"请选择"}]}),I.createElement(ue.Wn,{allowClear:!0,showSearch:!0,platforms:u,supplies:v,placeholder:"请选择城市",namespace:l.current,optionFilterProp:"children",onChange:function(e,a){var r=a.props,n=(void 0===r?{}:r).spell,o=void 0===n?void 0:n,i=t.getFieldsValue().approt||[],l=i[s],c=l.platform,p=l.supplier;i[s]={platform:c,supplier:p,city:e},t.setFieldsValue(i),Z(o)},isExpenseModel:!0}))),void 0!==o.find((function(e){return e===Ee}))&&(Y[Y.length]=I.createElement(ee.Z.Item,(0,$.Z)({},w,{style:{margin:"5px 0"},name:[a.name,"district"],label:"商圈",key:[a.fieldKey,"district"],fieldKey:[a.fieldKey,"district"],rules:[{required:!0,message:"请选择"}]}),I.createElement(ue.Wc,{allowClear:!0,showSearch:!0,platforms:u,supplies:v,cities:x,placeholder:"请选择商圈",optionFilterProp:"children",namespace:l.current,onChange:function(e){var a=t.getFieldsValue().approt||[],r=a[s],n=r.platform,o=void 0===n?void 0:n,i=r.supplier,l=r.city;a[s]={platform:o,supplier:i,city:l,district:e},t.setFieldsValue(a)}}))),i===S.F$Y.team&&(Y[Y.length]=I.createElement(ee.Z.Item,(0,$.Z)({},w,{style:{margin:"5px 0"},name:[a.name,"teamType"],label:"团队类型",key:[a.fieldKey,"teamType"],fieldKey:[a.fieldKey,"teamType"],rules:[{required:!0,message:"请选择"}]}),I.createElement(r.Z,{placeholder:"请选择团队类型",onChange:function(e){var a=t.getFieldsValue().approt||[];a[s]=he(he({},a[s]),{},{teamId:void 0,teamCode:void 0,teamName:void 0}),O(e)}},[10,20,30,40,50].map((function(e){return I.createElement(be,{key:"".concat(e),value:e},S.TDR.description(e))}))))),i===S.F$Y.team&&_===S.TDR.departmentOwner&&(Y[Y.length]=I.createElement(ee.Z.Item,(0,$.Z)({},w,{style:{margin:"5px 0"},name:[a.name,"teamId"],label:"团队",key:[a.fieldKey,"teamId"],fieldKey:[a.fieldKey,"teamId"],rules:[{required:!0,message:"请选择"}]}),I.createElement(ue.OK,{allowClear:!0,showSearch:!0,platforms:u,teamType:_,placeholder:"请选择团队",optionFilterProp:"children",namespace:l.current,onChange:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.props,n=void 0===r?{}:r,o=n.teamidcode,i=n.teamname,l=t.getFieldsValue().approt||[];l[s]=he(he({},l[s]),{},{staffId:void 0,teamCode:o,teamName:i}),k(e)}}))),i===S.F$Y.team&&_!==S.TDR.departmentOwner&&(Y[Y.length]=I.createElement(ee.Z.Item,(0,$.Z)({},w,{style:{margin:"5px 0"},name:[a.name,"teamId"],label:"团队信息",key:[a.fieldKey,"teamId"],fieldKey:[a.fieldKey,"teamId"],rules:[{required:!0,message:"请选择"}]}),I.createElement(fe.Z,{isAuthorized:!0,onChange:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.code,n=a.name,o=t.getFieldsValue().approt||[];o[s]=he(he({},o[s]),{},{staffId:void 0,teamCode:r,teamName:n}),k(e)},namespace:l.current,type:_}))),i===S.F$Y.person&&(Y[Y.length]=I.createElement(ee.Z.Item,(0,$.Z)({},w,{style:{margin:"5px 0"},name:[a.name,"teamId"],label:"团队信息",key:[a.fieldKey,"teamId"],fieldKey:[a.fieldKey,"teamId"],rules:[{required:!0,message:"请选择"}]}),I.createElement(fe.Z,{isAuthorized:!0,onChange:function(e){var a=t.getFieldsValue().approt||[];a[s]=he(he({},a[s]),{},{staffId:void 0,profileId:void 0}),k(e)},namespace:l.current,type:_})))&&(Y[Y.length]=I.createElement(ee.Z.Item,(0,$.Z)({},w,{style:{margin:"5px 0"},name:[a.name,"staffId"],label:"人员信息",key:[a.fieldKey,"staffId"],fieldKey:[a.fieldKey,"staffId"],rules:[{required:!0,message:"请选择"}]}),I.createElement(ve,{teamId:P,onChange:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.profileid,n=t.getFieldsValue().approt||[];n[s]=he(he({},n[s]),{},{profileId:r})}}))),I.createElement(I.Fragment,null,I.createElement(A.Fp,{items:Y,cols:2}))},Oe="platform",Ie="supplier",De="city",Te="district",Pe=(0,E.connect)()((function(e){var t,a,r,i=e.orderDetail,s=void 0===i?{}:i,p=e.dispatch,d=e.examineId,u=s.id,m=void 0===u?void 0:u,f=s.costCenterType,y=s.platformCodes,v=void 0===y?[]:y,g=s.costAccountingInfo,h=(g=void 0===g?{}:g).costCenterType,b=s.costAccountingId,x=s.costAllocationList,Z=void 0===x?[]:x,C=ee.Z.useForm(),E=(0,te.Z)(C,1)[0],_=(0,I.useState)(!1),O=(0,te.Z)(_,2),D=O[0],T=O[1],P=function(){var e=(0,X.Z)(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({type:"ticketTag/setBillRedPunch",payload:{id:m,examineId:d}});case 2:if(!(t=e.sent)||!t.ok){e.next=7;break}return e.abrupt("return",Q.ZP.success("红冲成功"));case 7:t&&t.zh_message&&(Q.ZP.error(t.zh_message),"红冲分摊的对象全部被停用/不存在，请重新选择！"!==t.zh_message&&"归属团队的分摊明细, 缺少团队数据"!==t.zh_message&&"归属业主团队的分摊明细，缺少业主数据"!==t.zh_message&&"归属业主团队的分摊明细，缺少业主档案"!==t.zh_message&&"归属组织架构的分摊明细，部门不存在"!==t.zh_message&&"归属人员的分摊明细, 缺少人员数据"!==t.zh_message&&"归属人员的分摊明细，部门不存在"!==t.zh_message&&"归属人员的分摊明细，档案不存在"!==t.zh_message&&"归属资产的分摊明细, 缺少资产数据"!==t.zh_message||T(!0));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,X.Z)(re().mark((function e(){var t,a,r,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.validateFields();case 2:return t=e.sent,a=t.approt,r=void 0===a?{}:a,e.next=6,p({type:"ticketTag/setBillRedPunch",payload:{id:m,records:(0,c.Z)(r),costAccountingId:b}});case 6:(n=e.sent)&&n.ok?T(!1):n&&n.zh_message&&Q.ZP.error(n.zh_message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=[];switch(Number(h)){case S.F$Y.project:e=[Oe];break;case S.F$Y.headquarter:e=[Oe,Ie];break;case S.F$Y.city:e=[Oe,Ie,De];break;case S.F$Y.district:case S.F$Y.knight:e=[Oe,Ie,De,Te];break;default:e=[Oe]}var t=["elem","meituan","relian","zongbu","chengtu","haluo","mobike","chengjing","lailai"].findIndex((function(e){return e===v[0]}))>-1;return f===S.F$Y.asset&&t&&(e=[Oe,Ie,De,Te]),f===S.F$Y.team&&t&&(e=[].concat((0,c.Z)(e),["teamType","teamId"])),f===S.F$Y.person&&t&&(e=[].concat((0,c.Z)(e),["teamId","staffId"])),e};return I.createElement("div",{style:{display:"inline-block"}},I.createElement(J.Z,{title:"红冲后该条费用单将计入成本，还要继续操作吗？",okText:"继续",icon:I.createElement(de.Z,null),onConfirm:function(){return P()}},I.createElement(n.Z,{type:"primary"},"红冲")),(t=m?"费用单".concat(m,"红冲分摊的对象全部被停用/不存在，请重新选择"):"",a=w(),r=150*a.length,I.createElement(le.Z,{title:"选择红冲分摊对象",visible:D,onCancel:function(){return T(!1)},onOk:function(){return k()}},I.createElement(ce.Z,{type:"error",closable:!0,message:t,showIcon:!0}),I.createElement(ee.Z,{initialValues:{approt:[{}]},layout:"inline",form:E},I.createElement(ee.Z.List,{name:"approt"},(function(e,t){var n=t.add,i=t.remove;return I.createElement("div",{style:{overflow:"scroll"}},e.map((function(t,c){return I.createElement(o.Z,{style:{margin:"8px 0",width:r}},I.createElement(l.Z,{span:20},I.createElement(_e,{form:E,field:t,config:a,costCenterType:f})),I.createElement(l.Z,{span:4,style:{display:"flex",alignItems:"center",justifyContent:"center"}},1===e.length?null:I.createElement(ee.Z.Item,{style:{display:"inline-block"}},I.createElement(se.Z,{style:{fontSize:"16px"},onClick:function(){return i()}})),c===e.length-1&&c<Z.length-1?I.createElement(ee.Z.Item,{style:{display:"inline-block"}},I.createElement(pe.Z,{style:{fontSize:"16px"},onClick:function(){return n()}})):null))})))}))))))}));function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(a),!0).forEach((function(t){(0,y.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ye=r.Z.Option,Fe=(0,E.connect)()((function(e){var t=e.dispatch,a=e.detail,i=void 0===a?{}:a,s=e.examineOrderDetail,p=void 0===s?{}:s,d=e.examineDetail,u=void 0===d?{}:d,m=i.id,f=i.totalCostBillAmount,y=void 0===f?0:f,v=i.totalTaxAmountAmount,g=void 0===v?0:v,h=i.totalTaxDeductionAmount,b=void 0===h?0:h,Z=i.costBillList,C=void 0===Z?[]:Z,E=i.billRedPushState,_=p.inspectBillState,O=p.id,D=p.pluginExtraMeta,T=void 0===D?{}:D,P=!1;x().existy(T)&&(P=T.is_plugin_order);var k,w=u.nodeList,Y=void 0===w?[]:w,F=ee.Z.useForm(),M=(0,te.Z)(F,1)[0],R=(0,I.useState)(!1),L=(0,te.Z)(R,2),K=L[0],B=L[1],j=(0,I.useState)(!1),z=(0,te.Z)(j,2),N=z[0],q=z[1],U=(0,I.useState)(!1),ae=(0,te.Z)(U,2),le=ae[0],ce=ae[1],se=(0,I.useState)(!0),pe=(0,te.Z)(se,2),de=pe[0],ue=pe[1],me=(0,I.useState)(0),fe=(0,te.Z)(me,2),ye=fe[0],ve=fe[1],ge={labelCol:{span:9},wrapperCol:{span:15}},he=Y.find((function(e){return e.isInspectBillNode}))||[],be=he.accountIds,xe=void 0===be?[]:be,Ze=he.postList,Ce=void 0===Ze?[]:Ze,Ee=Array.isArray(Ce)&&Ce.length>0?Ce.map((function(e){return(0,c.Z)(e.account_ids)})):[],_e=void 0!==[].concat((0,c.Z)(xe),(0,c.Z)(Ee.flat())).find((function(e){return e===V.Iq.account.id})),Oe=_e&&_!==S.xTp.already,Ie=function(){var e=(0,X.Z)(re().mark((function e(){var a,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.validateFields();case 2:return a=e.sent,e.next=5,t({type:"ticketTag/addOrderInvoice",payload:we(we({},a),{},{id:m,examineId:O})});case 5:(r=e.sent)&&r.ok?(!P&&t({type:"expenseCostOrder/fetchNamespaceCostOrderDetail",payload:{recordId:m,namespace:m}}),P&&t({type:"expenseExamineOrder/fetchExamineOrderDetail",payload:{id:O,flag:!0}}),B(!1),M.resetFields()):r&&r.zh_message&&Q.ZP.error(r.zh_message);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(e){var t=e.target.value,a=M.getFieldValue("taxRate"),r=M.getFieldValue("money");t===S.R4S.ordinary?(r&&M.setFieldsValue({tax:0,noTax:r}),!r&&M.setFieldsValue({tax:void 0,noTax:void 0}),M.setFieldsValue({taxRate:S.vU.zero}),q(!0),ce(!1),ue(!0)):(void 0!==r&&void 0!==a&&M.setFieldsValue({tax:(r/(1+a)*a).toFixed(2),noTax:(r-r/(1+a)*a).toFixed(2)}),(!r||!a)&&M.setFieldsValue({tax:void 0,noTax:void 0}),a===S.vU.zero&&M.setFieldsValue({taxRate:void 0}),q(!1),ce(!0),ue(!1))},Te=function(e){var t=M.getFieldValue("taxRate");if(void 0!==e&&void 0!==t){var a=e/(1+t)*t;M.setFieldsValue({tax:a.toFixed(2)})}if(void 0!==e&&void 0!==t){var r=e-e/(1+t)*t;M.setFieldsValue({noTax:r.toFixed(2)})}ve(e)},ke=function(e){var t=M.getFieldValue("money");if(void 0!==e&&void 0!==t){var a=t/(1+e)*e;M.setFieldsValue({tax:a.toFixed(2)})}if(void 0!==e&&void 0!==t){var r=t-t/(1+e)*e;M.setFieldsValue({noTax:r.toFixed(2)})}},Fe=function(e){var t,a=M.getFieldValue("money");void 0!==e&&void 0!==a&&(t=(1e3*a-1e3*e)/1e3),M.setFieldsValue({noTax:t})},Se=function(){var e=(0,X.Z)(re().mark((function e(a){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"ticketTag/deleteOrderInvoice",payload:{id:a,orderId:m,examineId:O}});case 2:(r=e.sent)&&r.ok?(!P&&t({type:"expenseCostOrder/fetchNamespaceCostOrderDetail",payload:{recordId:m,namespace:m}}),P&&t({type:"expenseExamineOrder/fetchExamineOrderDetail",payload:{id:O,flag:!0}})):r&&r.zh_message&&Q.ZP.error(r.zh_message);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=C.filter((function(e){return e.type===S.R4S.avt})).length>0,Re=_===S.xTp.already&&Me&&_e&&E!==S.LLt.done,Ae=I.createElement("div",null,Oe&&I.createElement(n.Z,{type:"primary",style:{marginRight:"5px"},disabled:K,onClick:function(){return B(!0)}},"添加发票信息"),Re?I.createElement(Pe,{orderDetail:i,examineId:O}):null);return I.createElement(A.IT,{title:"发票信息",titleExt:Ae},(k=[{label:"发票总金额",form:"".concat(S.fbc.exchangePriceToYuan(y),"元")},{label:"费用总金额",form:"".concat(S.fbc.exchangePriceToYuan(b),"元")},{label:"总税金",form:"".concat(S.fbc.exchangePriceToYuan(g),"元")}],I.createElement(A.KP,{items:k,cols:3,layout:ge})),I.createElement("div",null,C.map((function(e,t){var a=e.code,r=void 0===a?void 0:a,n=e.type,o=void 0===n?void 0:n,i=e.money,l=void 0===i?0:i,c=e.tax_rate,s=void 0===c?void 0:c,p=e.tax_amount,d=void 0===p?0:p,u=e.tax_deduction,m=void 0===u?0:u,f=e._id,y=void 0===f?void 0:f,v=[{label:"发票".concat(t+1,"编号"),form:r||"--"},{label:"发票类型",form:o?S.R4S.description(o):"--"},{label:"发票金额",form:"".concat(S.fbc.exchangePriceToYuan(l),"元")},{label:"税率",form:void 0!==s?S.vU.description(s):"--"},{label:"费用金额",form:"".concat(S.fbc.exchangePriceToYuan(m),"元")},{label:"税金",form:"".concat(S.fbc.exchangePriceToYuan(d),"元")}];return Oe&&(v[v.length]={label:"",layout:{labelCol:{span:0},wrapperCol:{span:24}},form:I.createElement(J.Z,{title:"你确定要删除这行内容吗？",icon:I.createElement(ne.Z,{style:{color:"red"}}),onConfirm:function(){return Se(y)}},I.createElement(oe.Z,{style:{color:"red",fontSize:"16px"}}))}),I.createElement(A.KP,{items:v,cols:4,layout:ge,key:t})}))),function(){var e=[{required:!0,message:"请输入"}],t=[{required:!0,message:"请选择"}];if(K){var a={margin:"10px 0"};return I.createElement(ee.Z,(0,$.Z)({layout:"inline",form:M},{labelCol:{span:6},wrapperCol:{span:18}}),I.createElement(o.Z,null,I.createElement(l.Z,{span:8,style:a},I.createElement(ee.Z.Item,{name:"code",label:"发票编号",rules:[{required:!1},{pattern:/^[A-Za-z0-9]+$/,message:"编号只可以为数字或字母"}]},I.createElement(G.Z,null))),I.createElement(l.Z,{span:8,style:a},I.createElement(ee.Z.Item,{name:"type",label:"发票类型",rules:t},I.createElement(W.ZP.Group,{onChange:De},I.createElement(W.ZP,{value:S.R4S.ordinary},S.R4S.description(S.R4S.ordinary)),I.createElement(W.ZP,{value:S.R4S.avt},S.R4S.description(S.R4S.avt))))),I.createElement(l.Z,{span:8,style:a},I.createElement(ee.Z.Item,{name:"money",label:"发票金额",rules:e},I.createElement(H.Z,{min:0,step:.01,formatter:S.fbc.limitDecimals,parser:S.fbc.limitDecimals,onChange:Te}))),I.createElement(l.Z,{span:6,style:a},I.createElement(ee.Z.Item,{name:"taxRate",label:"税率",rules:t},I.createElement(r.Z,{disabled:N,style:{width:"100px"},onChange:ke},I.createElement(Ye,{value:S.vU.zero,disabled:le},S.vU.description(S.vU.zero)),I.createElement(Ye,{value:S.vU.three},S.vU.description(S.vU.three)),I.createElement(Ye,{value:S.vU.five},S.vU.description(S.vU.five)),I.createElement(Ye,{value:S.vU.six},S.vU.description(S.vU.six)),I.createElement(Ye,{value:S.vU.nine},S.vU.description(S.vU.nine)),I.createElement(Ye,{value:S.vU.ten},S.vU.description(S.vU.ten)),I.createElement(Ye,{value:S.vU.thirteen},S.vU.description(S.vU.thirteen))))),I.createElement(l.Z,{span:6,style:a},I.createElement(ee.Z.Item,{name:"tax",label:"税额",rules:e},I.createElement(H.Z,{min:0,max:ye,step:.01,formatter:S.fbc.limitDecimals,parser:S.fbc.limitDecimals,disabled:de,onChange:Fe}))),I.createElement(l.Z,{span:6,style:a},I.createElement(ee.Z.Item,{name:"noTax",label:"去税额",rules:e},I.createElement(H.Z,{min:0,step:.01,formatter:S.fbc.limitDecimals,parser:S.fbc.limitDecimals,disabled:!0}))),I.createElement(l.Z,{span:6,style:we({display:"flex",alignItems:"center",justifyContent:"flex-start"},a)},I.createElement(ee.Z.Item,null,I.createElement(ne.Z,{style:{color:"red",fontSize:"16px"},onClick:function(){return M.resetFields(),void B(!1)}})),I.createElement(ee.Z.Item,null,I.createElement(ie.Z,{style:{color:"green",fontSize:"16px"},onClick:function(){return Ie()}})))))}}())})),Se=a(89690),Me=a(2612),Re=a(31101);function Ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(a),!0).forEach((function(t){(0,y.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var Be=A.KT.CoreFinderList,je=function(e){(0,u.Z)(a,e);var t=Ke(a);function a(){var e;(0,s.Z)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),(0,y.Z)((0,d.Z)(e),"getCostTargetId",(function(e,t){return e===S.F$Y.person?t.staffInfo.identity_card_id:e===S.F$Y.team?t.teamId:e===S.F$Y.asset?t.bizDistrictId:e===S.F$Y.project?t.platformCode:e===S.F$Y.headquarter?t.supplierId:e===S.F$Y.city?t.cityCode:e===S.F$Y.district||e===S.F$Y.knight?t.bizDistrictId:void 0})),(0,y.Z)((0,d.Z)(e),"renderCorePreview",(function(e,t){if(Array.isArray(e)&&C().get(e,"0")){var a=e.map((function(e,a){return{key:t[a],url:e}}));return I.createElement(Be,{data:a})}return"--"})),(0,y.Z)((0,d.Z)(e),"renderCostShare",(function(t){var a=C().get(t,"costAllocationList",[])||[];return I.createElement("div",null,I.createElement(o.Z,null,I.createElement(l.Z,{span:24},S.eL2.description(C().get(t,"allocationMode"))),I.createElement(l.Z,{span:24},a.map((function(t,a){return e.renderCostShareItems(t,a)})))))})),(0,y.Z)((0,d.Z)(e),"renderCostShareItems",(function(t,a){var r,n=e.props,i=n.examineOrderDetail,c=n.historyApproval,s=n.costOrderAmountSummary,p=n.costOrderSubmitSummary,d=n.isExternal,u=void 0!==d&&d,m=c,f=t.platformName,y=t.supplierName,v=t.cityName,g=t.bizDistrictName,h=t.teamId,b=t.teamType,Z=t.teamName,E=t.staffInfo,_=void 0===E?{}:E,O=t.bizDistrictId,D=t.cityCode,T=t.supplierId,P=m.costAccountingId,k=m.costCenterType,w=m.costAccountingInfo,Y=void 0===w?{}:w,F=Y&&Object.keys(Y).length>0?Y.costCenterType:void 0,M=e.getCostTargetId(k,t);if(x().existy(f)&&x().not.empty(f)&&(r="".concat(f)),x().existy(y)&&x().not.empty(y)&&(r="".concat(f," - ").concat(y)),x().existy(v)&&x().not.empty(v)&&(r="".concat(f," - ").concat(y," - ").concat(v)),x().existy(g)&&x().not.empty(g)&&(r="".concat(f," - ").concat(y," - ").concat(v," - ").concat(g)),k===S.F$Y.person&&x().existy(_)&&x().not.empty(_)){var L=_.identity_card_id,K=_.name;r=Z?r?"".concat(r," - ").concat(Z," - ").concat(K,"(").concat(L,")"):"".concat(Z," - ").concat(K,"(").concat(L,")"):r?"".concat(r," - ").concat(K,"(").concat(L,")"):"".concat(K,"(").concat(L,")")}k===S.F$Y.team&&x().existy(h)&&x().not.empty(h)&&x().existy(b)&&x().not.empty(b)&&(r="".concat(r," - ").concat(S.TDR.description(Number(b))," - ").concat(Z," - ").concat(h)),F===S.F$Y.headquarters&&k===S.F$Y.team&&(r="".concat(Z," - ").concat(h));var B=C().get(i,"submitAt",void 0),j="",z="";B?(j=R()(B).format("YYYYMM"),z=R()(B).format("YYYY-MM-DD")):(j=R()().format("YYYYMM"),z=R()().format("YYYY-MM-DD"));var N="".concat(P,"-").concat(M,"-").concat(j),q="".concat(P,"-").concat(M,"-").concat(z,"-").concat(O,"-").concat(D,"-").concat(T),U=C().get(p,"".concat(q,".amountMoney"),0),V=C().get(s,"".concat(N,".money"),0),$=F===S.F$Y.headquarters?[]:[{label:"当月已提报费用合计",span:9,layout:{labelCol:{span:15},wrapperCol:{span:9}},form:"".concat(S.fbc.exchangePriceCentToMathFormat(U),"元")},{label:"当月已付款费用合计",span:9,layout:{labelCol:{span:15},wrapperCol:{span:9}},form:"".concat(S.fbc.exchangePriceCentToMathFormat(V),"元")}];return t.money&&$.unshift({label:"分摊金额",span:6,layout:{labelCol:{span:13},wrapperCol:{span:11}},form:"".concat(S.fbc.exchangePriceToYuan(C().get(t,"money","--")),"元")}),I.createElement(o.Z,{key:a},I.createElement(l.Z,{span:10},r),u?"":I.createElement(l.Z,{span:14},I.createElement(A.KP,{items:$})))})),(0,y.Z)((0,d.Z)(e),"renderUpdateCostRecord",(function(){var t=e.props,a=t.examineOrderDetail,r=t.examineDetail,n=t.historyApproval,o=t.approvalKey,i=t.originalCostOrder,l=n,c=l.type===S.l4R.redPunch?{color:"red"}:{},s=C().get(n,"refCostOrderInfoList",[]).filter((function(e){return e.total_money<0})),p=r.nodeList,d=void 0===p?[]:p,u=r.extraUiOptions.form_template,m=a.currentFlowNode,f=void 0===m?void 0:m,y=a.currentOperateAccounts,v=void 0===y?[]:y,g=a.state,h=a.applicationOrderType,b=a.platformCodes,Z=a.pluginExtraMeta,E=void 0===Z?{}:Z,_=!1;x().existy(E)&&x().not.empty(E)&&E.is_plugin_order&&(_=E.is_plugin_order);var O,D=d.filter((function(e){return e.id===f}))[0]||{},T=D.canUpdateCostRecord,P=void 0===T?void 0:T,k=D.costUpdateRule;x().not.empty(s)&&x().existy(s)?s.map((function(e){O=e.type===S.rkq.invoiceAdjust?C().get(e,"total_money",void 0):C().get(l,"totalMoney",void 0)})):O=C().get(l,"totalMoney",void 0);var w=e.props.orderId;return!0!==P||-1===v.indexOf(V.Iq.account.id)||g!==S.DU5.processing||x().existy(i)||h===S.ZBL.housing?x().not.empty(s)&&x().existy(s)&&void 0!==O?I.createElement("span",{style:{color:"red"}},"".concat(S.fbc.exchangePriceToYuan(O),"元")):I.createElement("span",null,I.createElement("span",{style:Le({},c)},"".concat(S.fbc.exchangePriceToYuan(O))),"元"):I.createElement("div",null,I.createElement("a",{className:Re.Z["app-comp-expense-cost-order-item-update-cost-money"],key:"update",href:"/#/Expense/Manage/Template/Update?orderId=".concat(w,"&recordId=").concat(l.id,"&template=").concat(u,"&isUpdateRule=true&costUpdateRule=").concat(k,"&approvalKey=").concat(o,"&applicationOrderType=").concat(h,"&platform=").concat(b[0],"&isPluginOrder=").concat(_)},void 0!==O?S.fbc.exchangePriceToYuan(O):"--"),I.createElement("span",null,"元"))})),(0,y.Z)((0,d.Z)(e),"renderInvoice",(function(){var t=e.props,a=t.historyApproval,r=void 0===a?{}:a,n=t.examineOrderDetail,o=void 0===n?{}:n,i=t.examineDetail,l=void 0===i?{}:i;if(!(Object.keys(r).length<=0)){var c=o.applicationOrderType,s=r.type;return c!==S.ZBL.cost&&c!==S.ZBL.travel||s!==S.l4R.normal?null:I.createElement(Fe,{detail:r,examineOrderDetail:o,examineDetail:l})}})),(0,y.Z)((0,d.Z)(e),"render",(function(){var t=e.props,a=t.historyApproval,r=t.examineOrderDetail,n=t.isExternal,o=a.costCenterType,i=void 0===o?void 0:o,l=a.bizExtraHouseContractInfo,s=void 0===l?{}:l,p=a.costAccountingId,d=void 0===p?void 0:p,u=a.pledgeMoneyToRentMoney,m=void 0===u?void 0:u,f=a.type,y=a.isBook,v=a.costAccountingInfo,g=void 0===v?{}:v,h=a.totalMoney,b=void 0===h?0:h,x=a.totalTaxAmountAmount,Z=void 0===x?0:x,E=a.platformCodes,_=void 0===E?[]:E,O=g&&Object.keys(g).length>0?g.costCenterType:void 0,D=r.applicationOrderType,T=void 0===D?void 0:D,P=r.rentCycleEndAt,k=r.rentCycleStartAt,w=r.pluginExtraMeta,Y=void 0===w?{}:w,F=s.rentAccountingId,M=void 0===F?void 0:F,L="";m>0&&(L={label:"押金转租金",form:m?"".concat(S.fbc.exchangePriceToYuan(m)):"--"});var K="";T===S.ZBL.housing&&M&&M===d&&(!n&&(K={label:"租金期间",form:k&&P?"".concat(R()(String(k)).format("YYYY.MM.DD"),"-").concat(R()(String(P)).format("YYYY.MM.DD")):"--"}),n&&Y&&Object.keys(Y).length>0&&(K={label:"租金期间",form:Y.rent_cycle_start_at&&Y.rent_cycle_end_at?"".concat(R()(String(Y.rent_cycle_start_at)).format("YYYY.MM.DD"),"-").concat(R()(String(Y.rent_cycle_end_at)).format("YYYY.MM.DD")):"--"}));var B=e.renderUpdateCostRecord(a),j=[{label:"费用金额",form:B}];T!==S.ZBL.cost&&T!==S.ZBL.travel||(j=[{label:"付款金额",form:B},{label:"费用金额",form:"".concat(S.fbc.exchangePriceToYuan(b-Z),"元")}]);var z=[].concat((0,c.Z)(j),[{label:"科目",form:"".concat(C().get(a,"costAccountingInfo.name","--"),"(").concat(C().get(a,"costAccountingCode","--"),")")},{label:"成本归属",form:i?S.F$Y.description(Number(i)):"--"},K,L]);T!==S.ZBL.cost&&T!==S.ZBL.travel||(T===S.ZBL.cost||T===S.ZBL.travel?z.splice(2,0,{label:"是否红冲",form:f===S.l4R.redPunch?"是":"否"}):z.splice(1,0,{label:"是否红冲",form:f===S.l4R.redPunch?"是":"否"}),z.splice(5,0,{label:"是否可记账",form:y?"是":"否"}));var N=[{label:"成本分摊",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:e.renderCostShare(a)}],q=[{label:"发票抬头",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:O===S.F$Y.headquarters?I.createElement(Se.Z,{invoiceVal:C().get(a,"invoiceTitle","--"),platform:_[0],isDetail:!0}):C().get(a,"invoiceTitle","--")},{label:"备注",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:C().get(a,"note")},{label:"上传附件",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:e.renderCorePreview(C().get(a,"attachmentPrivateUrls",[]),C().get(a,"attachments",[]))}];return I.createElement("div",null,I.createElement(A.KP,{items:z,cols:4,layout:{labelCol:{span:9},wrapperCol:{span:15}}}),I.createElement(A.KP,{items:N,cols:1}),I.createElement(A.KP,{items:q,cols:1}),I.createElement(Me.Z,{dataSource:C().get(a,"payeeList",[]),money:C().get(a,"totalMoney",void 0)}),e.renderInvoice())})),e}return a}(I.Component),ze=je;function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var qe=function(e){(0,u.Z)(a,e);var t=Ne(a);function a(e){var r;return(0,s.Z)(this,a),r=t.call(this,e),(0,y.Z)((0,d.Z)(r),"getCostTargetId",(function(e,t){return e===S.F$Y.person?t.staffInfo.identity_card_id:e===S.F$Y.team?t.teamId:e===S.F$Y.asset?t.bizDistrictId:e===S.F$Y.project?t.platformCode:e===S.F$Y.headquarter?t.supplierId:e===S.F$Y.city?t.cityCode:e===S.F$Y.district||e===S.F$Y.knight?t.bizDistrictId:void 0})),(0,y.Z)((0,d.Z)(r),"fetchCostOrderAmountSummay",(function(e){var t=r.props.isExternal;if(!(void 0!==t&&t)){var a=e.costAllocationList,n=e.costCenterType,o=e.costAccountingId,i=e.applicationOrderId,l=r.props.examineOrderDetail.submitAt;a.forEach((function(e){var t=e.staffInfo.identity_card_id,a={costCenter:n,costTargetId:r.getCostTargetId(n,e),subjectId:o,applicationOrderId:i,submitAt:l},c={costCenter:n,applicationOrderId:i,accountingId:o,costTargetId:r.getCostTargetId(n,e),platformCode:e.platformCode,supplierId:e.supplierId,cityCode:e.cityCode,bizDistrictId:e.bizDistrictId,submitAt:l,teamId:e.teamId,staffId:t,assetsId:e.assetsId};r.props.dispatch({type:"expenseCostOrder/fetchAmountSummary",payload:a}),r.props.dispatch({type:"expenseCostOrder/fetchSubmitSummary",payload:c})}))}})),(0,y.Z)((0,d.Z)(r),"renderRefundInfo",(function(){var e=r.props,t=e.examineOrderDetail,a=e.examineDetail,n=e.originalCostOrder,o=r.props.location.query.approvalKey,i=C().get(n,"refCostOrderInfoList"),l=C().get(n,"costOrderExistsRefoundRedRush",void 0);return I.createElement("div",null,i.map((function(e,r){return e.type===S.rkq.refund&&e.state!==S.Vm3.close&&e.state!==S.Vm3.delete&&l===S.rkq.refund?I.createElement(j,{costOrderDetail:e,examineOrderDetail:t,examineDetail:a,approvalKey:o,key:r}):null})))})),(0,y.Z)((0,d.Z)(r),"renderRedBluntInfo",(function(){var e=r.props,t=e.examineOrderDetail,a=e.examineDetail,n=e.costOrderAmountSummary,o=e.costOrderSubmitSummary,i=e.originalCostOrder,l=r.props.location.query.approvalKey,c=C().get(i,"refCostOrderInfoList",[]),s=C().get(i,"costOrderExistsRefoundRedRush",void 0),p=c.filter((function(e){return e.total_money>0}));return I.createElement("div",null,p.map((function(e,r){return e.type===S.rkq.invoiceAdjust&&e.state!==S.Vm3.close&&e.state!==S.Vm3.delete&&s===S.rkq.invoiceAdjust?I.createElement(U,{costOrderDetail:e,examineOrderDetail:t,examineDetail:a,approvalKey:l,costOrderAmountSummary:n,costOrderSubmitSummary:o,key:r}):null})))})),(0,y.Z)((0,d.Z)(r),"renderHistoryApprove",(function(e){var t=r.props,a=t.examineOrderDetail,n=t.examineDetail,o=t.costOrderAmountSummary,i=t.costOrderSubmitSummary,l=t.originalCostOrder,c=t.isExternal,s=r.props.location.query,p=s.approvalKey,d=s.orderId;return I.createElement(ze,{historyApproval:e,examineOrderDetail:a,examineDetail:n,approvalKey:p,orderId:d,originalCostOrder:l,costOrderAmountSummary:o,costOrderSubmitSummary:i,isExternal:c})})),(0,y.Z)((0,d.Z)(r),"render",(function(){var e,t=r.props,a=t.examineOrderDetail,n=t.recordId,o=t.namespaceCostOrderDetail,i=t.originalCostOrder;return 0===o.length?I.createElement("div",null):(e=S.rkq.normal===C().get(a,"applicationSubType")?o[n]:i)&&0!==Object.keys(e).length?C().get(a,"applicationSubType")===S.rkq.refund?I.createElement("div",{key:n},r.renderHistoryApprove(e),r.renderRefundInfo()):C().get(a,"applicationSubType")===S.rkq.invoiceAdjust?I.createElement("div",{key:n},r.renderHistoryApprove(e),r.renderRedBluntInfo()):I.createElement("div",{key:n},r.renderHistoryApprove(e)):I.createElement("div",null)})),r.state={},r}return(0,p.Z)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.recordId;t.isExternal||this.props.dispatch({type:"expenseCostOrder/fetchNamespaceCostOrderDetail",payload:{recordId:a,namespace:a,onSuccessCallback:function(t){return e.fetchCostOrderAmountSummay(t)}}})}}]),a}(I.Component);(0,y.Z)(qe,"propTypes",{recordId:O().string,examineDetail:O().object,examineOrderDetail:O().object,namespaceCostOrderDetail:O().object,isExternal:O().bool}),(0,y.Z)(qe,"defaultProps",{recordId:"",examineDetail:{},examineOrderDetail:{},namespaceCostOrderDetail:{},isExternal:!1});var Ue=(0,E.connect)((function(e){var t=e.expenseCostOrder;return{costOrderAmountSummary:t.costOrderAmountSummary,costOrderSubmitSummary:t.costOrderSubmitSummary,namespaceCostOrderDetail:t.namespaceCostOrderDetail}}))(qe);function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var $e=A.KT.CoreFinderList,He=v.Z.Panel,We=function(e){(0,u.Z)(a,e);var t=Ve(a);function a(e){var r;return(0,s.Z)(this,a),r=t.call(this,e),(0,y.Z)((0,d.Z)(r),"onRequestOrderDetail",(function(e){if(!r.props.pluginExtraMeta.is_plugin_order&&!x().not.existy(e)&&!x().empty(e)){var t=r.state.orderDetails,a=void 0===t?{}:t;Object.keys(a).includes(e)||r.props.dispatch({type:"expenseExamineOrder/fetchBorrowingOrderDetail",payload:{id:e,onSuccessCallback:r.onSuccessCallback,onFailureCallback:r.onFailureCallback}})}})),(0,y.Z)((0,d.Z)(r),"onSuccessCallback",(function(e){var t=C().get(e,"_id","");if(x().empty(t)||x().not.existy(t))Q.ZP.error("获取借款单详情失败");else{var a=r.state.orderDetails,n=void 0===a?{}:a;C().set(n,t,e),r.setState({orderDetail:n})}})),(0,y.Z)((0,d.Z)(r),"onFailureCallback",(function(e){"您没有查看这条借款单的权限"===e.zh_message&&(window.location.href="/#/404"),r.private.isRequest=!1})),(0,y.Z)((0,d.Z)(r),"renderBorrowingPeopleInfo",(function(e){var t=r.props.examineDetail,a=(void 0===t?{}:t).platformCodes,n=void 0===a?[]:a,o=n&&Array.isArray(n)?n[0]:void 0,i=[{label:"平台",span:7,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"platform_name",void 0)||"--"},{label:"供应商",span:7,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"supplier_name",void 0)||"--"},{label:"城市",span:7,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"city_name",void 0)||"--"},{label:"商圈",span:7,layout:{labelCol:{span:8},wrapperCol:{span:15}},form:C().get(e,"biz_district_name",void 0)||"--"},{label:"实际借款人",span:7,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"actual_loan_info.name","--")}],l=[{label:"实际借款人",span:7,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"actual_loan_info.name","--")},{label:"团队信息",span:7,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"actual_loan_info.department_name","--")}],s="zongbu"===o?l:i,p=[].concat((0,c.Z)(s),[{label:"身份证号码",span:7,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"actual_loan_info.identity","--")},{label:"借款联系人方式",span:7,layout:{labelCol:{span:9},wrapperCol:{span:14}},form:C().get(e,"actual_loan_info.phone","--")},{label:"收款账户",span:7,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"payee_account_info.card_num","--")},{label:"开户支行",span:7,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"payee_account_info.bank_details","--")}]);return I.createElement(A.IT,{title:"借款人信息"},I.createElement(A.KP,{items:p}))})),(0,y.Z)((0,d.Z)(r),"renderCorePreview",(function(e){if(Array.isArray(e)&&C().get(e,"0.file_url")){var t=e.map((function(e){return{key:e.file_name,url:e.file_url}}));return I.createElement($e,{data:t})}return"--"})),(0,y.Z)((0,d.Z)(r),"renderBorrowingInfo",(function(e){var t=[{label:"借款金额(元)",form:C().get(e,"loan_money",0)?S.fbc.exchangePriceCentToMathFormat(C().get(e,"loan_money",0)):"--"},{label:"借款类型",form:C().get(e,"loan_type",0)?S.eLy.description(C().get(e,"loan_type",0)):"--"},{label:"借款事由",form:I.createElement("span",{className:"noteWrap"},C().get(e,"loan_note","--"))},{label:"上传附件",form:r.renderCorePreview(C().get(e,"assert_file_list",[]))}];return I.createElement(A.IT,{title:"借款信息"},I.createElement(A.KP,{items:t,cols:1,layout:{labelCol:{span:2},wrapperCol:{span:22}}}))})),(0,y.Z)((0,d.Z)(r),"renderRepaymentsInfo",(function(e){var t=[{label:"还款方式",form:C().get(e,"repayment_method",0)?S.d5u.description(C().get(e,"repayment_method",0)):"--"},{label:"还款周期",form:C().get(e,"repayment_cycle",0)?S.kHJ.description(C().get(e,"repayment_cycle",0)):"--"},{label:"预计还款时间",form:C().get(e,"expected_repayment_time",void 0)||"--"}];return I.createElement(A.IT,{title:"还款信息"},I.createElement(A.KP,{items:t,cols:3,layout:{labelCol:{span:7},wrapperCol:{span:15}}}))})),(0,y.Z)((0,d.Z)(r),"renderOrderDetail",(function(e,t){var a=r.props.pluginExtraMeta,n=r.state.orderDetails,o=void 0===n?{}:n,i=a.is_plugin_order?t:C().get(o,e);return x().empty(i)||x().not.existy(i)?"详情数据为空":I.createElement("div",null,r.renderBorrowingPeopleInfo(i),r.renderBorrowingInfo(i),r.renderRepaymentsInfo(i))})),(0,y.Z)((0,d.Z)(r),"render",(function(){var e=r.props,t=e.orderIds,a=e.pluginExtraMeta,n=e.loanOrderList;return I.createElement(A.IT,{title:"借款单"},I.createElement(v.Z,{bordered:!1,onChange:r.onRequestOrderDetail,accordion:!0},a.is_plugin_order?n.map((function(e){var t="借款单号:".concat(" ",e._id);return I.createElement(He,{header:t,key:e._id},r.renderOrderDetail(e._id,e))})):t&&t.map((function(e){var t="借款单号:".concat(" ",e);return I.createElement(He,{header:t,key:e},r.renderOrderDetail(e))}))))})),r.state={orderDetails:{}},r}return a}(I.Component);(0,y.Z)(We,"propTypes",{orderIds:O().array,pluginExtraMeta:O().object,loanOrderList:O().array,examineDetail:O().object}),(0,y.Z)(We,"defaultProps",{orderIds:[],pluginExtraMeta:{},loanOrderList:[],examineDetail:{}});var Ge=We;function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var Qe=A.KT.CoreFinderList,Xe=v.Z.Panel,et=function(e){(0,u.Z)(a,e);var t=Je(a);function a(e){var r;return(0,s.Z)(this,a),r=t.call(this,e),(0,y.Z)((0,d.Z)(r),"onRequestOrderDetail",(function(e){var t=r.props.isExternal;if(!(void 0!==t&&t||x().not.existy(e)||x().empty(e))){var a=r.state.orderDetails,n=void 0===a?{}:a;Object.keys(n).includes(e)||r.props.dispatch({type:"expenseExamineOrder/fetchRepaymentOrderDetail",payload:{id:e,onSuccessCallback:r.onSuccessCallback,onFailureCallback:r.onFailureCallback}})}})),(0,y.Z)((0,d.Z)(r),"onSuccessCallback",(function(e){var t=C().get(e,"_id","");if(x().empty(t)||x().not.existy(t))Q.ZP.error("获取还款单详情失败");else{var a=r.state.orderDetails,n=void 0===a?{}:a;C().set(n,t,e),r.setState({orderDetail:n})}})),(0,y.Z)((0,d.Z)(r),"onFailureCallback",(function(e){"您没有查看这条还款单的权限"===e.zh_message&&(window.location.href="/#/404"),r.private.isRequest=!1})),(0,y.Z)((0,d.Z)(r),"renderCorePreview",(function(e){if(Array.isArray(e)&&C().get(e,"0.file_url")){var t=e.map((function(e){return{key:e.file_name,url:e.file_url}}));return I.createElement(Qe,{data:t})}return"--"})),(0,y.Z)((0,d.Z)(r),"renderBorrowingPeopleInfo",(function(e){var t=r.props.isExternal,a=[{label:"借款单号",span:8,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:void 0!==t&&t?C().get(e,"loan_order_id","--"):I.createElement("a",{key:"detail",href:"/#/Expense/BorrowingRepayments/Borrowing/Detail?approvalId=".concat(e.loan_order_id,"&orderId=").concat(e.loan_order_info.application_order_id),target:"_blank",rel:"noopener noreferrer"},C().get(e,"loan_order_id","--"))},{label:"借款类型",span:8,layout:{labelCol:{span:9},wrapperCol:{span:14}},form:C().get(e,"loan_order_info.loan_type",0)?S.eLy.description(C().get(e,"loan_order_info.loan_type",0)):"--"},{label:"借款事由",span:8,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"loan_order_info.loan_note","--")},{label:"申请人",span:8,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"apply_account_info.name","--")},{label:"实际借款人",span:14,layout:{labelCol:{span:5},wrapperCol:{span:14}},form:C().get(e,"loan_order_info.actual_loan_info.name","--")},{label:"借款金额 (元)",span:8,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:S.fbc.exchangePriceCentToMathFormat(C().get(e,"loan_order_info.loan_money",0))},{label:"已还金额 (元)",span:8,layout:{labelCol:{span:9},wrapperCol:{span:14}},form:S.fbc.exchangePriceCentToMathFormat(C().get(e,"loan_order_info.repayment_money",0))},{label:"未还金额 (元)",span:8,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:S.fbc.exchangePriceCentToMathFormat(C().get(e,"loan_order_info.non_repayment_money",0))}];return I.createElement(A.IT,{title:"借款信息"},I.createElement(A.KP,{items:a}))})),(0,y.Z)((0,d.Z)(r),"renderRepaymentsInfo",(function(e){var t=[{label:"还款方式",form:C().get(e,"loan_order_info.repayment_method",0)?S.d5u.description(C().get(e,"loan_order_info.repayment_method",0)):"--"},{label:"还款周期",form:C().get(e,"loan_order_info.repayment_cycle",0)?S.kHJ.description(C().get(e,"loan_order_info.repayment_cycle",0)):"--"},{label:"还款金额(元)",form:C().get(e,"repayment_money",0)?S.fbc.exchangePriceCentToMathFormat(C().get(e,"repayment_money",0)):"--"},{label:"备注",form:I.createElement("span",{className:"noteWrap"},C().get(e,"repayment_note","--")||"--")}],a=[{label:"上传附件",form:r.renderCorePreview(C().get(e,"assert_file_list",[]))}];return I.createElement(A.IT,{title:"还款信息"},I.createElement(A.KP,{items:t,cols:3,layout:{labelCol:{span:4},wrapperCol:{span:17}}}),I.createElement(A.KP,{items:a,cols:3,layout:{labelCol:{span:4},wrapperCol:{span:20}}}))})),(0,y.Z)((0,d.Z)(r),"renderOrderDetail",(function(e){var t=r.state.orderDetails,a=void 0===t?{}:t,n=C().get(a,e);return x().empty(n)||x().not.existy(n)?"详情数据为空":I.createElement("div",null,r.renderBorrowingPeopleInfo(n),r.renderRepaymentsInfo(n))})),(0,y.Z)((0,d.Z)(r),"render",(function(){var e=r.props.orderIds;return I.createElement(A.IT,{title:"还款单"},I.createElement(v.Z,{bordered:!1,onChange:r.onRequestOrderDetail,accordion:!0},e.map((function(e){var t="还款单号:".concat(" ",e);return I.createElement(Xe,{header:t,key:e},r.renderOrderDetail(e))}))))})),r.state={orderDetails:{}},r}return(0,p.Z)(a,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.orderDetails,r=void 0===a?{}:a,n=e.externalData,o=void 0===n?[]:n,i=e.isExternal,l=void 0!==i&&i;if(Object.keys(r).length<=0&&l&&o.length>0){var c={};return o.forEach((function(e){C().set(c,e._id,e)})),{orderDetails:c}}return null}}]),a}(I.Component);(0,y.Z)(et,"propTypes",{orderIds:O().array,isExternal:O().bool}),(0,y.Z)(et,"defaultProps",{orderIds:[],isExternal:!1});var tt=et,at=a(29335);function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var nt=v.Z.Panel,ot=function(e){(0,u.Z)(a,e);var t=rt(a);function a(e){var r;return(0,s.Z)(this,a),r=t.call(this,e),(0,y.Z)((0,d.Z)(r),"onChangeCollapse",(function(){var e=r.props.businessDetail,t=r.state.activeKey,a=[];t.length!==e.length&&e.forEach((function(e,t){a.push("".concat(t))})),r.setState({activeKey:a})})),(0,y.Z)((0,d.Z)(r),"onChangePanel",(function(e){r.setState({activeKey:e})})),(0,y.Z)((0,d.Z)(r),"renderTogetherNames",(function(e){var t=C().get(e,"together_user_names",[]),a=t.join("、");return x().not.empty(t)?I.createElement("span",{className:at.Z["app-comp-expense-business-info-together-name"]},a):"--"})),(0,y.Z)((0,d.Z)(r),"renderBusinessPeopleInfo",(function(e){var t=[{label:"实际出差人",span:8,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"apply_user_name",void 0)||"--"},{label:"联系方式",span:8,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"apply_user_phone",void 0)||"--"},{label:"同行人员",span:8,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:r.renderTogetherNames(e)}];return I.createElement(A.IT,{title:"出差人信息"},I.createElement(A.KP,{items:t}))})),(0,y.Z)((0,d.Z)(r),"renderTransportKind",(function(e){var t=C().get(e,"transport_kind",[]),a="";return x().not.empty(t)?(t.forEach((function(e){a+="".concat(S.s6P.description(e)," 、")})),a=a.substring(0,a.length-1)):a="--",I.createElement("span",{className:at.Z["app-comp-expense-business-info-transport-kind"]},a)})),(0,y.Z)((0,d.Z)(r),"renderDestination",(function(e){var t,a=C().get(e,"departure",{});return void 0!==C().get(e,"departure.province_name",void 0)&&(t="".concat(C().get(e,"departure.province_name",void 0))),void 0!==C().get(e,"departure.city_name",void 0)&&(t="".concat(C().get(e,"departure.province_name",void 0)).concat(C().get(e,"departure.city_name",void 0)||"")),void 0!==C().get(e,"departure.area_name",void 0)&&(t="".concat(C().get(e,"departure.province_name",void 0)).concat(C().get(e,"departure.city_name",void 0)||"").concat(C().get(e,"departure.area_name",void 0)||"")),void 0!==C().get(e,"departure.detailed_address",void 0)&&(t="".concat(C().get(e,"departure.province_name",void 0)).concat(C().get(e,"departure.city_name",void 0)||"").concat(C().get(e,"departure.area_name",void 0)||"").concat(C().get(e,"departure.detailed_address",void 0))),x().not.empty(a)?I.createElement("span",null,t):"--"})),(0,y.Z)((0,d.Z)(r),"renderDeparture",(function(e){var t,a=C().get(e,"destination",{});return void 0!==C().get(e,"destination.province_name",void 0)&&(t="".concat(C().get(e,"destination.province_name",void 0))),void 0!==C().get(e,"destination.city_name",void 0)&&(t="".concat(C().get(e,"destination.province_name",void 0)).concat(C().get(e,"destination.city_name",void 0)||"")),void 0!==C().get(e,"destination.area_name",void 0)&&(t="".concat(C().get(e,"destination.province_name",void 0)).concat(C().get(e,"destination.city_name",void 0)||"").concat(C().get(e,"destination.area_name",void 0)||"")),void 0!==C().get(e,"destination.detailed_address",void 0)&&(t="".concat(C().get(e,"destination.province_name",void 0)).concat(C().get(e,"destination.city_name",void 0)||"").concat(C().get(e,"destination.area_name",void 0)||"").concat(C().get(e,"destination.detailed_address",void 0))),x().not.empty(a)?I.createElement("span",null,t):"--"})),(0,y.Z)((0,d.Z)(r),"renderDate",(function(e){var t=R()(C().get(e,"expect_done_at",void 0)).format("YYYY.MM.DD HH:00"),a=R()(C().get(e,"expect_start_at",void 0)).format("YYYY.MM.DD HH:00"),r=C().get(e,"expect_done_at",void 0)&&C().get(e,"expect_start_at",void 0)?"".concat(a," - ").concat(t):"--";return I.createElement("span",null,r)})),(0,y.Z)((0,d.Z)(r),"renderBusinessInfo",(function(e){var t=[{label:"出差类别",span:24,layout:{labelCol:{span:2},wrapperCol:{span:14}},form:C().get(e,"biz_type",0)?S.a8e.description(C().get(e,"biz_type",0)):"--"},{label:"出差方式",span:24,layout:{labelCol:{span:2},wrapperCol:{span:20}},form:r.renderTransportKind(e)},{label:"出发地",span:11,layout:{labelCol:{span:4},wrapperCol:{span:18}},form:r.renderDestination(e)},{label:"目的地",span:11,layout:{labelCol:{span:4},wrapperCol:{span:18}},form:r.renderDeparture(e)},{label:"预计出差时间",span:11,layout:{labelCol:{span:5},wrapperCol:{span:18}},form:r.renderDate(e)},{label:"出差天数",span:11,layout:{labelCol:{span:4},wrapperCol:{span:18}},form:"".concat(C().get(e,"expect_apply_days",0)," ","天")},{label:"原由及说明",span:24,layout:{labelCol:{span:2},wrapperCol:{span:20}},form:I.createElement("span",{className:"noteWrap"},C().get(e,"note","--")||"--")},{label:"工作安排",span:24,layout:{labelCol:{span:2},wrapperCol:{span:20}},form:C().get(e,"working_plan","--")||"--"}];return I.createElement(A.IT,{title:"出差信息"},I.createElement(A.KP,{items:t}))})),(0,y.Z)((0,d.Z)(r),"render",(function(){var e=r.props.businessDetail,t=r.state.activeKey;if(0===Object.keys(e).length)return I.createElement("div",null);var a=I.createElement("span",{onClick:r.onChangeCollapse,className:at.Z["app-comp-expense-business-info-ext"]},t.length!==e.length?"全部展开":"全部收起");return I.createElement(A.IT,{title:"出差单",titleExt:a},I.createElement(v.Z,{bordered:!1,activeKey:t,onChange:r.onChangePanel},e.map((function(e,t){var a="出差申请单号:".concat(" ",e._id);return I.createElement(nt,{header:a,key:t},r.renderBusinessPeopleInfo(e),r.renderBusinessInfo(e))}))))})),r.state={activeKey:[]},r}return a}(I.Component);(0,y.Z)(ot,"propTypes",{businessDetail:O().array}),(0,y.Z)(ot,"defaultProps",{businessDetail:[]});var it=ot;function lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ct(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(a),!0).forEach((function(t){(0,y.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var pt=A.KT.CoreFinderList,dt=function(e){(0,u.Z)(a,e);var t=st(a);function a(){var e;(0,s.Z)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n)),(0,y.Z)((0,d.Z)(e),"getCostTargetId",(function(e,t){return e===S.F$Y.person?t.staffInfo.identity_card_id:e===S.F$Y.team?t.teamId:e===S.F$Y.asset?t.district:e===S.F$Y.project?t.platformCode:e===S.F$Y.headquarter?t.supplierId:e===S.F$Y.city?t.cityCode:e===S.F$Y.district||e===S.F$Y.knight?t.bizDistrictId:void 0})),(0,y.Z)((0,d.Z)(e),"fetchCostOrderAmountSummay",(function(t){var a=t.costAllocationList,r=t.costCenterType,n=t.costAccountingId,o=t.applicationOrderId,i=e.props.examineOrderDetail,l=i.submitAt,c=i.platformCodes;c&&Array.isArray(c)&&"zongbu"===c[0]||a.forEach((function(t){var a=t.staffInfo.identity_card_id,i={costCenter:r,costTargetId:e.getCostTargetId(r,t),subjectId:n,applicationOrderId:o,submitAt:l},c={costCenter:r,applicationOrderId:o,accountingId:n,costTargetId:e.getCostTargetId(r,t),platformCode:t.platformCode,supplierId:t.supplierId,cityCode:t.cityCode,bizDistrictId:t.bizDistrictId,submitAt:l,teamId:t.teamId,staffId:a,assetsId:t.assetsId};e.props.dispatch({type:"expenseCostOrder/fetchAmountSummary",payload:i}),e.props.dispatch({type:"expenseCostOrder/fetchSubmitSummary",payload:c})}))})),(0,y.Z)((0,d.Z)(e),"renderActualDate",(function(e){var t=R()(C().get(e,"actual_done_at",void 0)).format("YYYY.MM.DD HH:00"),a=R()(C().get(e,"actual_start_at",void 0)).format("YYYY.MM.DD HH:00"),r=C().get(e,"actual_done_at",void 0)&&C().get(e,"actual_start_at",void 0)?"".concat(a," - ").concat(t):"--";return I.createElement("span",null,r)})),(0,y.Z)((0,d.Z)(e),"renderExpectDate",(function(e){var t=R()(C().get(e,"expect_done_at",void 0)).format("YYYY.MM.DD HH:00"),a=R()(C().get(e,"expect_start_at",void 0)).format("YYYY.MM.DD HH:00"),r=C().get(e,"expect_start_at",void 0)&&C().get(e,"expect_done_at",void 0)?"".concat(a," - ").concat(t):"--";return I.createElement("span",null,r)})),(0,y.Z)((0,d.Z)(e),"renderDeparture",(function(e){var t,a=C().get(e,"destination",{});return void 0!==C().get(e,"destination.province_name",void 0)&&(t="".concat(C().get(e,"destination.province_name",void 0))),void 0!==C().get(e,"destination.city_name",void 0)&&(t="".concat(C().get(e,"destination.province_name",void 0)).concat(C().get(e,"destination.city_name",void 0)||"")),void 0!==C().get(e,"destination.area_name",void 0)&&(t="".concat(C().get(e,"destination.province_name",void 0)).concat(C().get(e,"destination.city_name",void 0)||"").concat(C().get(e,"destination.area_name",void 0)||"")),void 0!==C().get(e,"destination.detailed_address",void 0)&&(t="".concat(C().get(e,"destination.province_name",void 0)).concat(C().get(e,"destination.city_name",void 0)||"").concat(C().get(e,"destination.area_name",void 0)||"").concat(C().get(e,"destination.detailed_address",void 0))),x().not.empty(a)?I.createElement("span",null,t):"--"})),(0,y.Z)((0,d.Z)(e),"renderDestination",(function(e){var t,a=C().get(e,"departure",{});return void 0!==C().get(e,"departure.province_name",void 0)&&(t="".concat(C().get(e,"departure.province_name",void 0))),void 0!==C().get(e,"departure.city_name",void 0)&&(t="".concat(C().get(e,"departure.province_name",void 0)).concat(C().get(e,"departure.city_name",void 0)||"")),void 0!==C().get(e,"departure.area_name",void 0)&&(t="".concat(C().get(e,"departure.province_name",void 0)).concat(C().get(e,"departure.city_name",void 0)||"").concat(C().get(e,"departure.area_name",void 0)||"")),void 0!==C().get(e,"departure.detailed_address",void 0)&&(t="".concat(C().get(e,"departure.province_name",void 0)).concat(C().get(e,"departure.city_name",void 0)||"").concat(C().get(e,"departure.area_name",void 0)||"").concat(C().get(e,"departure.detailed_address",void 0))),x().not.empty(a)?I.createElement("span",null,t):"--"})),(0,y.Z)((0,d.Z)(e),"renderBusinessInfo",(function(){var t=e.props,a=t.recordId,r=t.examineOrderDetail,n=t.namespaceCostOrderDetail,o=t.pluginCostOrder,i=t.isExternal,l=C().get(r,"pluginExtraMeta.is_plugin_order",!1)?o:n[a]||{};if(l.type!==S.l4R.redPunch||!i){var c="--";C().get(l.bizExtraTravelApplyOrderInfo,"_id",void 0)&&(c=I.createElement("a",{href:"/#/Expense/TravelApplication/Detail?id=".concat(l.bizExtraTravelApplyOrderId),target:"_blank",rel:"noopener noreferrer"},C().get(l.bizExtraTravelApplyOrderInfo,"_id",void 0))),i&&(c=C().get(l.bizExtraTravelApplyOrderInfo,"_id","--"));var s=[{label:"出差申请单号",span:8,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:c},{label:"实际出差人",span:8,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(l.bizExtraTravelApplyOrderInfo,"apply_user_name",void 0)||"--"},{label:"预计出差时间",span:8,layout:{labelCol:{span:8},wrapperCol:{span:16}},form:e.renderExpectDate(l.bizExtraTravelApplyOrderInfo)},{label:"出差地点",span:9,layout:{labelCol:{span:7},wrapperCol:{span:17}},form:I.createElement("span",null,e.renderDestination(l.bizExtraTravelApplyOrderInfo)," - ",e.renderDeparture(l.bizExtraTravelApplyOrderInfo))},{label:"实际出差时间",span:8,layout:{labelCol:{span:6},wrapperCol:{span:18}},form:e.renderActualDate(l.bizExtraTravelApplyOrderInfo)},{label:"出差天数",span:7,layout:{labelCol:{span:6},wrapperCol:{span:14}},form:"".concat(C().get(l.bizExtraTravelApplyOrderInfo,"actual_apply_days",0)," ","天")}];return I.createElement(A.IT,{title:"出差信息"},I.createElement(A.KP,{items:s}))}})),(0,y.Z)((0,d.Z)(e),"renderCorePreview",(function(e,t){if(Array.isArray(e)&&C().get(e,"0")){var a=e.map((function(e,a){return{key:t[a],url:e}}));return I.createElement(pt,{data:a,enableTakeLatest:!1})}return"--"})),(0,y.Z)((0,d.Z)(e),"renderUpdateCostRecord",(function(t){var a=e.props,r=a.examineOrderDetail,n=a.recordId,o=a.examineDetail,i=e.props.namespaceCostOrderDetail,l=(void 0===i?[]:i)[n]||{},c=C().get(e.props,"location.query.orderId",""),s=o.nodeList,p=void 0===s?[]:s,d=o.extraUiOptions.form_template,u=r.currentFlowNode,m=void 0===u?void 0:u,f=r.currentOperateAccounts,y=void 0===f?[]:f,v=r.state,g=C().get(r,"pluginExtraMeta.is_plugin_order",!1),h=p.filter((function(e){return e.id===m}))[0]||{},b=h.canUpdateCostRecord,x=void 0!==b&&b,Z=h.costUpdateRule,E=e.props.location.query.approvalKey,_=l.type===S.l4R.redPunch?{color:"red"}:{},O=C().get(t,"totalMoney",void 0);return!0===x&&-1!==y.indexOf(V.Iq.account.id)&&v===S.DU5.processing&&!0!==g?I.createElement("div",null,I.createElement("a",{className:at.Z["app-comp-expense-travel-update-money"],key:"update",href:"/#/Expense/Manage/Template/Update?orderId=".concat(c,"&recordId=").concat(n,"&template=").concat(d,"&isUpdateRule=true&costUpdateRule=").concat(Z,"&approvalKey=").concat(E,"&isPluginOrder=").concat(g)},void 0!==O?S.fbc.exchangePriceToYuan(O):"--"),I.createElement("span",null,"元")):void 0!==O?I.createElement("span",null,I.createElement("span",{style:ct({},_)},"".concat(S.fbc.exchangePriceToYuan(O))),"元"):"--"})),(0,y.Z)((0,d.Z)(e),"renderCostInfo",(function(){var t=e.props,a=t.recordId,r=t.namespaceCostOrderDetail,n=t.examineOrderDetail,o=t.pluginCostOrder,i=C().get(n,"pluginExtraMeta.is_plugin_order",!1)?o:r[a]||{},l=i.type,c=i.isBook,s=i.totalMoney,p=void 0===s?0:s,d=i.totalTaxAmountAmount,u=void 0===d?0:d,m=[{label:"付款金额",form:e.renderUpdateCostRecord(i)},{label:"费用金额",form:"".concat(S.fbc.exchangePriceToYuan(p-u),"元")},{label:"是否开票",form:C().get(i,"invoiceFlag")?"是":"否"},{label:"是否红冲",form:l===S.l4R.redPunch?"是":"否"},{label:"是否可记账",form:c?"是":"否"}];return I.createElement(A.IT,{title:"费用信息"},I.createElement(A.KP,{items:m,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:15}}}))})),(0,y.Z)((0,d.Z)(e),"renderTravelCostInfo",(function(){var t=e.props,a=t.recordId,r=t.namespaceCostOrderDetail,n=t.examineOrderDetail,o=t.pluginCostOrder,i=t.isExternal,l=C().get(n,"pluginExtraMeta.is_plugin_order",!1)?o:r[a]||{};if(l.type!==S.l4R.redPunch||!i){var c=[{label:"补助(元)",form:C().get(l.bizExtraData,"subsidy_fee",0)?S.fbc.exchangePriceToYuan(C().get(l.bizExtraData,"subsidy_fee",0)):0},{label:"住宿(元)",form:C().get(l.bizExtraData,"stay_fee",0)?S.fbc.exchangePriceToYuan(C().get(l.bizExtraData,"stay_fee",0)):0},{label:"往返交通费(元)",form:C().get(l.bizExtraData,"transport_fee",0)?S.fbc.exchangePriceToYuan(C().get(l.bizExtraData,"transport_fee",0)):0},{label:"市内交通费(元)",form:C().get(l.bizExtraData,"urban_transport_fee",0)?S.fbc.exchangePriceToYuan(C().get(l.bizExtraData,"urban_transport_fee",0)):0},{label:"其它(元)",form:C().get(l.bizExtraData,"other_fee",0)?S.fbc.exchangePriceToYuan(C().get(l.bizExtraData,"other_fee",0)):0}];return I.createElement(A.IT,{title:"差旅费用明细"},I.createElement(A.KP,{items:c,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:15}}}))}})),(0,y.Z)((0,d.Z)(e),"renderCostShare",(function(t){var a=C().get(t,"costAllocationList",[])||[];return I.createElement("div",null,I.createElement(o.Z,null,I.createElement(l.Z,{span:24},S.eL2.description(C().get(t,"allocationMode"))),I.createElement(l.Z,{span:24},a.map((function(a,r){return e.renderCostShareItems(a,r,t)})))))})),(0,y.Z)((0,d.Z)(e),"renderCostShareItems",(function(t,a,r){var n,i=e.props,c=i.examineOrderDetail,s=i.isExternal,p=t.platformName,d=t.supplierName,u=t.cityName,m=t.bizDistrictName,f=t.bizDistrictId,y=t.cityCode,v=t.supplierId,g=t.staffInfo,h=t.teamId,b=t.teamType,Z=t.teamName,E=e.props,_=E.costOrderAmountSummary,O=E.costOrderSubmitSummary,D=r.costAccountingId,T=r.costCenterType,P=r.costAccountingInfo,k=void 0===P?{}:P,w=k&&Object.keys(k).length>0?k.costCenterType:void 0,Y=e.getCostTargetId(T,t);if(x().existy(p)&&x().not.empty(p)&&(n="".concat(p)),x().existy(d)&&x().not.empty(d)&&(n="".concat(p," - ").concat(d)),x().existy(u)&&x().not.empty(u)&&(n="".concat(p," - ").concat(d," - ").concat(u)),x().existy(m)&&x().not.empty(m)&&(n="".concat(p," - ").concat(d," - ").concat(u," - ").concat(m)),x().existy(g)&&x().not.empty(g)&&T===S.F$Y.person){var F=g.identity_card_id,M=g.name;n=Z?n?"".concat(n," - ").concat(Z," - ").concat(M,"(").concat(F,")"):"".concat(Z," - ").concat(M,"(").concat(F,")"):n?"".concat(n," - ").concat(M,"(").concat(F,")"):"".concat(M,"(").concat(F,")")}x().existy(h)&&x().not.empty(h)&&x().existy(b)&&x().not.empty(b)&&T===S.F$Y.team&&w!==S.F$Y.headquarters&&(n="".concat(n," - ").concat(S.TDR.description(Number(b))," - ").concat(Z," - ").concat(h)),w===S.F$Y.headquarters&&T===S.F$Y.team&&(n="".concat(Z," - ").concat(h));var L=C().get(c,"submitAt",void 0),K="",B="";L?(K=R()(L).format("YYYYMM"),B=R()(L).format("YYYY-MM-DD")):(K=R()().format("YYYYMM"),B=R()().format("YYYY-MM"));var j="".concat(D,"-").concat(Y,"-").concat(K),z="".concat(D,"-").concat(Y,"-").concat(B,"-").concat(f,"-").concat(y,"-").concat(v),N=C().get(O,"".concat(z,".amountMoney"),0),q=C().get(_,"".concat(j,".money"),0),U=C().get(c,"pluginExtraMeta.is_plugin_order",!1)||w===S.F$Y.headquarters?[]:[{label:"当月已提报费用合计",span:9,layout:{labelCol:{span:15},wrapperCol:{span:9}},form:I.createElement("p",{className:at.Z["app-comp-expense-travel-submit-money-td"]},S.fbc.exchangePriceCentToMathFormat(N),"元")},{label:"当月已付款费用合计",span:9,layout:{labelCol:{span:15},wrapperCol:{span:9}},form:I.createElement("p",{className:at.Z["app-comp-expense-travel-total-money-td"]},S.fbc.exchangePriceCentToMathFormat(q),"元")}];return t.money&&U.unshift({label:"分摊金额",span:6,layout:{labelCol:{span:13},wrapperCol:{span:11}},form:I.createElement("p",{className:at.Z["app-comp-expense-travel-money-item-td"]},S.fbc.exchangePriceToYuan(C().get(t,"money","--")),"元")}),I.createElement(o.Z,{key:a},I.createElement(l.Z,{span:8},n),s||w===S.l4R.headquarters?"":I.createElement(l.Z,{span:16},I.createElement(A.KP,{items:U})))})),(0,y.Z)((0,d.Z)(e),"renderProjectInfo",(function(){var t=e.props,a=t.recordId,r=t.namespaceCostOrderDetail,n=t.examineOrderDetail,o=t.pluginCostOrder,i=C().get(n,"pluginExtraMeta.is_plugin_order",!1)?o:r[a]||{},l=i.costCenterType,c=void 0===l?void 0:l,s=i.costAccountingInfo,p=void 0===s?{}:s,d=i.platformCodes,u=void 0===d?[]:d,m=p&&Object.keys(p).length>0?p.costCenterType:void 0,f=[{label:"科目",span:8,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:"".concat(C().get(i,"costAccountingInfo.name","--"),"(").concat(C().get(i,"costAccountingInfo.accountingCode","--"),")")},{label:"费用分组",form:C().get(i,"costGroupName")},{label:"成本归属",form:c?S.F$Y.description(Number(c)):"--"}],y=[{label:"成本分摊",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:e.renderCostShare(i)}],v=[{label:"发票抬头",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:m===S.F$Y.headquarters?I.createElement(Se.Z,{invoiceVal:C().get(i,"invoiceTitle","--"),platform:u[0],isDetail:!0}):C().get(i,"invoiceTitle","--")},{label:"备注",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:I.createElement("span",{className:"noteWrap"},C().get(i,"note","--"))},{label:"上传附件",layout:{labelCol:{span:2},wrapperCol:{span:22}},form:e.renderCorePreview(C().get(i,"attachmentPrivateUrls",[]),C().get(i,"attachments",[]))}];return I.createElement(A.IT,{title:"项目信息"},I.createElement(A.KP,{items:f,cols:3,layout:{labelCol:{span:6},wrapperCol:{span:17}}}),I.createElement(A.KP,{items:y,cols:1}),I.createElement(A.KP,{items:v,cols:1}))})),(0,y.Z)((0,d.Z)(e),"renderCollectionInfo",(function(){var t=e.props,a=t.recordId,r=t.namespaceCostOrderDetail,n=t.examineOrderDetail,o=t.pluginCostOrder,i=t.isExternal,l=C().get(n,"pluginExtraMeta.is_plugin_order",!1)?o:r[a]||{};if(l.type!==S.l4R.redPunch||!i)return I.createElement(Me.Z,{dataSource:C().get(l,"payeeList",[]),money:C().get(l,"totalMoney",void 0)})})),(0,y.Z)((0,d.Z)(e),"renderInvoice",(function(){var t=e.props,a=t.namespaceCostOrderDetail,r=void 0===a?{}:a,n=t.recordId,o=t.examineOrderDetail,i=void 0===o?{}:o,l=t.examineDetail,c=void 0===l?{}:l,s=t.pluginCostOrder,p=t.isExternal,d=r[n];if(d&&!(Object.keys(d).length<=0)||s&&!(Object.keys(s).length<=0)){var u,m=i.applicationOrderType;return p&&(u=s.type),p||(u=d.type),m!==S.ZBL.cost&&m!==S.ZBL.travel||u!==S.l4R.normal?null:I.createElement(Fe,{detail:p?s:d,examineOrderDetail:i,examineDetail:c})}})),(0,y.Z)((0,d.Z)(e),"render",(function(){var t=e.props,a=t.namespaceCostOrderDetail,r=t.examineOrderDetail,n=t.pluginCostOrder;return 0!==Object.keys(a).length||C().get(r,"pluginExtraMeta.is_plugin_order",!1)?0===Object.keys(n).length&&C().get(r,"pluginExtraMeta.is_plugin_order",!1)?I.createElement("div",null):I.createElement("div",null,e.renderBusinessInfo(),e.renderCostInfo(),e.renderTravelCostInfo(),e.renderProjectInfo(),e.renderCollectionInfo(),e.renderInvoice()):I.createElement("div",null)})),e}return(0,p.Z)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.recordId,r=t.examineOrderDetail;C().get(r,"pluginExtraMeta.is_plugin_order",!1)||this.props.dispatch({type:"expenseCostOrder/fetchNamespaceCostOrderDetail",payload:{recordId:a,namespace:a,onSuccessCallback:function(t){return e.fetchCostOrderAmountSummay(t)}}})}}]),a}(I.Component);(0,y.Z)(dt,"propTypes",{recordId:O().string,examineDetail:O().object,examineOrderDetail:O().object,pluginCostOrder:O().object,isExternal:O().bool}),(0,y.Z)(dt,"defaultProps",{recordId:"",examineDetail:{},examineOrderDetail:{},pluginCostOrder:{},isExternal:!1});var ut=(0,E.connect)((function(e){var t=e.expenseCostOrder;return{costOrderAmountSummary:t.costOrderAmountSummary,costOrderSubmitSummary:t.costOrderSubmitSummary,namespaceCostOrderDetail:t.namespaceCostOrderDetail}}))(dt),mt=(a(20186),a(75385));function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var yt=function(e){(0,u.Z)(a,e);var t=ft(a);function a(){var e;(0,s.Z)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),(0,y.Z)((0,d.Z)(e),"renderContent",(function(){var t=e.props,a=t.salaryPlanVersionId,r=t.planVersionDetailData;if(0===Object.keys(r).length)return null;var n=[r[a]],o=[{title:"单笔流水号",dataIndex:"oaApplicationOrderId",key:"oaApplicationOrderId",width:200,fixed:"left"},{title:"平台",dataIndex:"platformName",key:"platformName",render:function(e){return e||"--"}},{title:"供应商",dataIndex:"supplierName",key:"supplierName",render:function(e){return e||"--"}},{title:"城市",dataIndex:"cityName",key:"cityName",render:function(e){return e||"--"}},{title:"商圈",dataIndex:"bizDistrictName",key:"bizDistrictName",render:function(e){return e||"--"}},{title:"生效时间",dataIndex:"activeAt",key:"activeAt",render:function(e){return e?R()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"版本号",dataIndex:"id",key:"id"},{title:"试算月份",dataIndex:["computeTaskInfo","fromDate"],key:"computeTaskInfo.fromtDate",render:function(e){var t=e?"".concat(e).slice(4,6):"--";return"".concat(t,"月")}},{title:"试算总金额（元）",dataIndex:"managementAmount",key:"managementAmount",render:function(e){return S.fbc.exchangePriceCentToMathFormat(e||0)}},{title:"单据状态",dataIndex:"state",key:"state",width:100,fixed:"right",render:function(e){return S.Vm3.description(e)}},{title:"操作",dataIndex:"operation",key:"operation",width:100,fixed:"right",render:function(e,t){var a=t.id,r=t.planId,n=t.state,o=[];return n===S.DU5.processing&&o.push(I.createElement("a",{key:"detail",target:"_blank",rel:"noopener noreferrer",href:"/#/Finance/Rules?id=".concat(r,"&isReview=1")},"详情")),n!==S.DU5.finish&&n!==S.DU5.close||o.push(I.createElement("a",{key:"detail",target:"_blank",rel:"noopener noreferrer",href:"/#/Finance/Rules/History?planVersionId=".concat(a,"&planId=").concat(r)},"详情")),o}}];return I.createElement(A.IT,{title:"费用单数据"},I.createElement(mt.Z,{rowKey:function(e){return e.id},dataSource:n,columns:o,pagination:!1,bordered:!0,scroll:{x:1700}}))})),(0,y.Z)((0,d.Z)(e),"render",(function(){return e.renderContent()})),e}return(0,p.Z)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.salaryPlanVersionId;(0,e.dispatch)({type:"financePlan/fetchPlanVersionDetailData",payload:{id:t}})}}]),a}(I.Component);(0,y.Z)(yt,"PropTypes",{salaryPlanVersionId:O().string,planVersionDetailData:O().object,dispatch:O().func}),(0,y.Z)(yt,"defaultProps",{salaryPlanVersionId:"",planVersionDetailData:{},dispatch:function(){}});var vt=(0,E.connect)((function(e){return{planVersionDetailData:e.financePlan.planVersionDetailData}}))(yt),gt=a(72531),ht=a(4681);function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var xt=function(e){(0,u.Z)(a,e);var t=bt(a);function a(){var e;(0,s.Z)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),(0,y.Z)((0,d.Z)(e),"renderContent",(function(){var t=e.props.salaryRecordsInfo;if(0===Object.keys(t).length)return null;var a=t.platformCodes;return"elem"===(void 0===a?[]:a)[0]?I.createElement(gt.Z,{detail:t,dispatch:e.props.dispatch}):I.createElement(ht.Z,{detail:t,dispatch:e.props.dispatch})})),(0,y.Z)((0,d.Z)(e),"render",(function(){return e.renderContent()})),e}return(0,p.Z)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.payrollStatementId;(0,e.dispatch)({type:"financeSummaryManage/fetchSalaryCityStatementInfo",payload:{recordId:t}})}}]),a}(I.Component);(0,y.Z)(xt,"PropTypes",{payrollStatementId:O().string,salaryRecordsInfo:O().object,dispatch:O().func}),(0,y.Z)(xt,"defaultProps",{payrollStatementId:"",salaryRecordsInfo:{},dispatch:function(){}});var Zt=(0,E.connect)((function(e){return{salaryRecordsInfo:e.financeSummaryManage.salaryRecordsInfo}}))(xt);function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var Et=A.KT.CoreFinderList,_t=v.Z.Panel,Ot=function(e){(0,u.Z)(a,e);var t=Ct(a);function a(e){var r;return(0,s.Z)(this,a),r=t.call(this,e),(0,y.Z)((0,d.Z)(r),"onRequestOrderDetail",(function(e){r.setState({activeKey:e})})),(0,y.Z)((0,d.Z)(r),"onChangeCollapse",(function(){var e=r.state.activeKey,t=r.props.extraWorkOrLeaveId,a=[];e.length!==[t].length&&[t].forEach((function(e,t){a.push("".concat(t))})),r.setState({activeKey:a})})),(0,y.Z)((0,d.Z)(r),"renderPersonalInfo",(function(){var e=r.props.expenseTakeLeaveDetail,t=[{label:"实际请假人",span:7,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"actual_apply_name","--")},{label:"联系人方式",span:7,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"phone","--")}],a=[{label:"项目",span:7,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"platform_name",void 0)||"--"},{label:"城市",span:7,layout:{labelCol:{span:8},wrapperCol:{span:14}},form:C().get(e,"city_name",void 0)||"--"},{label:"团队",span:7,layout:{labelCol:{span:8},wrapperCol:{span:15}},form:C().get(e,"biz_district_name",void 0)||"--"}];return I.createElement(A.IT,{title:"请假人信息"},I.createElement(A.KP,{items:t}),I.createElement(A.KP,{items:a}))})),(0,y.Z)((0,d.Z)(r),"renderCorePreview",(function(e){if(Array.isArray(e)&&C().get(e,"0.file_url")){var t=e.map((function(e){return{key:e.file_name,url:e.file_url}}));return I.createElement(Et,{data:t})}return"--"})),(0,y.Z)((0,d.Z)(r),"renderAskLeave",(function(){var e=r.props.expenseTakeLeaveDetail;if(x().empty(e)||x().not.existy(e))return"详情数据为空";var t=[{label:"请假类型",form:C().get(e,"leave_type",0)?S.gGH.description(C().get(e,"leave_type",0)):"--"},{label:"开始时间",form:R()(C().get(e,"start_at")).format("YYYY.MM.DD HH:mm:ss")},{label:"结束时间",form:R()(C().get(e,"end_at")).format("YYYY.MM.DD HH:mm:ss")},{label:"时长 (小时)",form:C().get(e,"duration",void 0)||"--"},{label:"请假事由",form:I.createElement("div",{className:"noteWrap"},C().get(e,"reason","--"))},{label:"工作安排",form:I.createElement("div",{className:"noteWrap"},C().get(e,"work_placement","--"))},{label:"上传附件",form:r.renderCorePreview(C().get(e,"file_url_list",[]))}];return I.createElement(A.IT,{title:"请假信息"},I.createElement(A.KP,{items:t,cols:1,layout:{labelCol:{span:2},wrapperCol:{span:22}}}))})),(0,y.Z)((0,d.Z)(r),"render",(function(){var e=r.state.activeKey,t=r.props.extraWorkOrLeaveId,a=I.createElement("span",{onClick:r.onChangeCollapse,className:at.Z["app-comp-expense-detail-order-info-ext"]},e.length!==[t].length?"全部展开":"全部收起");return I.createElement(A.IT,{key:"takeLeve",title:"请假单",titleExt:a},I.createElement(v.Z,{bordered:!1,activeKey:e,onChange:r.onRequestOrderDetail},[t].map((function(e,t){var a="请假申请单号:".concat(" ",e);return I.createElement(_t,{header:a,key:"".concat(t)},r.renderPersonalInfo(e),r.renderAskLeave(e))}))))})),r.state={activeKey:[]},r}return(0,p.Z)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.extraWorkOrLeaveId,a=e.isExternal,r=void 0!==a&&a;x().not.existy(t)||x().empty(t)||r||this.props.dispatch({type:"expenseTakeLeave/fetchExpenseTakeLeaveDetail",payload:{id:t}})}}]),a}(I.Component);(0,y.Z)(Ot,"propTypes",{extraWorkOrLeaveId:O().oneOfType([O().string,O().array]),isExternal:O().bool});var It=(0,E.connect)((function(e){return{expenseTakeLeaveDetail:e.expenseTakeLeave.expenseTakeLeaveDetail}}))(Ot),Dt=a(34800),Tt=a(6901);function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var kt=v.Z.Panel,wt=function(e){(0,u.Z)(a,e);var t=Pt(a);function a(){var e;return(0,s.Z)(this,a),e=t.call(this),(0,y.Z)((0,d.Z)(e),"onChangePanel",(function(t){e.setState({activeKey:t})})),(0,y.Z)((0,d.Z)(e),"onChangeCollapse",(function(){var t=e.state.activeKey,a=e.props,r=a.examineOrderDetail,n=a.overTimeDetail._id,o=i||n,i=r.extraWorkOrLeaveId,l=[];t.length!==[o].length&&[o].forEach((function(e){l.push("".concat(e))})),e.setState({activeKey:l})})),(0,y.Z)((0,d.Z)(e),"renderOverTime",(function(){var t=e.props.overTimeDetail;return 0===Object.keys(t).length?null:I.createElement("div",null,I.createElement(Dt.Z,{detail:t}),I.createElement(Tt.Z,{detail:t}))})),(0,y.Z)((0,d.Z)(e),"renderContent",(function(){var t=e.state.activeKey,a=e.props,r=a.examineOrderDetail,n=a.overTimeDetail,o=void 0===n?{}:n,i=r.extraWorkOrLeaveId,l=o._id,c=i||l,s=I.createElement("span",{onClick:e.onChangeCollapse,className:Re.Z["app-comp-expense-detail-order-info-ext"]},t.length!==[c].length?"全部展开":"全部收起");return I.createElement(A.IT,{key:"overTime",title:"加班单",titleExt:s},I.createElement(v.Z,{bordered:!1,activeKey:t,onChange:e.onChangePanel},[c].map((function(t){var a="加班申请单号: ".concat(t);return I.createElement(kt,{header:a,key:"".concat(t)},e.renderOverTime())}))))})),e.state={activeKey:[]},e}return(0,p.Z)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.examineOrderDetail,a=e.dispatch,r=e.isExternal;void 0!==r&&r||a({type:"expenseOverTime/fetchOverTimeDetail",payload:{overTimeId:t.extraWorkOrLeaveId}})}},{key:"render",value:function(){return this.renderContent()}}]),a}(I.Component);(0,y.Z)(wt,"propTypes",{examineOrderDetail:O().object,overTimeDetail:O().object,isExternal:O().bool}),(0,y.Z)(wt,"defaultProps",{examineOrderDetail:{},overTimeDetail:{},isExternal:!1});var Yt=(0,E.connect)((function(e){return{overTimeDetail:e.expenseOverTime.overTimeDetail}}))(wt);function Ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var St=v.Z.Panel,Mt=function(e){(0,u.Z)(a,e);var t=Ft(a);function a(e){var r;return(0,s.Z)(this,a),r=t.call(this,e),(0,y.Z)((0,d.Z)(r),"onRequestOrderDetail",(function(e){r.setState({activeKey:e})})),(0,y.Z)((0,d.Z)(r),"onChangeCollapse",(function(){var e=C().get(r.props,"examineOrderDetail.extraStaffChangeId",void 0),t=r.state.activeKey,a=[];t.length!==[e].length&&[e].forEach((function(e,t){a.push("".concat(t))})),r.setState({activeKey:a})})),(0,y.Z)((0,d.Z)(r),"renderFiles",(function(e){return I.createElement("div",null,e.map((function(e,t){return I.createElement("p",null,I.createElement("a",{className:at.Z["app-comp-expense-borrowing-info-file"],rel:"noopener noreferrer",target:"_blank",key:t,href:e.file_url},e.file_name))})))})),(0,y.Z)((0,d.Z)(r),"renderThemeTags",(function(e){if(x().existy(e)&&x().not.empty(e)){var t=C().get(e,"theme_tags").join(",");return I.createElement("span",null,t)}return"--"})),(0,y.Z)((0,d.Z)(r),"renderApplicationInfo",(function(){var e=r.props.employeeTurnoverDetail,t=[{span:24,layout:{labelCol:{span:2},wrapperCol:{span:19}},label:"申请单状态",form:C().get(e,"state",void 0)?S.Jku.description(C().get(e,"state",void 0)):"--"},{span:8,layout:{labelCol:{span:6},wrapperCol:{span:15}},label:"姓名",form:C().get(e,"changed_staff_info.name","--")},{span:8,layout:{labelCol:{span:6},wrapperCol:{span:15}},label:"身份证号码",form:C().get(e,"changed_staff_info.identity_card_id","--")},{span:8,layout:{labelCol:{span:6},wrapperCol:{span:15}},label:"性别",form:C().get(e,"changed_staff_info")?S.Y0t.description(C().get(e,"changed_staff_info.gender_id")):"--"},{span:8,layout:{labelCol:{span:6},wrapperCol:{span:15}},label:"所属部门",form:C().get(e,"department","--")},{span:8,layout:{labelCol:{span:6},wrapperCol:{span:15}},label:"岗位名称",form:C().get(e,"station","--")},{span:24,layout:{labelCol:{span:2},wrapperCol:{span:19}},label:"调岗原因",form:C().get(e,"change_reason","--")},{span:8,layout:{labelCol:{span:6},wrapperCol:{span:15}},label:"调岗后部门",form:C().get(e,"adjusted_department","--")},{span:8,layout:{labelCol:{span:6},wrapperCol:{span:15}},label:"调岗后岗位",form:C().get(e,"adjusted_station","--")},{span:24,layout:{labelCol:{span:2},wrapperCol:{span:19}},label:"期望生效时间",form:C().get(e,"active_at",void 0)?R()(C().get(e,"active_at")).format("YYYY.MM.DD"):"--"},{span:24,layout:{labelCol:{span:2},wrapperCol:{span:19}},label:"主题标签",form:r.renderThemeTags(e)},{span:24,layout:{labelCol:{span:2},wrapperCol:{span:19}},label:"备注",form:I.createElement("span",{className:"noteWrap"},C().get(e,"note","--"))},{span:24,layout:{labelCol:{span:2},wrapperCol:{span:19}},label:"附件",form:r.renderFiles(C().get(e,"file_list",[]))}];return I.createElement(A.IT,{title:"调岗申请单"},I.createElement(A.KP,{items:t,cols:3}))})),(0,y.Z)((0,d.Z)(r),"render",(function(){var e=C().get(r.props,"examineOrderDetail.extraStaffChangeId",void 0),t=r.state.activeKey,a=I.createElement("span",{onClick:r.onChangeCollapse,className:at.Z["app-comp-expense-detail-order-info-ext"]},t.length!==[e].length?"全部展开":"全部收起");return I.createElement(A.IT,{key:"takeLeve",title:"人员异动",titleExt:a},I.createElement(v.Z,{bordered:!1,activeKey:t,onChange:r.onRequestOrderDetail},[e].map((function(e,t){var a="人员异动申请单号:".concat(" ",e);return I.createElement(St,{header:a,key:"".concat(t)},r.renderApplicationInfo())}))))})),r.state={activeKey:[]},r}return(0,p.Z)(a,[{key:"componentDidMount",value:function(){var e=C().get(this.props,"examineOrderDetail.extraStaffChangeId",void 0);x().not.existy(e)||x().empty(e)||this.props.dispatch({type:"employeeTurnover/fetchEmployeeTurnoverDetail",payload:{id:e}})}}]),a}(I.Component);(0,y.Z)(Mt,"propTypes",{examineOrderDetail:O().object}),(0,y.Z)(Mt,"defaultProps",{examineOrderDetail:{}});var Rt=(0,E.connect)((function(e){return{employeeTurnoverDetail:e.employeeTurnover.employeeTurnoverDetail}}))(Mt),At=a(98249),Lt=a(16196),Kt=a(49322),Bt=v.Z.Panel,jt=function(e){var t=e.examineOrderDetail,a=void 0===t?{}:t,r=e.location,n=void 0===r?{}:r,o=e.examineDetail,i=void 0===o?{}:o,l=(0,I.useState)([]),s=(0,te.Z)(l,2),p=s[0],d=s[1],u=a.costOrderList,m=void 0===u?[]:u,f=a.applicationOrderType,y=a.repaymentOrderList,g=void 0===y?[]:y,h=a.oaExtraWorkOrderInfo,b=void 0===h?{}:h,Z=a.oaLeaveOrderInfo,C=a.pluginExtraMeta,E=void 0===C?{}:C,_=a.businessTravelOrderInfo,O=void 0===_?{}:_,D=a.loanOrderList,T=void 0===D?[]:D,P=!1;if(x().existy(E)&&(P=E.is_plugin_order),Object.keys(a).length<=0||!P)return I.createElement("div",null);var k=function(e){d((0,c.Z)(e))},w=function(){var e=[];p.length!==m.length&&m.forEach((function(t){e[e.length]=t.id})),d([].concat(e))},Y=function(){return I.createElement(A.IT,{key:"travel",title:"费用单"},I.createElement(v.Z,{bordered:!1,activeKey:p,onChange:k},m.map((function(e,t){var r="费用单号: ".concat(e.id);return I.createElement(Bt,{header:r,key:"".concat(t)},I.createElement(ut,{location:n,recordId:e.id,examineOrderDetail:a,examineDetail:i,pluginCostOrder:e,isExternal:P}))}))))},F=function(){return I.createElement(it,{businessDetail:[O]})},M=function(){if(Array.isArray(m)&&m.length<=0||!m)return I.createElement("div",null);var e=I.createElement("span",{onClick:w,className:at.Z["app-comp-expense-detail-order-info-ext"]},p.length!==m.length?"全部展开":"全部收起");return I.createElement(A.IT,{title:"费用单",titleExt:e},I.createElement(v.Z,{bordered:!1,activeKey:p,onChange:k},m.map((function(e){var t=e.id,r="费用单号: ".concat(t);return I.createElement(Bt,{header:r,key:t},I.createElement(Ue,{location:n,recordId:t,examineOrderDetail:a,examineDetail:i,isExternal:P}))}))))},R=function(){if(!T||Array.isArray(T)&&T.length<=0)return I.createElement("div",null);var e=T.map((function(e){return e._id}));return I.createElement(Ge,{orderIds:e,pluginExtraMeta:E,loanOrderList:T})},L=function(){if(!g||Array.isArray(g)&&g.length<=0)return I.createElement("div",null);var e=g.map((function(e){return e._id}));return I.createElement(tt,{orderIds:e,isExternal:P,externalData:g})},K=function(){return!b||Object.keys(b).length<=0?I.createElement("div",null):I.createElement(Yt,{isExternal:P,examineOrderDetail:a})},B=function(){if(!Z||Object.keys(Z).length<=0)return I.createElement("div",null);var e=Z._id;return I.createElement(It,{isExternal:P,extraWorkOrLeaveId:e})};return function(){switch(f){case S.ZBL.cost:case S.ZBL.housing:return M();case S.ZBL.borrowing:return R();case S.ZBL.repayments:return L();case S.ZBL.business:return F();case S.ZBL.overTime:return K();case S.ZBL.takeLeave:return B();case S.ZBL.travel:return Y();default:return I.createElement("div",null)}}()},zt=a(15947),Nt=a(23217),qt=a(97418),Ut=a(86221),Vt=a(86040);function $t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.Z)(this,a)}}var Ht=v.Z.Panel,Wt=function(e){(0,u.Z)(a,e);var t=$t(a);function a(e){var p;return(0,s.Z)(this,a),p=t.call(this,e),(0,y.Z)((0,d.Z)(p),"onSuccessCallbackExamineOrderDetail",(function(e){var t=p.private.orderId,a=C().get(e,"business_travel_order_id"),r=C().get(e,"application_order_type"),n=C().get(e,"flow_id");if(x().existy(a)&&x().not.empty(a)&&601!==r){var o={costOrderId:a};C().get(e,"plugin_extra_meta.is_plugin_order",!1)||p.props.dispatch({type:"expenseExamineOrder/fetchBusinessTrip",payload:o})}n&&p.props.dispatch({type:"expenseExamineFlow/fetchExamineDetail",payload:{id:n,orderId:t}})})),(0,y.Z)((0,d.Z)(p),"onFailureCallback",(function(e){"您没有查看这条审批单的权限"===e.zh_message&&(window.location.href="/#/404")})),(0,y.Z)((0,d.Z)(p),"onChangeCopyGiveValues",(function(e){p.setState({copyGiveValues:e})})),(0,y.Z)((0,d.Z)(p),"onChangeThemeTags",(function(e){var t=e,a=t.length;if(a>p.state.themeTags.length){var r=t[a-1].replace(/\s+/g,"");if(""===r)return;t[a-1]=r}p.setState({themeTags:t})})),(0,y.Z)((0,d.Z)(p),"onSaveThemeTags",(function(){var e=p.private.orderId,t=p.state.themeTags,a=C().get(p.props,"examineOrderDetail.pluginExtraMeta.theme_label_list",[]),r=(0,c.Z)(new Set([].concat((0,c.Z)(t),["外部审批单"]))).filter((function(e){return!a.includes(e)})),n={themeTags:p.getPluginOrder()?r:t.filter((function(e){return!a.includes(e)})),orderId:e};p.props.dispatch({type:"expenseExamineOrder/fetchCostApprovalThemeTag",payload:{params:n,onSuccessCallback:function(e){var t=e.record,a=void 0===t?{}:t,r=a.theme_label_list,n=void 0===r?[]:r,o=C().get(a,"plugin_extra_meta.theme_label_list",[]);p.setState({themeTags:[].concat((0,c.Z)(n),(0,c.Z)(o))})},onFailureCallback:p.onFailureAssociatedCallback}})})),(0,y.Z)((0,d.Z)(p),"onDownloadPayroll",(function(e){var t={id:e};p.props.dispatch({type:"financeSummaryManage/downloadSalaryStatement",payload:t})})),(0,y.Z)((0,d.Z)(p),"onSuccessCallback",(function(){var e=p.private.orderId;void 0!==e&&p.props.dispatch({type:"expenseExamineOrder/fetchExamineOrderDetail",payload:{id:e}})})),(0,y.Z)((0,d.Z)(p),"onChangeCollapse",(function(){var e=p.props.examineOrderDetail,t=p.state.activeKey,a=e.costOrderIds,r=[];t.length!==a.length&&a.forEach((function(e,t){r.push("".concat(t))})),p.setState({activeKey:r})})),(0,y.Z)((0,d.Z)(p),"onChangeInvoiceAjustCollapse",(function(){var e=p.state.activeKey,t=p.props.originalCostOrder,a=[];e.length!==t.length&&t.forEach((function(e,t){a.push("".concat(t))})),p.setState({activeKey:a})})),(0,y.Z)((0,d.Z)(p),"onChangePanel",(function(e){p.setState({activeKey:e})})),(0,y.Z)((0,d.Z)(p),"onChangeAssociatedPanel",(function(){var e=p.props.examineOrdersData;if(!(C().get(e,"data",[]).length>0)){var t=p.props,a=t.examineOrderDetail,r=t.dispatch,n=C().get(a,"relationApplicationOrderIds"),o={associatedId:n,limit:9999,state:[S.DU5.pendding,S.DU5.processing,S.DU5.finish]};n&&r({type:"expenseExamineOrder/fetchExamineOrders",payload:o})}})),(0,y.Z)((0,d.Z)(p),"getExpenseType",(function(e){switch(e){case S.ZBL.cost:case S.ZBL.supplies:case S.ZBL.housing:case S.ZBL.borrowing:case S.ZBL.repayments:case S.ZBL.business:case S.ZBL.overTime:case S.ZBL.takeLeave:case S.ZBL.travel:return!0}})),(0,y.Z)((0,d.Z)(p),"getPluginOrder",(function(){var e=p.props.examineOrderDetail,t=(void 0===e?{}:e).pluginExtraMeta,a=void 0===t?{}:t;return!(!x().existy(a)||!0!==a.is_plugin_order)})),(0,y.Z)((0,d.Z)(p),"goPrint",(function(e){var t=[e],a=JSON.stringify(t);zt.Z.popUpCompatible("/#/Expense/Manage/ExamineOrder/print?selectedRowKeys=".concat(a))})),(0,y.Z)((0,d.Z)(p),"renderOperates",(function(){var e=p.props.examineOrderDetail,t=e.applicationOrderType,a=p.props.examineDetail;if(x().empty(e)||x().not.existy(e))return"";var r=e.currentPendingAccounts;if(-1===(void 0===r?[]:r).indexOf(V.Iq.account.id))return"";if(!1===V.Iq.canOperate(Nt.Z.OperateExpenseManageApprovalButton)&&t<100)return"";if(!1===V.Iq.canOperate(Nt.Z.OperateExpenseManageOAOrderEditButton)&&t>=100)return"";var n=e.id,o=e.currentRecordIds,i=void 0===o?[]:o,c=e.currentFlowNode,s=void 0===c?void 0:c,d=e.currentRecordList,u=void 0===d?[]:d,m="",f=C().get(e,"paidState"),y=C().get(a,"nodeList",[]),v=y.filter((function(e){return e.id===s}))[0]||{},g=v.approveMode,h=v.isPaymentNode,b=void 0!==h&&h,Z=v.isInspectBillNode,E=void 0!==Z&&Z;g===S.Fv8.any&&1===i.length&&(m=i[0]),g===S.Fv8.all&&u.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.operateAccounts,a=void 0===t?[]:t;a.forEach((function(t){t===V.Iq.account.id&&(m=e.id)}))}));var _=C().get(e,"flowRecordList",[]),O=[I.createElement(w.Z,{key:"SupplementOpinion",orderId:n,recordId:m,isPaymentNode:b,dispatch:p.props.dispatch,onSuccessCallback:p.onSuccessCallback}),I.createElement(P.Z,{key:"RejectModal",orderId:n,orderRecordId:m,currentFlowNode:s,flowRecordList:_,nodeList:y,dispatch:p.props.dispatch,examineDetail:a}),I.createElement(T.Z,{key:"ApproveModal",orderId:n,orderRecordId:m,examineOrderDetail:e,currentFlowNode:s,isPaymentNode:b,dispatch:p.props.dispatch,examineDetail:a})];x().truthy(b)&&f===S.$ym.waiting&&O.push(I.createElement(k.Z,{key:"PaymentExceptionModal",orderId:n,orderRecordId:m,dispatch:p.props.dispatch}));var D={orderId:n,orderRecordId:m},Y=[I.createElement(At.Z,D),I.createElement(Lt.Z,null),I.createElement(Kt.Z,D)];return I.createElement(l.Z,{className:at.Z["app-comp-expense-detail-operate-wrap"],span:3,style:{display:"flex",flexDirection:"column"}},I.createElement("div",{style:{display:"flex"}},O.map((function(e,t){return I.createElement("div",{key:t,className:at.Z["app-comp-expense-detail-operate-item"]},e)}))),I.createElement("div",{style:{display:"flex",marginTop:10}},E?Y.map((function(e,t){return I.createElement("div",{key:t,className:at.Z["app-comp-expense-detail-operate-item"]},e)})):null))})),(0,y.Z)((0,d.Z)(p),"renderBaseInfo",(function(){var e=p.props.examineOrderDetail,t=e.applicationOrderType,a=e.inspectBillLabelList,r=void 0===a?[]:a,c=e.inspectBillErrNote,s=void 0===c?void 0:c,u=e.inspectBillState,m=void 0===u?void 0:u,f=e.inspectBillNote,y=void 0===f?void 0:f,g=e.costOrderList,h=void 0===g?[]:g,b="--";y&&(b=y),s&&(b=s);var x=!1;1!==e.applicationOrderType&&4!==e.applicationOrderType&&5!==e.applicationOrderType&&6!==e.applicationOrderType&&7!==e.applicationOrderType&&8!==e.applicationOrderType&&9!==e.applicationOrderType&&10!==e.applicationOrderType&&11!==e.applicationOrderType&&e.applicationOrderType!==S.ZBL.overTime||(x=!0),p.getPluginOrder()&&(x=!1);var Z=t<100?S.ZBL.description(t):qt.z0.titleByKey(t),E=[{label:"审批单号",form:C().get(e,"id","--")},{label:"申请人",form:C().get(e,"applyAccountInfo.name","--")},{label:"审批流程",form:C().get(e,"flowInfo.name","--")},{label:"审批类型",form:Z}],_=[];t!==S.ZBL.turnover&&S.rkq.refund!==C().get(e,"applicationSubType")&&S.rkq.invoiceAdjust!==C().get(e,"applicationSubType")&&_.push({label:"标记付款状态",form:"".concat(S.$ym.description(C().get(e,"paidState")))},{label:"付款异常说明",form:C().get(e,"paidNote","--")});var O=t===S.ZBL.cost,D=t===S.ZBL.travel,T=t===S.ZBL.housing,P=t===S.ZBL.borrowing,k=t===S.ZBL.repayments;if(O||D){var w=h.reduce((function(e,t){return e+t.totalTaxAmountAmount}),0),Y=h.reduce((function(e,t){return 1===t.type?e+t.totalMoney:e}),0);_[_.length]={label:"验票状态",form:m?S.xTp.description(m):"--"},_[_.length]={label:"验票说明",form:b},_.splice.apply(_,[2,0].concat([{label:"付款金额",form:S.fbc.exchangePriceCentToMathFormat(Y)},{label:"费用总金额",form:p.getPluginOrder()?S.fbc.exchangePriceCentToMathFormat(C().get(e,"pluginExtraMeta.total_money",0)):S.fbc.exchangePriceCentToMathFormat(C().get(e,"totalMoney",0))},{label:"总税金",form:S.fbc.exchangePriceCentToMathFormat(w)}]))}else T||P||k?_.splice(2,0,{label:"付款金额",form:p.getPluginOrder()?S.fbc.exchangePriceCentToMathFormat(C().get(e,"pluginExtraMeta.total_money",0)):S.fbc.exchangePriceCentToMathFormat(C().get(e,"totalMoney",0))}):_.splice(2,0,{label:"总金额",form:S.fbc.exchangePriceCentToMathFormat(C().get(e,"totalMoney",0))});var M=[{label:"验票标签",form:I.createElement("div",null,r.map((function(e){return I.createElement(i.Z,{key:e._id},e.name)})))}],R=C().get(e,"applicationOrderType");return I.createElement(A.IT,null,I.createElement(v.Z,{bordered:!1},I.createElement(Ht,{header:I.createElement(o.Z,null,E.map((function(e,t){return I.createElement(l.Z,{span:6,key:t},e.label,": ",e.form)})))},I.createElement(o.Z,{type:"flex",align:"middle"},I.createElement(l.Z,{span:x?22:24},I.createElement(A.KP,{items:_,cols:4,layout:{labelCol:{span:10},wrapperCol:{span:14}}}),I.createElement(A.KP,{items:M,cols:1,layout:{labelCol:{span:2},wrapperCol:{span:22}}})),x?I.createElement(l.Z,{span:2},I.createElement(n.Z,{type:"primary",onClick:p.goPrint.bind((0,d.Z)(p),e.id)},"打印")):""),Number(R)===S.ZBL.housing?I.createElement(F.Z,{contractId:C().get(e,"bizExtraHouseContractId",""),isReset:!0,isExternal:p.getPluginOrder()}):"")))})),(0,y.Z)((0,d.Z)(p),"renderFinanceListInfo",(function(){var e=p.props.examineOrderDetail.salaryPlanVersionId;return e?I.createElement(vt,{salaryPlanVersionId:e}):null})),(0,y.Z)((0,d.Z)(p),"renderSalaryLssue",(function(){var e=p.props.examineOrderDetail;if(C().get(e,"applicationOrderType")!==S.ZBL.salaryIssue)return null;var t=e.payrollStatementId;return I.createElement(Zt,{payrollStatementId:t})})),(0,y.Z)((0,d.Z)(p),"renderExamineOrderInfo",(function(){var e=p.props.businessTripData,t=p.state.activeKey,a=p.props,r=a.examineOrderDetail,n=a.examineDetail,o=a.originalCostOrder,i=a.location,l=C().get(r,"id"),c=r.pluginExtraMeta,s=void 0===c?{}:c;if(0===Object.keys(r).length||0===Object.keys(n).length||p.getPluginOrder())return null;var d=r.costOrderIds,u=r.applicationOrderType,m=[],f=[];if(e&&f.push(e),!r.payrollStatementId&&!r.salaryPlanVersionId&&u!==S.ZBL.overTime&&u!==S.ZBL.turnover){var y=I.createElement("span",{onClick:p.onChangeCollapse,className:at.Z["app-comp-expense-detail-order-info-ext"]},t.length!==d.length?"全部展开":"全部收起"),g=I.createElement("span",{onClick:p.onChangeInvoiceAjustCollapse,className:at.Z["app-comp-expense-detail-order-info-ext"]},t.length!==o.length?"全部展开":"全部收起");if(S.ZBL.borrowing===C().get(r,"applicationOrderType")){var h=C().get(r,"costOrderIds"),b=C().get(r,"loanOrderList");m.push(I.createElement("span",{key:"borrowing"},I.createElement(Ge,{orderIds:h,pluginExtraMeta:s,loanOrderList:b,dispatch:p.props.dispatch,examineDetail:n})))}else if(S.ZBL.repayments===C().get(r,"applicationOrderType")){var x=C().get(r,"costOrderIds");m.push(I.createElement("span",{key:"repayments"},I.createElement(tt,{orderIds:x,dispatch:p.props.dispatch})))}else if(S.ZBL.business===C().get(r,"applicationOrderType"))m.push(I.createElement("span",{key:"business"},I.createElement(it,{businessDetail:f})));else if(S.ZBL.takeLeave===C().get(r,"applicationOrderType")){var Z=r.extraWorkOrLeaveId;m.push(I.createElement("span",{key:"takeLeave"},I.createElement(It,{extraWorkOrLeaveId:Z,dispatch:p.props.dispatch})))}else S.ZBL.travel===C().get(r,"applicationOrderType")?d&&d.length>0&&m.push(I.createElement(A.IT,{key:"travel",title:"费用单",titleExt:y},I.createElement(v.Z,{bordered:!1,activeKey:t,onChange:p.onChangePanel},d.map((function(e,t){var a="费用单号: ".concat(e);return I.createElement(Ht,{header:a,key:"".concat(t)},I.createElement(ut,{location:i,recordId:e,examineOrderDetail:r,examineDetail:n}))}))))):S.rkq.normal===C().get(r,"applicationSubType")?d&&d.length>0&&m.push(I.createElement(A.IT,{key:"salaryRules",title:"费用单",titleExt:y},I.createElement(v.Z,{bordered:!1,activeKey:t,onChange:p.onChangePanel},d.map((function(e,t){var a="费用单号: ".concat(e);return I.createElement(Ht,{header:a,key:"".concat(t)},I.createElement(Ue,{location:i,recordId:e,examineOrderDetail:r,examineDetail:n,applicationOrderId:l}))}))))):S.rkq.normal!==C().get(r,"applicationSubType")&&o&&o.length>0&&m.push(I.createElement(A.IT,{key:"salaryRules",title:"费用单",titleExt:g},I.createElement(v.Z,{bordered:!1,activeKey:t,onChange:p.onChangePanel},o.map((function(e,t){if(C().get(r,"applicationSubType")===e.costOrderExistsRefoundRedRush){var a="费用单号: ".concat(e.id);return I.createElement(Ht,{header:a,key:"".concat(t)},I.createElement(Ue,{location:i,recordId:e.id,originalCostOrder:e,examineOrderDetail:r,examineDetail:n,applicationOrderId:l}))}return null})))));return I.createElement("div",null,m)}})),(0,y.Z)((0,d.Z)(p),"renderOverTime",(function(){var e=p.props.examineOrderDetail;return e.applicationOrderType!==S.ZBL.overTime||p.getPluginOrder()?null:I.createElement(Yt,{examineOrderDetail:e})})),(0,y.Z)((0,d.Z)(p),"renderTurnover",(function(){var e=p.props.examineOrderDetail;return e.applicationOrderType!==S.ZBL.turnover?null:I.createElement(Rt,{examineOrderDetail:e})})),(0,y.Z)((0,d.Z)(p),"renderExpenseProcess",(function(){var e=p.private.orderId,t=p.props,a=t.examineDetail,r=t.examineOrderDetail,n=t.location.query,o=p.renderOperates(),i=!1;Number(C().get(n,"approvalKey",void 0))===S.WPs.copyGive&&(i=!0);var l=h().cloneDeep(r),c=h().cloneDeep(a),s=C().get(r,"paidState");return I.createElement(Y.Z,{query:n,isTitleExt:i,paidState:s,examineDetail:c,dataSource:l,applyAccountId:r.applyAccountId,isSupportCc:r.isSupportCc,orderId:e,data:r.flowRecordList,currentFlowNode:r.currentFlowNode,extension:o,dispatch:p.props.dispatch,accountList:r.operateAccounts,fileUrlList:r.fileUrlList,onChangeCopyGiveValues:p.onChangeCopyGiveValues,copyGiveValues:p.state.copyGiveValues})})),(0,y.Z)((0,d.Z)(p),"renderAffair",(function(){var e=p.props.examineOrderDetail,t=void 0===e?{}:e,a=t.applicationOrderType,r=t.bizExtraWorkflowIds,n=void 0===r?[]:r;if(!p.getPluginOrder()){var o=n.map((function(e){return{id:e,key:a}}));return I.createElement(Ut.eN,{list:o,examineOrderDetail:t})}})),(0,y.Z)((0,d.Z)(p),"renderRelatedApprovalDetail",(function(){if(!p.getPluginOrder()){var e=p.private.orderId,t=[I.createElement(D.Z.Item,{label:"主题标签",name:"themeTag",labelCol:{span:3},wrapperCol:{span:21}},I.createElement("div",null,I.createElement(r.Z,{value:p.state.themeTags,mode:"tags",notFoundContent:"",onChange:p.onChangeThemeTags,tokenSeparators:[",","，"],className:at.Z["app-comp-expense-detail-tag-selector"],disabled:!0}),I.createElement(n.Z,{disabled:!0,type:"primary",onClick:p.onSaveThemeTags},"保存")))];return I.createElement(Vt.Z,{isType:"detail",formItemsTags:t,orderId:e})}})),(0,y.Z)((0,d.Z)(p),"renderExternalApprove",(function(){var e=p.props,t=e.examineOrderDetail,a=void 0===t?{}:t,r=e.examineDetail,n=void 0===r?{}:r,o=e.location,i=void 0===o?{}:o;if(p.getPluginOrder())return console.log("只展示外部审批单（内部审批单不显示）"),I.createElement(jt,{examineDetail:n,examineOrderDetail:a,location:i})})),(0,y.Z)((0,d.Z)(p),"renderExternalAffair",(function(){var e=p.props.examineOrderDetail,t=void 0===e?{}:e,a=t.applicationOrderType;if(p.getPluginOrder()&&a&&!p.getExpenseType(a)){var r=S.HhW[a],n=t[r]?t[r]:{},o=[{id:n._id,key:a}];return I.createElement(Ut.eN,{list:o,oaDetail:n,examineOrderDetail:t})}})),(0,y.Z)((0,d.Z)(p),"render",(function(){var e=p.props,t=e.examineOrderDetail,a=e.examineDetail;return 0===Object.keys(t).length||0===Object.keys(a)?I.createElement("div",null):I.createElement("div",null,p.renderBaseInfo(),p.renderFinanceListInfo(),p.renderSalaryLssue(),p.renderExamineOrderInfo(),p.renderOverTime(),p.renderTurnover(),p.renderRelatedApprovalDetail(),p.renderAffair(),p.renderExternalApprove(),p.renderExternalAffair(),p.renderPayeeTable(),p.renderExpenseProcess())})),p.state={examineOrderDetail:{},copyGiveValues:{},data:[],activeKey:[],themeTags:[]},p.private={orderId:C().get(e,"location.query.orderId")},p}return(0,p.Z)(a,[{key:"componentDidMount",value:function(){var e=this.private.orderId;void 0!==e&&(this.props.dispatch({type:"expenseExamineOrder/fetchExamineOrderDetail",payload:{id:e,flag:!0,onFailureCallback:this.onFailureCallback,onSuccessCallback:this.onSuccessCallbackExamineOrderDetail}}),this.props.dispatch({type:"expenseCostOrder/fetchOriginalCostOrder",payload:{orderId:e}}))}},{key:"componentWillUnmount",value:function(){void 0!==this.private.orderId&&(this.props.dispatch({type:"expenseHouseContract/resetHouseContractDetail"}),this.props.dispatch({type:"expenseExamineOrder/resetExamineOrderDetail"}))}},{key:"renderPayeeTable",value:function(){var e=this.props.examineOrderDetail,t=C().get(e,"paidState"),a=e.applicationOrderType,r=C().get(e,"totalMoney",void 0),n=C().get(e,"actualPayeeList",[]),o=C().get(e,"pluginExtraMeta",{});return x().existy(o.is_plugin_order)&&(n=C().get(e,"pluginExtraMeta.actual_payee_list",[]),r=C().get(e,"pluginExtraMeta.total_money",[])),I.createElement(I.Fragment,null,a!==S.ZBL.cost&&a!==S.ZBL.housing&&a!==S.ZBL.travel||t!==S.$ym.paid?null:I.createElement(Me.Z,{isDetail:!0,dataSource:n,money:r}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.examineOrderDetail!==t.examineOrderDetail){var a=C().get(e,"examineOrderDetail.flowRecordList.0",{}),r=C().get(e,"examineOrderDetail.pluginExtraMeta.theme_label_list",[]);return{examineOrderDetail:C().get(e,"examineOrderDetail",{}),themeTags:[].concat((0,c.Z)(C().get(e,"examineOrderDetail.themeLabelList",[])),(0,c.Z)(r)),copyGiveValues:{userNames:C().get(a,"flexibleCcAccountInfoList",[]),departmentNames:C().get(a,"flexibleCcDepartmentInfoList",[])}}}return null}}]),a}(I.Component);(0,y.Z)(Wt,"propTypes",{examineOrderDetail:O().object,examineOrdersData:O().object,businessTripData:O().object}),(0,y.Z)(Wt,"defaultProps",{examineOrderDetail:{},examineOrdersData:{},businessTripData:{}});var Gt=(0,E.connect)((function(e){var t=e.expenseExamineOrder,a=t.examineOrderDetail,r=t.examineOrdersData,n=t.businessTripData;return{examineOrderDetail:a,examineOrdersData:r,examineDetail:e.expenseExamineFlow.examineDetail,businessTripData:n,originalCostOrder:e.expenseCostOrder.originalCostOrder}}))(Wt)},89690:function(e,t,a){a(29093);var r=a(16317),n=a(67294),o=a(55609),i=r.Z.Option;t.Z=(0,o.connect)((function(e){return{invoiceList:e.expenseCostOrder.invoiceList}}))((function(e){var t=e.invoiceList,a=void 0===t?{}:t,o=e.dispatch,l=e.platform,c=e.disabled,s=void 0!==c&&c,p=e.value,d=e.onChange,u=e.isDetail,m=void 0!==u&&u,f=e.invoiceVal,y=void 0===f?void 0:f;if((0,n.useEffect)((function(){return o({type:"expenseCostOrder/getCostInvoiceHeader",payload:{platform:l}}),function(){return o({type:"expenseCostOrder/resetCostInvoiceHeader",payload:{}})}}),[l,o]),!a||Object.keys(a).length<=0||!a.data||Object.keys(a.data).length<=0)return n.createElement("div",null);var v=a.data,g=void 0===v?{}:v,h="zongbu"===l?Object.values(g):g;if(m){var b="--";return y&&(b=y),y&&Number(y)&&(b=h.find((function(e,t){return t+1===Number(y)}))),b}return n.createElement(r.Z,{allowClear:!0,showSearch:!0,placeholder:"请选择发票抬头",optionFilterProp:"children",disabled:s,value:p,onChange:d},"zongbu"===l?h.map((function(e,t){return n.createElement(i,{value:"".concat(t+1),key:t},e)})):h.map((function(e){return n.createElement(i,{value:e.name,key:e._id},e.name)})))}))},6901:function(e,t,a){var r=a(30381),n=a.n(r),o=a(67294),i=a(93517),l=a.n(i),c=a(96036),s=a(80385),p=c.KT.CoreFinderList;t.Z=function(e){var t=e.detail,a=t.tags,r=void 0===a?[]:a,i=t.duration,d=void 0===i?void 0:i,u=t.reason,m=void 0===u?void 0:u,f=t.info_address,y=void 0===f?void 0:f,v=t.start_at,g=void 0===v?void 0:v,h=t.end_at,b=void 0===h?void 0:h,x=t.working_hours,Z=void 0===x?void 0:x,C=t.file_url_list,E=void 0===C?[]:C,_=[{label:"主题标签",form:r.length>0?s.OcE.description(r[0]):"--"},{label:"标准工时",form:Z||"--"},{label:"资料地址",form:y||"--"},{label:"开始时间",form:g?n()(g).format("YYYY.MM.DD HH:mm:ss"):"--"},{label:"结束时间",form:b?n()(b).format("YYYY.MM.DD HH:mm:ss"):"--"},{label:"时长（小时）",form:d||"--"},{label:"加班事由及成果",form:o.createElement("div",{className:"noteWrap"},m||"--")},{label:"附件",form:function(e){if(Array.isArray(e)&&l().get(e,"0.file_url")){var t=e.map((function(e){return{key:e.file_name,url:e.file_url}}));return o.createElement(p,{data:t,enableTakeLatest:!1})}return"--"}(E)}];return o.createElement(c.IT,{title:"加班信息"},o.createElement(c.KP,{items:_,cols:1,layout:{labelCol:{span:4},wrapperCol:{span:20}}}))}},34800:function(e,t,a){a(13062);var r=a(71230),n=(a(89032),a(15746)),o=a(67294),i=a(96036);t.Z=function(e){var t=e.detail,a=[{label:"实际加班人",form:t.actual_apply_name||"--"}],l=[{label:"项目",form:t.platform_name||"--"},{label:"城市",form:t.city_name||"--"},{label:"团队",form:t.biz_district_name||"--"}];return o.createElement(i.IT,{title:"加班人信息"},o.createElement(r.Z,{type:"flex",align:"middle"},o.createElement(n.Z,{span:24},o.createElement(i.KP,{items:a,cols:3})),o.createElement(n.Z,{span:24},o.createElement(i.KP,{items:l,cols:3}))))}},80458:function(e,t){t.Z={"app-comp-expense-manage-common-moneywrap":"Nx6pcNgUm11iqghWZiEr","app-comp-expense-manage-common-moneyiconlight":"b6WIIy0O9bubEiHobfeY","app-comp-expense-manage-common-moneytextlight":"ZO93xNaAgThs1lhcOUFD","app-comp-expense-manage-common-moneyicongrey":"Yfp9hs2RVbKroCanlbOU",moneytextgrey:"IlV2f9ndKVq8O2xj_DNQ","label-required":"WepBEM2kyiLcqo2M48kc","app-comp-expense-manage-template-detail-refund-file":"vVXZlzycuUEqxFZT6ZAW","app-comp-expense-manage-template-detail-refund-project":"iJjjTXH01UxT4uI8TYBU","app-comp-expense-manage-template-detail-refund-share":"hug8BEVJ39ndhobBPYQX","app-comp-expense-manage-template-detail-rent-file":"hVS65iMh3yq805JVuzU2","app-comp-expense-manage-template-detail-rent":"XRqNxoBcWkMuicinHARw","app-comp-expense-manage-template-detail-travel-share":"gUQuAMoncJLPaKwo7NwZ","app-comp-expense-manage-template-detail-travel-project":"fcIlo8ZqoB4OeLkvUsUe","app-comp-expense-manage-template-records-renewal-file":"vCPUxadbE5ChWPXLXXhE","app-comp-expense-manage-template-records-sign-file":"QRRAr2P78iCVvtrW6aqg","app-comp-expense-manage-template-records-form-sign-file":"u1PvnCBSv1aHRRzOJPjz","app-comp-expense-manage-common-expense-project":"SjrKrXeaXSyEay0xzQDH","app-comp-expense-manage-common-house-info-icon":"avArGJHtbTFEzNfajQCH","app-comp-expense-manage-common-house-info":"TBK4h94NnqbJBSBg1j_G","app-comp-expense-manage-common-district":"GZD8nqvobEDCxLA4WKYR","app-comp-expense-manage-common-item":"uEbtKZBzuhvZ_DRvo8Yn","app-comp-expense-manage-cost-item":"duBhZwwhY53798zw3_hQ","app-comp-expense-manage-collection":"jiUx0n2c4spK5kLal3fV","app-comp-expense-manage-collection-adjust":"BsFGHLvsC9wtG8tjnNHU"}},31101:function(e,t){t.Z={"app-comp-expense-elem-dowload-btn":"lkqiDiSa506bBdWtuTWs","app-comp-expense-elem-hide":"ljQMFEVsLVfbbUeMZ0ri","app-comp-expense-mt-dowload-btn":"MaP3w7tuYUjXjHvkPyc5","app-comp-expense-mt-hide":"XIELznsJODyn2gsZJQo3","app-comp-expense-detail-order-info-ext":"Oddi_m6_o1qnMPfzl7PK"}}}]);