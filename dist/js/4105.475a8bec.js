"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[4105],{14105:function(e,t,a){a.r(t);a(62004);var r=a(11382),l=(a(52560),a(71577)),n=(a(9070),a(20924)),o=a(4942),i=(a(51838),a(48086)),c=a(29439),s=(a(29093),a(16317)),p=a(55609),u=a(93517),m=a.n(u),d=a(67294),f=a(66939),b=(a(98703),a(88144)),y=a(96036),g=a(80385),h=a(29401);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,o.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=s.Z.Option;t.default=(0,p.connect)((function(e){var t=e.supplierManage.supplierDetail;return{editRecord:void 0===t?{}:t}}))(f.Z.create()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,a=e.location,o=e.editRecord,p=void 0===o?{}:o,u=e.form,E=void 0===u?{}:u,A=a.query.id,C=(0,d.useState)(!!A),O=(0,c.Z)(C,1),Z=O[0],P=(0,d.useState)([]),S=(0,c.Z)(P,2),D=S[0],k=S[1],F=(0,d.useState)(!1),I=(0,c.Z)(F,2),j=I[0],B=I[1],V=function(){E.validateFields((function(e,t){if(e)return i.ZP.error("添加失败,有未填数据",e);K(!0),Z?M(t):q(t)}))},q=function(e){var a=w(w({},e),{},{onSuccessCallback:T,onDefeatCallback:_});t({type:"supplierManage/createSupplier",payload:a})},M=function(t){var a=t.name,r=t.customId,l={recordId:p._id,state:p.state,name:a,customId:r,onSuccessCallback:T,onDefeatCallback:_};e.dispatch({type:"supplierManage/updateSupplier",payload:l})},T=function(){K(!1),window.location.href="#/System/Supplier/Manage"},_=function(){K(!1)},W=function(e){if(!e)return k([]);k(e),E.setFieldsValue({cities:void 0})},K=function(e){B(e)},N=function(){var e=E.getFieldDecorator,t=Z?p:{},a=[{label:"供应商名称",form:e("name",{rules:[{required:!0,message:"请填写供应商名称"}],initialValue:m().get(t,"name")})(d.createElement(n.Z,{placeholder:"请填写供应商名称"}))},{label:"供应商ID",form:e("customId",{rules:[{required:!0,message:"请填写供应商ID"}],initialValue:m().get(t,"supplier_id")})(d.createElement(n.Z,{placeholder:"请填写供应商ID"}))},{label:"统一社会信用代码",layout:{labelCol:{span:12},wrapperCol:{span:12}},form:e("creditNo",{rules:[{required:!0,message:"请填写内容"}],initialValue:m().get(t,"credit_no")})(d.createElement(n.Z,{placeholder:"请填写内容",disabled:Z}))}];return d.createElement(y.IT,{title:"基本信息",style:{backgroundColor:"#FAFAFA"}},d.createElement(y.KP,{items:a,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}}))},U=function(){var t=e.form.getFieldDecorator,a=Z?p:{},r=[{label:"平台",form:t("platforms",{rules:[{required:!0,message:"请选择平台"}],initialValue:m().get(a,"platform_code","")})(d.createElement(b.Yg,{allowClear:!0,showSearch:!0,optionFilterProp:"children",placeholder:"请选择平台",onChange:W,disabled:Z}))},{label:"城市",form:t("cities",{rules:[{required:!0,message:"请选择城市"}],initialValue:m().get(a,"city_list",[]).map((function(e){return e.city_name}))})(d.createElement(b.Wn,{allowClear:!0,showSearch:!0,enableSelectAll:!0,mode:"multiple",showArrow:!0,optionFilterProp:"children",placeholder:"请选择城市",platforms:D,disabled:D.length<=0||Z}))}];Z&&r.push({label:"状态",form:t("state",{rules:[{required:!0,message:"请选择状态"}],initialValue:g.Acu.description(m().get(a,"state",""))})(d.createElement(s.Z,{placeholder:"请选择状态",disabled:!0},d.createElement(v,{value:"".concat(g.Acu.enable)},g.Acu.description(g.Acu.enable)),d.createElement(v,{value:"".concat(g.Acu.stoped)},g.Acu.description(g.Acu.stoped))))});return d.createElement(y.IT,{title:"业务范围",style:{backgroundColor:"#FAFAFA"}},d.createElement(y.KP,{items:r,cols:4,layout:{labelCol:{span:8},wrapperCol:{span:16}}}))};return d.createElement(f.Z,{layout:"horizontal"},d.createElement(r.Z,{spinning:j},N(),U(),d.createElement(y.IT,{style:{textAlign:"center"}},d.createElement(l.Z,{onClick:function(){return window.location.href="#/System/Supplier/Manage"},className:h.Z["app-comp-system-form-submit-btn"]},"返回"),d.createElement(l.Z,{type:"primary",onClick:V},"提交"))))})))},29401:function(e,t){t.Z={"app-comp-system-detail-stoped-title":"ksyllvX0nI8pe3ET7Vwy","app-comp-system-title":"XxbfF22BPlE8h6AEBYDd","app-comp-system-line":"IaPUI9qzA92bT4rU4MBs","app-comp-system-detail-enable-title":"uRJK03eNaQlC4rD6YDZ0","app-comp-system-detail-operate-btn":"TBzeeWmVN6i1OYFudBUx","app-comp-system-form-submit-btn":"SMWMu62_PAuaIEsKeBet","app-comp-system-supplier-operate-btn":"oELKpAmWEP8W3rW0UtBT"}}}]);