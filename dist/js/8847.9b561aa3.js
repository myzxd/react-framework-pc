"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[8847],{85057:function(e,t,n){n(52466);var a=n(10642),r=(n(52560),n(71577)),o=(n(20186),n(75385)),c=n(29439),i=(n(9523),n(51752)),l=n(55609),u=n(67294),d=i.Z.TabPane,s="code",m="team_code",f="ac_code";t.Z=(0,l.connect)((function(e){return{strategyGroupList:e.accountManage.strategyGroupList}}))((function(e){var t=e.visible,n=e.onCancel,l=e.strategyGroupId,p=e.dispatch,y=e.strategyGroupList,_=void 0===y?{}:y,v=(0,u.useState)(s),E=(0,c.Z)(v,2),g=E[0],b=E[1],I=(0,u.useState)(!0),Z=(0,c.Z)(I,2),k=Z[0],x=Z[1];(0,u.useEffect)((function(){return l&&p({type:"accountManage/getStrategyGroupList",payload:{strategyGroupId:l,onSuccessCallback:function(){return x(!1)}}}),function(){p({type:"accountManage/resetStrategyGroupList",payload:{}})}}),[p,l]);var h,w,C,j,S,G,D=function(){p({type:"accountManage/resetStrategyGroupList",payload:{}}),x(!0),b(s),n&&n()},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"code",n=s;t===s&&(n=s),t===m&&(n=m),t===f&&(n=f);var a=[{title:"名称",dataIndex:"name",width:120},{title:"编码",dataIndex:n,width:120,render:function(e){return e||"--"}}];return u.createElement(o.Z,{rowKey:function(e,t){return t},dataSource:e,columns:a,loading:k,pagination:!1,bordered:!0,scroll:{y:300}})},L=u.createElement(r.Z,{onClick:D},"关闭");return u.createElement(a.Z,{title:"策略组预览",visible:t,onCancel:D,width:710,footer:L},(h=_.code_acl,w=void 0===h?[]:h,C=_.team_acl,j=void 0===C?[]:C,S=_.ac_acl,G=void 0===S?[]:S,u.createElement(i.Z,{activeKey:g,onChange:function(e){return b(e)}},u.createElement(d,{tab:"code",key:s},M(w,s)),u.createElement(d,{tab:"team",key:m},M(j,m)),u.createElement(d,{tab:"科目",key:f},M(G,f)))))}))},88847:function(e,t,n){n.r(t);n(20186);var a=n(75385),r=n(87462),o=(n(35668),n(86585)),c=n(29439),i=n(93517),l=n.n(i),u=n(94315),d=n.n(u),s=n(67294),m=n(55609),f=n(96036),p=n(85057),y=n(97116);t.default=(0,m.connect)((function(e){return{accountDetail:e.accountManage.accountDetail}}))((function(e){var t=y.Iq.account.id,n=e.dispatch,i=e.accountDetail,u=(0,s.useState)(!1),m=(0,c.Z)(u,2),_=m[0],v=m[1],E=(0,s.useState)(void 0),g=(0,c.Z)(E,2),b=g[0],I=g[1];(0,s.useEffect)((function(){return n({type:"accountManage/fetchAccountsDetails",payload:{id:t}}),function(){n({type:"accountManage/resetAccountsDetails"})}}),[n,t]);var Z,k,x,h=function(e){I(e),v(!0)},w=function(){I(void 0),v(!1)};return s.createElement(o.Z,null,(x=[s.createElement(o.Z.Item,{label:"姓名"},i.name||"--"),s.createElement(o.Z.Item,{label:"手机号"},i.phone||"--")],s.createElement(f.IT,{title:"个人信息"},s.createElement(f.Fp,{items:x,cols:2}))),function(){var e=i.role_names||[],t=[s.createElement(o.Z.Item,{label:"角色"},e.join("/ ")||"--")];return s.createElement(f.IT,{title:"账号角色信息"},s.createElement(f.Fp,{items:t,cols:1}))}(),function(){var e=(i.employee_info||{}).biz_data_business_info||{},t=e.platform_list,n=void 0===t?[]:t,a=e.suppliers_with_platform,c=void 0===a?[]:a,l=e.city_list,u=void 0===l?[]:l,m=i.is_admin,p="--",_="--",v="--";!0===m&&(p="全量数据",_="全量数据",v="全量数据"),!1===m&&d().existy(n)&&d().not.empty(n)&&(p=n.map((function(e){return Object.values(e)[0]})).join(", ")),!1===m&&d().existy(c)&&d().not.empty(c)&&(_=c.map((function(e){var t=Object.values(e)[0],n=y.P6.dotOptimal(e,"platform_info.platform_name",void 0);return n?"".concat(t,"（").concat(n,"）"):t})).join(", ")),!1===m&&d().existy(u)&&d().not.empty(u)&&(v=u.map((function(e){return Object.values(e)[0]})).join(", "));var E={labelCol:{span:2},wrapperCol:{span:20}},g=[s.createElement(o.Z.Item,(0,r.Z)({label:"平台"},E),p||"--"),s.createElement(o.Z.Item,(0,r.Z)({label:"供应商"},E),_||"--"),s.createElement(o.Z.Item,(0,r.Z)({label:"城市"},E),v||"--")];return s.createElement(f.IT,{title:"业务权限信息"},s.createElement(f.Fp,{items:g,cols:1}))}(),(Z=l().get(e.accountDetail,"code_biz_group_infos",[]),k=[{title:"数据策略组",dataIndex:"name",key:"name",width:200,render:function(e){return e||"--"}},{title:"code信息",dataIndex:"code_names",key:"code_names",render:function(e){return d().not.existy(e)||d().empty(e)?"--":e.join(", ")}},{title:"team信息",dataIndex:"team_names",key:"team_names",render:function(e){return d().not.existy(e)||d().empty(e)?"--":e.join(", ")}},{title:"科目",dataIndex:"ac_names",key:"ac_names",render:function(){return"全部"}},{title:"操作",key:"operate",render:function(e,t){return s.createElement("a",{onClick:function(){return h(t._id)}},"预览")}}],s.createElement(f.IT,{title:"角色数据授权"},s.createElement(a.Z,{rowKey:function(e,t){return e._id||t},dataSource:Z,columns:k,bordered:!0,pagination:!1,scroll:{y:400}}))),function(){var t=l().get(e.accountDetail,"allow_biz_group_infos",[]),n=[{title:"数据策略组",dataIndex:"name",key:"name",width:200,render:function(e){return e||"--"}},{title:"code信息",dataIndex:"code_names",key:"code_names",render:function(e){return d().not.existy(e)||d().empty(e)?"--":e.join(", ")}},{title:"team信息",dataIndex:"team_names",key:"team_names",render:function(e){return d().not.existy(e)||d().empty(e)?"--":e.join(", ")}},{title:"科目",dataIndex:"ac_names",key:"ac_names",render:function(){return"全部"}},{title:"操作",key:"operate",render:function(e,t){return s.createElement("a",{onClick:function(){return h(t._id)}},"预览")}}];return s.createElement(f.IT,{title:"特殊数据授权"},s.createElement(a.Z,{dataSource:t,columns:n,bordered:!0,scroll:{y:400},pagination:!1}))}(),function(){if(_)return s.createElement(p.Z,{strategyGroupId:b,visible:_,onCancel:w})}())}))}}]);