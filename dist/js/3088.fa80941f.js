"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[3088],{73088:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});n(52560);var a=n(71577),l=(n(62004),n(11382)),r=n(29439),i=n(67294),c=n(55609),s=n(68607),o=n.n(s),d=n(93517),m=n.n(d),y=n(30381),p=n.n(y),E=n(80385),f=n(15873),g=n(73218),_=n(33453),v=function(e){var t,n,a=e.orderRecordList,l=void 0===a?[]:a,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.flow_node_id,n=void 0===t?void 0:t,a=e.state;return n||a!==E.iH$.close?n?a===E.iH$.approve?"#29ab58":a===E.iH$.reject||a===E.iH$.close||a===E.iH$.recall?"#d00218":"#F5A623":"#595959":"#d00218"},c=function(e,t){var n,a=e.done_at,l=e.note,c=e.order_flow_extra_list,s=void 0===c?[]:c,o=e.flow_node_id;return i.createElement("div",{style:{borderLeft:o?"1px solid #e4e4e4":"",marginLeft:9,paddingLeft:16,width:"100%",paddingBottom:16,minHeight:40},key:t},i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:{width:"35%",color:"#323232",fontSize:14,lineHeight:"40px"}},function(e){var t=e.state,n=e.account_info,a=void 0===n?{}:n,l=e.enable_account_list,r=void 0===l?[]:l;if(t===E.iH$.pendding){var c="";return Array.isArray(r)&&(c=i.createElement("span",null,r.slice(0,3).map((function(e){return e.name})).join("、"))),c}return m().get(a,"name")}(e)),i.createElement("div",{style:{width:"30%",lineHeight:"40px",textAlign:"center",fontSize:12}},a?p()(a).format("YYYY-MM-DD HH:mm:ss"):"--"),i.createElement("div",{style:{width:"35%",fontSize:12,color:r(e),lineHeight:"40px",textAlign:"center"}},function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).account_info,t=void 0===e?{}:e;return!t||Object.keys(t).length<1?"":m().get(t,"name","")}(e)," ",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=e.flow_node_id,a=void 0===n?void 0:n,l=e.reject_to_node_id,r=e.reject_to_node_info,i=void 0===r?{}:r;return t===E.iH$.close?"已关闭":a||t!==E.iH$.approve?a||t===E.iH$.approve?t===E.iH$.approve?"已审核":t===E.iH$.reject&&l&&m().get(i,"name")?"驳回至 ".concat(m().get(i,"name")):t!==E.iH$.reject||l?t===E.iH$.recall?"已撤回":"待处理":"驳回至申请人":"待提报":"提报"}(e))),i.createElement("div",null,l?i.createElement("div",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word",width:"100%",fontSize:12,color:"#bababa"}},"意见：".concat(l)):""),!(n=s)||!Array.isArray(n)||n.length<1?"":i.createElement("div",{style:{marginLeft:12,marginTop:10}},i.createElement("div",{style:{height:20,lineHeight:"20px",color:"#333"}},"补充意见"),n.map((function(e,t){return i.createElement("div",{key:t,style:{borderBottom:"1px solid #e2e2e2",padding:"20px 0"}},i.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},i.createElement("span",{style:{fontSize:14,color:"#323232"}},m().get(e,"creator_info.name")),i.createElement("span",{style:{marginRight:10}},e.created_at?p()(e.created_at).format("YYYY-MM-DD HH:mm:ss"):"")),i.createElement("p",{style:{marginLeft:5,color:"#000",opacity:"0.6",fontSize:12,whiteSpace:"pre-wrap"}},e.content),m().get(e,"asset_list",[]).length>0?i.createElement("div",{style:{display:"flex"}},i.createElement("span",null,"附件"),i.createElement("div",null,m().get(e,"asset_list",[]).map((function(e,t){return i.createElement("p",{key:t},e.file_name)})))):"")}))))},s=function(e,t){return i.createElement("div",{key:t},i.createElement("div",{style:{height:28,lineHeight:"28px",display:"flex"}},(n=e.map((function(e){return e.state})),a=i.createElement(f.Z,{style:{color:"rgb(164,204,178)",fontSize:"18px"}}),(n.includes(E.iH$.reject)||n.includes(E.iH$.recall)||n.includes(E.iH$.close))&&(a=i.createElement(g.Z,{style:{color:"rgb(243,27,40)",fontSize:"18px"}})),n.includes(E.iH$.pendding)&&(a=i.createElement(_.Z,{style:{color:"rgb(240,149,27)",fontSize:"18px"}})),i.createElement("div",null,a)),i.createElement("div",{style:{borderBottom:"1px solid #e4e4e4",lineHeight:"20px",color:"#bababa",fontSize:12,height:20,width:"100%",marginLeft:12}},m().get(e,"0.flow_node_info.name","提报节点"))),e.map((function(e,t){return c(e,t)})));var n,a};return!l||!Array.isArray(l)||l.length<1?"":i.createElement("div",null,i.createElement("p",{style:{borderBottom:"1px solid rgb(204,204,204)",paddingBottom:10,fontWeight:500,fontSize:14,margin:"10px 5px 0 0"}},"审核记录详情"),(t=l,n=[],t.reduce((function(e,t){if(e[t.flow_node_id]){var a=e[t.flow_node_id].length;e[t.flow_node_id][a]=t}else(e={})[t.flow_node_id]=[t],n[n.length]=e[t.flow_node_id];return e}),{}),n).map((function(e,t){return s(e,t)})))},h=function(e){var t,n,a,l,r,c,s,o,d,y,f,g,_=e.detail,h=void 0===_?{}:_,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return{};var t={province:e.province_name,city:e.city_name,area:e.area_name};return e.detailed_address&&(t.detailed_address=e.detailed_address),t},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(t&&!(Object.keys(t).length<1)||e&&Array.isArray(e)))return[];var n=e.length>0?e:[t],a=n.map((function(e){var t={province:e.province_name,city:e.city_name,area:e.area_name};return e.detailed_address&&(t.detailed_address=e.detailed_address),t}));return a},b=function(e){var t=e.payee_list,n=void 0===t?[]:t;if(!n||!Array.isArray(n)||n.length<1)return"无";var a={color:"rgba(0, 0, 0, .85)",fontWeight:500,border:"1px solid #f0f0f0",padding:"16px 8px"},l={color:"rgba(0, 0, 0, .65)",border:"1px solid #f0f0f0",padding:"16px 8px"};return i.createElement("div",null,i.createElement("table",{style:{borderCollapse:"collapse",width:"100%",marginBottom:10}},i.createElement("tr",null,i.createElement("td",{style:a},"收款人"),i.createElement("td",{style:a},"付款方式"),i.createElement("td",{style:a},"银行卡号"),i.createElement("td",{style:a},"开户支行"),i.createElement("td",{style:a},"金额（元）"),i.createElement("td",{style:a},"手机号")),n.map((function(e,t){var n=e.card_name,a=e.card_phone,r=e.card_num,c=e.bank_details,s=e.money,o=e.payee_type;return i.createElement("tr",{key:t},i.createElement("td",{style:l},n),i.createElement("td",{style:l},o?E.vaC.description(o):"--"),i.createElement("td",{style:l},r),i.createElement("td",{style:l},c),i.createElement("td",{style:l},s>=0?E.fbc.exchangePriceCentToMathFormat(s):"--"),i.createElement("td",{style:l},a))}))))},w=function(e){var t=e.cost_bill_list,n=void 0===t?[]:t,a=e.total_cost_bill_amount,l=void 0===a?0:a,r=e.total_tax_amount_amount,c=void 0===r?0:r,s=e.total_tax_deduction_amount,o=void 0===s?0:s;if(!n||!Array.isArray(n)||n.length<1)return"无";var d={color:"rgba(0, 0, 0, .85)",fontWeight:500,border:"1px solid #f0f0f0",padding:"16px 8px"},m={color:"rgba(0, 0, 0, .65)",border:"1px solid #f0f0f0",padding:"16px 8px"},y={fontSize:12,minHeight:32,lineHeight:"32px",width:"33.33%",display:"flex"},p={width:"50%",textAlign:"right"},f={width:"47%",color:"#666",fontWeight:500,wordBreak:"break-word"};return i.createElement("div",null,i.createElement("table",{style:{borderCollapse:"collapse",width:"100%",marginBottom:10}},i.createElement("tr",null,i.createElement("td",{style:d},"发票编号"),i.createElement("td",{style:d},"发票类型"),i.createElement("td",{style:d},"发票金额（元）"),i.createElement("td",{style:d},"费用金额（元）"),i.createElement("td",{style:d},"税率"),i.createElement("td",{style:d},"税金（元）")),n.map((function(e,t){var n=e.code,a=void 0===n?void 0:n,l=e.type,r=void 0===l?void 0:l,c=e.money,s=void 0===c?0:c,o=e.tax_rate,d=void 0===o?void 0:o,y=e.tax_amount,p=void 0===y?0:y,f=e.tax_deduction,g=void 0===f?0:f;return i.createElement("tr",{key:t},i.createElement("td",{style:m},a),i.createElement("td",{style:m},r?E.R4S.description(r):"--"),i.createElement("td",{style:m},E.fbc.exchangePriceCentToMathFormat(s)),i.createElement("td",{style:m},E.fbc.exchangePriceCentToMathFormat(g)),i.createElement("td",{style:m},void 0!==d?E.vU.description(d):"--"),i.createElement("td",{style:m},E.fbc.exchangePriceCentToMathFormat(p)))}))),i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:y},i.createElement("span",{style:p},"发票总金额："),i.createElement("span",{style:f},E.fbc.exchangePriceCentToMathFormat(l),"元")),i.createElement("div",{style:y},i.createElement("span",{style:p},"费用总金额："),i.createElement("span",{style:f},E.fbc.exchangePriceCentToMathFormat(o),"元")),i.createElement("div",{style:y},i.createElement("span",{style:p},"总税金："),i.createElement("span",{style:f},E.fbc.exchangePriceCentToMathFormat(c),"元"))))},H=function(e,t){var n={fontSize:12,minHeight:32,lineHeight:"32px",width:"20%",display:"flex"},a={width:"55%",textAlign:"right"},l={width:"45%",color:"#666",fontWeight:500,wordBreak:"break-word"},r=e.travel_fee_extra_data,c=void 0===r?{}:r,s=c.subsidy_fee,o=c.stay_fee,d=c.transport_fee,y=c.urban_transport_fee,p=c.other_fee;return i.createElement("div",{style:{fontSize:12,minHeight:32,lineHeight:"32px",width:"100%"}},i.createElement("div",null,"差旅费用明细：",t?i.createElement("span",{style:{fontWeight:400,marginLeft:10}},"明细超标将会用红色字体显示"):""),i.createElement("div",{style:{width:"100%",display:"flex",flexWrap:"wrap"}},i.createElement("div",{style:n},i.createElement("span",{style:a},"补助："),i.createElement("span",{style:l},i.createElement("span",{style:{color:t&&m().get(c,"is_out_subsidy_fee",!1)?"red":""}},E.fbc.exchangePriceCentToMathFormat(s)),"元")),i.createElement("div",{style:n},i.createElement("span",{style:a},"住宿："),i.createElement("span",{style:l},i.createElement("span",{style:{color:t&&m().get(c,"is_out_stay_fee",!1)?"red":""}},E.fbc.exchangePriceCentToMathFormat(o)),"元")),i.createElement("div",{style:n},i.createElement("span",{style:a},"市内交通费："),i.createElement("span",{style:l},E.fbc.exchangePriceCentToMathFormat(y),"元")),t&&m().get(c,"high_speed_train_fee")?i.createElement("div",{style:n},i.createElement("span",{style:a},"动车/高铁交通费："),i.createElement("span",{style:l},E.fbc.exchangePriceCentToMathFormat(m().get(c,"high_speed_train_fee")),"元")):"",t&&m().get(c,"aircraft_fee")?i.createElement("div",{style:n},i.createElement("span",{style:a},"飞机交通费："),i.createElement("span",{style:l},E.fbc.exchangePriceCentToMathFormat(m().get(c,"aircraft_fee")),"元")):"",t&&m().get(c,"train_ordinary_soft_sleeper_fee")?i.createElement("div",{style:n},i.createElement("span",{style:a},"普通软卧交通费："),i.createElement("span",{style:l},E.fbc.exchangePriceCentToMathFormat(m().get(c,"train_ordinary_soft_sleeper_fee")),"元")):"",t&&m().get(c,"bus_fee")?i.createElement("div",{style:n},i.createElement("span",{style:a},"客车交通费："),i.createElement("span",{style:l},E.fbc.exchangePriceCentToMathFormat(m().get(c,"bus_fee")),"元")):"",t&&m().get(c,"self_driving_fee")?i.createElement("div",{style:n},i.createElement("span",{style:a},"自驾交通费："),i.createElement("span",{style:l},E.fbc.exchangePriceCentToMathFormat(m().get(c,"self_driving_fee")),"元")):"",t?d?i.createElement("div",{style:n},i.createElement("span",{style:a},"往返交通费："),i.createElement("span",{style:l},E.fbc.exchangePriceCentToMathFormat(d),"元")):"":i.createElement("div",{style:n},i.createElement("span",{style:a},"往返交通费："),i.createElement("span",{style:l},E.fbc.exchangePriceCentToMathFormat(d),"元")),t?p?i.createElement("div",{style:n},i.createElement("span",{style:a},"其他："),i.createElement("span",{style:l},E.fbc.exchangePriceCentToMathFormat(p),"元")):"":i.createElement("div",{style:n},i.createElement("span",{style:a},"其他："),i.createElement("span",{style:l},E.fbc.exchangePriceCentToMathFormat(p),"元"))))};return i.createElement("div",{style:{borderBottom:"2px dashed #000",margin:"0 10px"}},(r=h.state,c=h.paid_state,s=h.inspect_bill_state,o={fontSize:12,minHeight:32,lineHeight:"32px",width:"25%",display:"flex"},d={fontSize:12,minHeight:32,lineHeight:"32px",width:"33.33%",display:"flex"},y={width:"40%",textAlign:"right"},f={width:"58%",color:"#666",fontWeight:500,wordBreak:"break-word"},g={width:"67%",color:"#666",fontWeight:500,wordBreak:"break-word"},i.createElement("div",{style:{borderBottom:"1px solid rgb(204,204,204)",marginBottom:10}},i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:o},i.createElement("span",{style:y},"申请人："),i.createElement("span",{style:f},m().get(h,"apply_account_info.name","--"))),i.createElement("div",{style:o},i.createElement("span",{style:y},"部门："),i.createElement("span",{style:f},m().get(h,"department_job_info.department_info.name","--"))),i.createElement("div",{style:o},i.createElement("span",{style:y},"岗位："),i.createElement("span",{style:f},m().get(h,"department_job_info.job_info.name","--"))),i.createElement("div",{style:o},i.createElement("span",{style:y},"职级："),i.createElement("span",{style:f},m().get(h,"department_job_info.job_info.rank","--")))),i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:d},i.createElement("span",{style:y},"审批标题："),i.createElement("span",{style:g},m().get(h,"name","--"))),i.createElement("div",{style:d},i.createElement("span",{style:y},"审批单号："),i.createElement("span",{style:g},m().get(h,"_id","--"))),i.createElement("div",{style:d},i.createElement("span",{style:y},"审批流："),i.createElement("span",{style:g},m().get(h,"flow_info.name","--")))),i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:d},i.createElement("span",{style:y},"流程状态："),i.createElement("span",{style:g},r?E.DU5.description(r):"--")),i.createElement("div",{style:d},i.createElement("span",{style:y},"付款状态："),i.createElement("span",{style:g},c?E.rTI.description(c):"--")),i.createElement("div",{style:d},i.createElement("span",{style:y},"验票状态："),i.createElement("span",{style:g},s?E.A1w.description(s):"--")),i.createElement("div",{style:d},i.createElement("span",{style:y},"记账月份："),i.createElement("span",{style:g},m().get(h,"belong_month",void 0)||"付款月份"))))),function(){var e={display:"flex",fontSize:12,minHeight:32,lineHeight:"32px"},t={width:"10%",textAlign:"right"},n={color:"#666",fontWeight:500,width:"88%",wordBreak:"break-word"};return i.createElement("div",{style:{borderBottom:"1px solid rgb(204,204,204)",marginBottom:10}},i.createElement("div",{style:e},i.createElement("span",{style:t},"主题标签："),i.createElement("span",{style:n},m().get(h,"theme_label_list",[]).map((function(e){return e})).join(" 、 "))),i.createElement("div",{style:e},i.createElement("span",{style:t},"验票标签："),i.createElement("span",{style:n},m().get(h,"inspect_bill_label_list",[]).map((function(e){return e.name})).join(" 、 "))),i.createElement("div",{style:e},i.createElement("span",{style:t},"付款明细："),i.createElement("span",{style:n},function(){var e=h.actual_payee_list,t=void 0===e?[]:e;if(!t||!Array.isArray(t)||t.length<1)return"无";var n=t.reduce((function(e,t){return e+t.money}),0),a={color:"rgba(0, 0, 0, .85)",fontWeight:500,border:"1px solid #f0f0f0",padding:"16px 8px"},l={color:"rgba(0, 0, 0, .65)",border:"1px solid #f0f0f0",padding:"16px 8px"};return i.createElement("div",null,i.createElement("div",{style:{textAlign:"right"}},"付款合计金额：".concat(E.fbc.exchangePriceCentToMathFormat(n))),i.createElement("table",{style:{borderCollapse:"collapse",width:"90%",marginBottom:10}},i.createElement("tr",null,i.createElement("td",{style:a},"收款人"),i.createElement("td",{style:a},"银行卡号"),i.createElement("td",{style:a},"开户支行"),i.createElement("td",{style:a},"金额（元）"),i.createElement("td",{style:a},"付款方式")),m().get(h,"actual_payee_list",[]).map((function(e,t){var n=e.card_name,a=e.card_phone,r=e.card_num,c=e.bank_details,s=e.money,o=e.payee_type;return i.createElement("tr",{key:t},i.createElement("td",{style:l},n,a||""),i.createElement("td",{style:l},r),i.createElement("td",{style:l},c),i.createElement("td",{style:l},s>=0?E.fbc.exchangePriceCentToMathFormat(s):"--"),i.createElement("td",{style:l},o?E.vaC.description(o):"--"))}))))}())))}(),(n=h.template_type,a=h.costOrderList,l=(void 0===a?[]:a).find((function(e){return e.travel_order_type===E.coV.oa})),n===E.fz4.travel?l?function(e){var t=h.costOrderList,n=void 0===t?[]:t;if(!n||!Array.isArray(n)||n.length<1)return"";var a={fontSize:12,minHeight:32,lineHeight:"32px",width:"33.33%",display:"flex"},l={width:"50%",textAlign:"right"},r={width:"47%",color:"#666",fontWeight:500,wordBreak:"break-word"},c={fontSize:12,minHeight:32,lineHeight:"32px",width:"100%",display:"flex"},s={width:"10%",textAlign:"right"},o={color:"#666",fontWeight:500,width:"88%"},d={fontSize:12,minHeight:32,lineHeight:"32px",width:"50%",display:"flex"},y={width:"30%",textAlign:"right"},f={color:"#666",fontWeight:500,width:"68%"};return i.createElement("div",null,i.createElement("p",{style:{borderBottom:"1px solid rgb(204,204,204)",paddingBottom:10,fontWeight:500,fontSize:14}},"费用单"),n.map((function(t,n){var g=t.travel_order_info,_=void 0===g?{}:g;if(!_)return"";var v="--";m().get(t,"cost_center_type")===E.Xr3.code&&(v=m().get(t,"biz_code_info.name","--")),m().get(t,"cost_center_type")===E.Xr3.team&&(v=m().get(t,"biz_team_info.name","--"));var h=_.expect_start_at,k=_.expect_done_at,z=_.actual_start_at,M=_.actual_done_at,C=_.departure,A=_.destination_list,B=_.destination,S=h&&k?"".concat(p()(h).format("YYYY.MM.DD HH:00")," - ").concat(p()(k).format("YYYY.MM.DD HH:00")):"--",Y=z&&M?"".concat(p()(z).format("YYYY.MM.DD HH:00")," - ").concat(p()(M).format("YYYY.MM.DD HH:00")):"--";return i.createElement("div",{key:n,style:{borderBottom:"1px solid rgb(204,204,204)",mariginBottom:"12px",paddingBottom:10}},i.createElement("div",{style:c},i.createElement("span",{style:s},"费用单号："),i.createElement("span",{style:o},t._id)),i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:a},i.createElement("span",{style:l},"出差单号："),i.createElement("span",{style:r},_._id)),i.createElement("div",{style:a},i.createElement("span",{style:l},"实际出差人："),i.createElement("span",{style:r},m().get(_,"apply_user_name","--"))),i.createElement("div",{style:a},i.createElement("span",{style:l},"部门："),i.createElement("span",{style:r},m().get(_,"department_info.name","--")))),i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:a},i.createElement("span",{style:l},"岗位："),i.createElement("span",{style:r},m().get(_,"job_info.name","--"))),i.createElement("div",{style:a},i.createElement("span",{style:l},"职级："),i.createElement("span",{style:r},m().get(_,"work_level","--")))),i.createElement("div",{style:c},i.createElement("span",{style:s},"预计出差时间："),i.createElement("span",{style:o},S)),i.createElement("div",{style:c},i.createElement("span",{style:s},"出发地："),i.createElement("span",{style:o},Object.values(u(C)).join("-"))),i.createElement("div",{style:c},i.createElement("span",{style:s},"目的地："),i.createElement("span",{style:o},x(A,B).map((function(e){return Object.values(e).join("-")})).join(" 、"))),i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:d},i.createElement("span",{style:y},"实际出差时间："),i.createElement("span",{style:f},Y)),i.createElement("div",{style:d},i.createElement("span",{style:y},"出差天数："),i.createElement("span",{style:f},m().get(_,"actual_apply_days","--"),m().get(_,"actual_apply_days")>m().get(_,"expect_apply_days")?i.createElement("span",null,"（",i.createElement("span",{style:{color:"red"}},"申请出差天数：",m().get(_,"expect_apply_days"),"天"),"）"):""))),i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:d},i.createElement("span",{style:y},"科目："),i.createElement("span",{style:f},m().get(t,"biz_account_info.name","--"),m().get(t,"biz_account_info.ac_code")?"(".concat(m().get(t,"biz_account_info.ac_code"),")"):"")),i.createElement("div",{style:d},i.createElement("span",{style:y},"核算中心："),i.createElement("span",{style:f},v))),H(t,e),i.createElement("div",{style:c},i.createElement("span",{style:s},"提报金额："),i.createElement("span",{style:o},E.fbc.exchangePriceCentToMathFormat(m().get(t,"total_money",0)),"元")),i.createElement("div",{style:c},i.createElement("span",{style:s},"发票抬头："),i.createElement("span",{style:o},t.invoice_title)),i.createElement("div",{style:c},i.createElement("span",{style:s},"事项说明："),i.createElement("span",{style:o},t.note||"--")),i.createElement("div",{style:c},i.createElement("span",{style:s},"附件："),i.createElement("span",{style:o},m().get(t,"attachment_private_urls",[]).map((function(e,t){return i.createElement("p",{key:t},e.file_name)})))),i.createElement("div",{style:c},i.createElement("span",{style:s},"收款信息："),i.createElement("span",{style:o},b(t))),i.createElement("div",{style:c},i.createElement("span",{style:s},"发票信息："),i.createElement("span",{style:o},w(t))))})))}(l):function(){var e=h.costOrderList,t=void 0===e?[]:e;if(!t||!Array.isArray(t)||t.length<1)return"";var n={fontSize:12,minHeight:32,lineHeight:"32px",width:"33.33%",display:"flex"},a={width:"50%",textAlign:"right"},l={width:"47%",color:"#666",fontWeight:500,wordBreak:"break-word"},r={fontSize:12,minHeight:32,lineHeight:"32px",width:"100%",display:"flex"},c={width:"10%",textAlign:"right"},s={color:"#666",fontWeight:500,width:"88%"},o={fontSize:12,minHeight:32,lineHeight:"32px",width:"33.33%",display:"flex"},d={width:"30%",textAlign:"right"},y={color:"#666",fontWeight:500,width:"68%"};return i.createElement("div",null,i.createElement("p",{style:{borderBottom:"1px solid rgb(204,204,204)",paddingBottom:10,fontWeight:500,fontSize:14}},"费用单"),t.map((function(e,t){var f=e.travel_order_info,g=void 0===f?{}:f;if(!g)return"";var _="--";m().get(e,"cost_center_type")===E.Xr3.code&&(_=m().get(e,"biz_code_info.name","--")),m().get(e,"cost_center_type")===E.Xr3.team&&(_=m().get(e,"biz_team_info.name","--"));var v=g.expect_start_at,h=g.expect_done_at,k=g.actual_start_at,z=g.actual_done_at,M=g.departure,C=g.destination_list,A=g.destination,B=v&&h?"".concat(p()(v).format("YYYY.MM.DD HH:00")," - ").concat(p()(h).format("YYYY.MM.DD HH:00")):"--",S=k&&z?"".concat(p()(k).format("YYYY.MM.DD HH:00")," - ").concat(p()(z).format("YYYY.MM.DD HH:00")):"--";return i.createElement("div",{key:t,style:{borderBottom:"1px solid rgb(204,204,204)",mariginBottom:"12px",paddingBottom:10}},i.createElement("div",{style:r},i.createElement("span",{style:c},"费用单号："),i.createElement("span",{style:s},e._id)),i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:n},i.createElement("span",{style:a},"出差单号："),i.createElement("span",{style:l},g._id)),i.createElement("div",{style:n},i.createElement("span",{style:a},"实际出差人："),i.createElement("span",{style:l},m().get(g,"apply_user_name","--"))),i.createElement("div",{style:n},i.createElement("span",{style:a},"预计出差时间："),i.createElement("span",{style:l},B))),i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:n},i.createElement("span",{style:a},"实际出差时间："),i.createElement("span",{style:l},S)),i.createElement("div",{style:n},i.createElement("span",{style:a},"出发地："),i.createElement("span",{style:l},Object.values(u(M)).join("-"))),i.createElement("div",{style:n},i.createElement("span",{style:a},"目的地："),i.createElement("span",{style:l},x(C,A).map((function(e){return Object.values(e).join("-")})).join(" 、"))),i.createElement("div",{style:n},i.createElement("span",{style:a},"出差天数："),i.createElement("span",{style:l},m().get(g,"actual_apply_days","--"),"天"))),i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:o},i.createElement("span",{style:d},"科目："),i.createElement("span",{style:y},m().get(e,"biz_account_info.name","--"),m().get(e,"biz_account_info.ac_code")?"(".concat(m().get(e,"biz_account_info.ac_code"),")"):"")),i.createElement("div",{style:o},i.createElement("span",{style:d},"核算中心："),i.createElement("span",{style:y},_))),i.createElement("div",{style:r},i.createElement("span",{style:c},"提报金额："),i.createElement("span",{style:s},E.fbc.exchangePriceCentToMathFormat(m().get(e,"total_money",0)),"元")),H(e),i.createElement("div",{style:r},i.createElement("span",{style:c},"发票抬头："),i.createElement("span",{style:s},e.invoice_title)),i.createElement("div",{style:r},i.createElement("span",{style:c},"事项说明："),i.createElement("span",{style:s},e.note||"--")),i.createElement("div",{style:r},i.createElement("span",{style:c},"附件："),i.createElement("span",{style:s},m().get(e,"attachment_private_urls",[]).map((function(e,t){return i.createElement("p",{key:t},e.file_name)})))),i.createElement("div",{style:r},i.createElement("span",{style:c},"收款信息："),i.createElement("span",{style:s},b(e))),i.createElement("div",{style:r},i.createElement("span",{style:c},"发票信息："),i.createElement("span",{style:s},w(e))))})))}():function(){var e=h.costOrderList,t=void 0===e?[]:e;if(!t||!Array.isArray(t)||t.length<1)return"";var n={fontSize:12,minHeight:32,lineHeight:"32px",width:"25%",display:"flex"},a={width:"40%",textAlign:"right"},l={width:"58%",color:"#666",fontWeight:500,wordBreak:"break-word"},r={fontSize:12,minHeight:32,lineHeight:"32px",width:"100%",display:"flex"},c={width:"10%",textAlign:"right"},s={color:"#666",fontWeight:500,width:"88%",wordBreak:"break-word"};return i.createElement("div",null,i.createElement("p",{style:{borderBottom:"1px solid rgb(204,204,204)",paddingBottom:10,fontWeight:500,fontSize:14}},"费用单"),t.map((function(e,t){var o=e.total_money,d=void 0===o?0:o,y=e.total_tax_amount_amount,p=void 0===y?0:y,f=e.type,g=e.bill_red_push_state,_=e.payment_total_money,v=void 0===_?0:_,h=v;f===E.rkq.normal&&g===E.LLt.done&&(h=v-p);var u="--";return m().get(e,"cost_center_type")===E.Xr3.code&&(u=m().get(e,"biz_code_info.name","--")),m().get(e,"cost_center_type")===E.Xr3.team&&(u=m().get(e,"biz_team_info.name","--")),i.createElement("div",{key:t,style:{borderBottom:"1px solid rgb(204,204,204)",mariginBottom:"12px",paddingBottom:10}},i.createElement("div",{style:r},i.createElement("span",{style:c},"费用单号："),i.createElement("span",{style:s},e._id)),i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:n},i.createElement("span",{style:a},"科目："),i.createElement("span",{style:l},m().get(e,"biz_account_info.name","--"),m().get(e,"biz_account_info.ac_code")?"(".concat(m().get(e,"biz_account_info.ac_code"),")"):"")),i.createElement("div",{style:n},i.createElement("span",{style:a},"核算中心："),i.createElement("span",{style:l},u)),i.createElement("div",{style:n},i.createElement("span",{style:a},"提报金额："),i.createElement("span",{style:l},E.fbc.exchangePriceCentToMathFormat(d),"元")),i.createElement("div",{style:n},i.createElement("span",{style:a},"付款金额："),i.createElement("span",{style:l},E.fbc.exchangePriceCentToMathFormat(v),"元")),i.createElement("div",{style:n},i.createElement("span",{style:a},"费用金额："),i.createElement("span",{style:l},E.fbc.exchangePriceCentToMathFormat(h),"元"))),i.createElement("div",{style:r},i.createElement("span",{style:c},"发票抬头："),i.createElement("span",{style:s},e.invoice_title)),i.createElement("div",{style:r},i.createElement("span",{style:c},"事项说明："),i.createElement("span",{style:s},e.note||"--")),i.createElement("div",{style:r},i.createElement("span",{style:c},"附件："),i.createElement("span",{style:s},m().get(e,"attachment_private_urls",[]).map((function(e,t){return i.createElement("p",{key:t},e.file_name)})))),i.createElement("div",{style:r},i.createElement("span",{style:c},"收款信息："),i.createElement("span",{style:s},b(e))),i.createElement("div",{style:r},i.createElement("span",{style:c},"发票信息："),i.createElement("span",{style:s},w(e))))})))}()),(t=h.orderRecordList,i.createElement(v,{orderRecordList:t})))},u=(0,c.connect)((function(e){return{printOrderList:e.codeOrder.printOrderList}}))((function(e){var t=e.dispatch,n=e.printOrderList,c=void 0===n?[]:n,s=e.location,d=s.query.selectedRowKeys,m=void 0===d?[]:d,y=(0,i.useRef)(JSON.parse(m)),p=(0,i.useRef)({}),E=(0,i.useState)([]),f=(0,r.Z)(E,2),g=f[0],_=f[1],v=(0,i.useState)([]),u=(0,r.Z)(v,2),x=u[0],b=u[1],w=(0,i.useState)(0),H=(0,r.Z)(w,2),k=H[0],z=H[1];(0,i.useEffect)((function(){return p.current="".concat(window.innerHeight-91,"px"),Array.isArray(y.current)&&y.current.length>0&&y.current.forEach((function(e){t({type:"codeOrder/getPrintOrderList",payload:{orderId:e}})})),function(){t({type:"codeOrder/resetPrintOrderList",payload:{}})}}),[t,y]),(0,i.useEffect)((function(){Array.isArray(c)&&c.length>0&&(_([c[0]]),b(c))}),[c]);var M="打印加载进度： ".concat(c.length," / ").concat(y.current.length);return x.length!==y.current.length?i.createElement("div",{style:{height:p.current,width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},i.createElement(l.Z,{size:"large",tip:M})):i.createElement("div",{style:{height:p.current}},i.createElement("div",{style:{width:222,height:"90%",float:"left",overflow:"scroll"}},i.createElement("ul",{style:{listStyle:"none",padding:10,boxSizing:"border-box"}},c.map((function(e,t){return i.createElement("li",{key:t,style:{cursor:"pointer",fontSize:14,height:24,lineHeight:"24px",marginTop:4,borderBottom:"1px solid #666",textAlign:"center",backgroundColor:t===k?"yellow":""},onClick:function(){return function(e){_([x[e]]),z(e)}(t)}},e._id)})))),i.createElement("div",{style:{height:"90%",overflow:"scroll"}},i.createElement("div",{id:"printHtml"},g.map((function(e,t){return i.createElement(h,{detail:e,key:t})})))),i.createElement("div",{style:{width:"100%",height:"10%",display:"flex",alignItems:"center",justifyContent:"center",float:"left"}},i.createElement(a.Z,{onClick:function(){var e;(e=s.query.tabKey)?window.location.href="/#/Code/PayOrder?tabKey=".concat(e):window.history.back()}},"返回"),i.createElement(a.Z,{onClick:function(){return _(c),void setTimeout((function(){o()({printable:"printHtml",type:"html",scanStyles:!1,targetStyles:["*"],honorColor:!0,onPrintDialogClose:function(){return _([c[k]])}})}),0)},style:{marginLeft:20}},"全部打印")))}))}}]);