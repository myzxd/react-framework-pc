"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[8488],{68488:function(e,t,n){n.r(t);n(52560);var a=n(71577),o=(n(54071),n(14072)),r=n(15861),l=(n(35668),n(86585)),i=n(29439),m=n(87757),c=n.n(m),s=n(67294),p=n(93517),u=n.n(p),f=n(30381),d=n.n(f),y=n(55609),g=n(45697),E=n.n(g),h=n(36623),_=n(96036);function Z(e){var t=e.history,n=e.dispatch,m=e.location,p=e.employeeDetail,f=l.Z.useForm(),y=(0,i.Z)(f,1)[0],g=(0,s.useState)(!1),E=(0,i.Z)(g,2),Z=E[0],D=E[1],x=m.query,v=(x=void 0===x?{}:x).id,b=p.entry_date,R=p.name,C=p.receiver_info,k=p.pending_order_num;(0,s.useEffect)((function(){n({type:"oaCommon/fetchEmployeeDetail",payload:{id:v}})}),[]),(0,s.useEffect)((function(){var e=p.apply_departure_date;e&&y.setFieldsValue({departureDate:d()("".concat(e))})}),[p]);var T=function(){var e=(0,r.Z)(c().mark((function e(){var a,o,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.validateFields();case 2:return a=e.sent,D(!0),o=a.departureDate,e.next=7,n({type:"employeeManage/employeeRelease",payload:{staffId:v,departureDate:d()(o).format("YYYYMMDD")}});case 7:(r=e.sent)&&r.ok?(D(!1),t.push("Manage?fileType=staff")):D(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=[s.createElement(l.Z.Item,{name:"departureDate",label:"离职日期",labelCol:{span:3},wrapperCol:{span:12},rules:[{required:!0,message:"请选择"}]},s.createElement(o.Z,{disabledDate:function(e){return e<d()(b,"YYYYMMDD")||e>d()()}}))];return s.createElement("div",null,s.createElement("div",{className:h.Z["resign-title"]},"正在为".concat(R||"--","办理离职")),s.createElement(_.IT,{title:"审批",titleExt:s.createElement("span",{className:h.Z["resign-titleExt"]},"离职后自动处理")},"该员工尚有".concat(k,"个待处理的审批单，由他待办的事务性审批单将在其离职后转交给工作接收人"),s.createElement("div",{className:h.Z["resign-innerbox"]},s.createElement("span",{className:h.Z["resign-jobRecipient"]},"工作接收人：".concat(u().get(C,"name","--"))))),s.createElement(_.IT,{title:"组织架构",titleExt:s.createElement("span",{className:h.Z["resign-titleExt"]},"离职后自动处理")},"该员工退出组织架构"),s.createElement(_.IT,{title:"系统账号",titleExt:s.createElement("span",{className:h.Z["resign-titleExt"]},"离职后自动处理")},"禁用该员工的系统账号"),s.createElement(l.Z,{form:y},s.createElement(_.Fp,{items:w,cols:2}),s.createElement("div",{style:{textAlign:"center"}},s.createElement(a.Z,{onClick:function(){t.push("Manage?fileType=staff")},style:{marginRight:"20px"}},"取消"),s.createElement(a.Z,{loading:Z,type:"primary",onClick:T},"完成离职"))))}Z.propTypes={employeeDetail:E().object},Z.defaultProps={employeeDetail:{}},t.default=(0,y.connect)((function(e){return{employeeDetail:e.oaCommon.employeeDetail}}))(Z)},36623:function(e,t){t.Z={"app-comp-employee-manage-menu-common-line-operation-detail":"zk6pqLd3BE2tsElHzwoA","app-comp-employee-manage_menu-common-line-operation-update":"iFFfkcu8AA4jSyPyK55s","app-comp-employee-manage-menu-common-line-operation-termination-text":"AD_sGiPI4XG4c84jyhlH","app-comp-employee-manage-menu-common-line-operation-termination":"rmBGaOxQrUN0JsWbuysP","app-comp-employee-manage-menu-second-line-coding":"QORTgn8bP2mzHTTCj5uT",boss_employee_manage_menu_second_line_coding:"fmdHCg3nt_yFhyReATwm",boss_employee_manage_menu_staff_search:"pNL0mCHqFJ1KAgc4iMfA",commonLineOperateBtn:"KaRRqPytD8KlOVGUHYWz",firstSearchRecruitmentChannelSelector:"foW4NkgetEjEjmddMTZw",secondSearchRecruitmentChannelSelector:"Wp65YphsHJqdXxYdyF7U","alert-info":"mKWdARnvGfgPZFt3Z1_I","resign-title":"ImbHwb3jIkZ27tCgLlQY","resign-titleExt":"tRLfGXyDMfArvwy1WQf8","resign-jobRecipient":"DcUZWgaEK0j3AKw2go9_","resign-innerbox":"HTKZ8Kh83ORv9rSrWDgL","employee-change-team-title":"Dk7hPw0U69xIhW_uERNz","employee-change-team-note":"lKV4lVG5R3raInVqUI0G"}}}]);