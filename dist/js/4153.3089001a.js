"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[4153],{34153:function(e,a,t){t.r(a);t(438);var n=t(14277),o=(t(13062),t(71230)),l=(t(89032),t(15746)),r=(t(12184),t(76022)),c=t(29439),m=t(94315),i=t.n(m),p=t(93517),f=t.n(p),u=t(55609),s=t(30381),d=t.n(s),_=t(67294),g=t(96036),b=t(80385),y=t(85193);a.default=(0,u.connect)((function(e){return{historyRecord:e.employeeManage.historyRecord}}))((function(e){var a=(0,_.useState)(e.location.query.id),t=(0,c.Z)(a,1)[0],m=(0,_.useState)(e.location.query.profileType),p=(0,c.Z)(m,1)[0];(0,_.useEffect)((function(){void 0!==t&&e.dispatch({type:"employeeManage/fetchEmployeeHistoricalRecord",payload:{id:t}})}),[]);var u,s=function(a){e.dispatch({type:"employeeManage/fetchEmployeeHistoricalRecord",payload:{id:t,page:a}})},h=function(e,a){var t=f().get(e,a);return Array.isArray(t)&&t.length>0?t.join("/"):"--"},k=function(e){var a=d()(f().get(e,"created_at")).format("YYYY-MM-DD HH:mm"),t=d()(f().get(e,"updated_at")).format("YYYY-MM-DD HH:mm"),n=f().get(e,"state")===b.ej5.effective?_.createElement("span",null,"".concat(t," 至 至今")):_.createElement("span",null,"".concat(a," 至 ").concat(t));return i().not.empty(f().get(e,"updated_at"))?_.createElement("div",null,n):"--"},E=function(e){return _.createElement("div",null,e.map((function(e,a){return _.createElement("p",null,_.createElement("a",{className:y.Z["app-comp-expense-borrowing-info-file"],rel:"noopener noreferrer",target:"_blank",key:a,href:e},"代收协议信息"))})))},v=f().get(e,"historyRecord.data",[]);return i().empty(v)?_.createElement(n.Z,null):_.createElement("div",null,v.map((function(e,a){return _.createElement("div",{key:a},function(e){var a=[],t={keys:f().get(e,"collect_protocol",[]),urls:f().get(e,"collect_protocol_url",[])},n="protocol-".concat(f().get(e,"_id","--")),o={keys:void 0!==f().get(e,"bank_card_front")&&null!==f().get(e,"bank_card_front")?[f().get(e,"bank_card_front")]:[],urls:void 0!==f().get(e,"bank_card_front_url")&&null!==f().get(e,"bank_card_front_url")?[f().get(e,"bank_card_front_url")]:[]},l="front-".concat(f().get(e,"_id","--")),r=[{label:"操作人",form:f().get(e,"operator_info.name","--")||"--"},{label:"操作时间",form:f().get(e,"created_at")?d()(f().get(e,"created_at")).format("YYYY-MM-DD HH:mm"):"--"},{label:"收款模式",form:f().get(e,"payment_type",0)?b.l7E.description(f().get(e,"payment_type",0)):"--"},{label:"状态",form:f().get(e,"state")?b.ej5.description(f().get(e,"state")):"--"},{label:"有效时间",form:k(e)}];f().get(e,"payment_type")===b.l7E.collecting?(r.push({label:"代收人/持卡人姓名",form:f().get(e,"card_holder_name","--")||"--"},{label:"代收人身份证号",form:f().get(e,"collect_id_card_no","--")||"--"},{label:"代收银行卡账号",form:f().get(e,"card_holder_bank_card_no","--")||"--"},{label:"开户行",form:f().get(e,"bank_branch","--")||"--"},{label:"支行名称",form:f().get(e,"bank_branch_name","--")||"--"},{label:"开户行所在地",form:f().get(e,"bank_location")?h(e,"bank_location"):"--"}),a.push({label:"银行卡正面照",form:_.createElement(g.oI,{domain:"staff",isDisplayMode:!0,value:o,namespace:l})}),b.Tv5.staff!==Number(p)?a.push({label:"代收协议",form:E(f().get(e,"collect_protocol_url",[]))}):a.push({label:"代收协议照片",form:_.createElement(g.oI,{domain:"staff",isDisplayMode:!0,value:t,namespace:n})})):(r.push({label:"持卡人姓名",form:f().get(e,"card_holder_name","--")||"--"},{label:"银行卡号",form:f().get(e,"card_holder_bank_card_no","--")||"--"},{label:"开户行",form:f().get(e,"bank_branch","--")||"--"},{label:"支行名称",form:f().get(e,"bank_branch_name","--")||"--"},{label:"开户行所在地",form:f().get(e,"bank_location")?h(e,"bank_location"):"--"}),a.push({label:"银行卡正面照",form:_.createElement(g.oI,{domain:"staff",isDisplayMode:!0,value:o,namespace:l})}));var c={labelCol:{span:8},wrapperCol:{span:16}};return _.createElement(g.IT,null,_.createElement(g.KP,{items:r,cols:3,layout:c}),_.createElement(g.KP,{items:a,cols:3,layout:c}))}(e))})),(u=f().get(e,"historyRecord.meta.count",0),_.createElement(o.Z,null,_.createElement(l.Z,{span:24,className:y.Z["app-comp-employee-manage-detail-history-info-pagination"]},_.createElement(r.Z,{onChange:s,defaultPageSize:5,total:u,showTotal:function(e){return"总共".concat(e,"条")}})))))}))},85193:function(e,a){a.Z={"app-comp-employee-manage-detail-bankinfo":"Ma1gU4Q3_ASP4Dst4XP6","app-comp-employee-manage-detail-util":"q95u0DqnArtlgyPPEAnO","app-comp-employee-manage-detail-history-info-pagination":"eUi6E0Q3x8J6idl3l89P"}}}]);