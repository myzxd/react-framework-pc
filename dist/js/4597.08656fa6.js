"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[4597],{63054:function(e,t,n){n(88775);var a=n(12010),o=(n(29093),n(16317)),r=n(93433),l=n(55609),p=n(67294);t.Z=(0,l.connect)((function(e){return{depAndPostTree:e.applicationCommon.depAndPostTree}}))((function(e){var t=e.value,n=e.onChange,l=e.dispatch,i=e.depAndPostTree,c=void 0===i?[]:i,s=e.isDisabledDep;(0,p.useEffect)((function(){Array.isArray(c)&&c.length>0||l({type:"applicationCommon/getDepAndPost"})}),[l]);return!Array.isArray(c)||c.length<1?p.createElement(o.Z,{placeholder:"请选择"}):p.createElement(a.Z,{showSearch:!0,showArrow:!0,style:{width:"100%"},value:t,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"请选择",allowClear:!0,multiple:!0,filterTreeNode:function(e,t){return t.title.indexOf(e)>-1},treeDefaultExpandAll:!0,onChange:n,treeData:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){if(t.node){var n=t.leaf?(0,r.Z)(t.leaf):[],a=t.job_list?(0,r.Z)(t.job_list):[];return{title:t.node.name,value:t.node._id,key:t.node._id,jobId:t.node.job_id,disabled:!!s&&!t.node.job_id,children:e([].concat((0,r.Z)(a),(0,r.Z)(n)))}}}))}(c)})}))},20369:function(e,t,n){n(88775);var a=n(12010),o=n(55609),r=n(67294);t.Z=(0,o.connect)((function(e){return{departments:e.applicationCommon.departments}}))((function(e){var t=e.departments,n=void 0===t?{}:t,o=e.dispatch,l=e.value,p=e.onChange,i=e.multiple,c=void 0!==i&&i,s=n.default,m=void 0===s?[]:s;(0,r.useEffect)((function(){m&&Object.keys(m).length>0||o({type:"applicationCommon/fetchDepartments"})}),[o]);var u=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){if(t.node)return{title:t.node.name,value:t.node._id,key:t.node._id,children:e(t.leaf)}}))}(m),d={showArrow:!0,treeData:u,treeDefaultExpandAll:!0,value:u.length>0?l:[],filterTreeNode:function(e,t){return t.title.indexOf(e)>-1},onChange:p,showSearch:!0,allowClear:!0,multiple:c,placeholder:"请选择",style:{width:"100%"}};return r.createElement(a.Z,d)}))},14597:function(e,t,n){n.r(t),n.d(t,{default:function(){return ve}});n(20186);var a=n(75385),o=(n(21316),n(75443)),r=(n(18085),n(55241)),l=(n(51838),n(48086)),p=n(15671),i=n(43144),c=n(97326),s=n(60136),m=n(82963),u=n(61120),d=n(4942),f=n(93517),h=n.n(f),E=n(30381),x=n.n(E),v=n(55609),y=n(67294),w=n(93433),Z=(n(55295),n(69713)),b=(n(9070),n(20924)),g=(n(35668),n(86585)),C=n(29439),O=(n(29093),n(16317)),P=n(68628),S=n(96036),_=n(80385),D=n(97116),k=O.Z.Option,z=(0,v.connect)((function(e){return{allEnumerated:e.applicationCommon.allEnumerated}}))((function(e){var t=e.value,n=e.onChange,a=e.dispatch,o=e.allEnumerated,r=void 0===o?{}:o,l=e.enumeratedType;if((0,y.useEffect)((function(){r&&Object.keys(r).length>0||a({type:"applicationCommon/getAllEnumerated"})}),[a]),!r||Object.keys(r).length<1||!l)return y.createElement(O.Z,{placeholder:"请选择"});var p=r[l]||{},i=Object.keys(p).map((function(e){return{_id:e,value:p[e]}}));return y.createElement(O.Z,{allowClear:!0,showSearch:!0,optionFilterProp:"children",value:t,onChange:n,placeholder:"请选择"},i.map((function(e){return y.createElement(k,{value:e._id,key:e._id},e.value)})))})),F=n(63054),T=n(20369),j=n(44925),I=["dispatch","examinePostData"],A=O.Z.Option;var B=(0,v.connect)((function(e){return{examinePostData:e.expenseExamineFlow.examinePostData}}))((function(e){var t=e.dispatch,n=e.examinePostData,a=void 0===n?{}:n,o=(0,j.Z)(e,I);(0,y.useEffect)((function(){a&&Object.keys(a).length>0&&D.P6.dotOptimal(a,"data",[]).length>0||t({type:"expenseExamineFlow/fetchExaminePost",payload:{meta:{page:1,limit:1e5},state:_.Dkk.normal}})}),[t]);var r=a.data,l=void 0===r?[]:r;return!l||l.length<1?y.createElement(O.Z,{placeholder:"请选择"}):y.createElement(O.Z,o,l.map((function(e){return y.createElement(A,{value:e._id,key:e._id},e.post_name)})))})),U=n(87462),X=["value","onChange","dispatch","expenseTypes"],N=O.Z.Option,V=(0,v.connect)((function(e){return{expenseTypes:e.applicationCommon.expenseTypes}}))((function(e){var t=e.value,n=e.onChange,a=e.dispatch,o=e.expenseTypes,r=void 0===o?[]:o,l=(0,j.Z)(e,X);return(0,y.useEffect)((function(){r&&Array.isArray(r)&&r.length>0||a({type:"applicationCommon/fetchExpenseTypes"})}),[a]),y.createElement(O.Z,(0,U.Z)({value:Array.isArray(r)&&r.length>0?t:void 0,onChange:n},l),r.map((function(e,t){return y.createElement(N,{value:e._id,key:t},e.name)})))})),L=["value","onChange","dispatch","platforms"],M=O.Z.Option,q=(0,v.connect)((function(e){return{platforms:e.applicationCommon.platforms}}))((function(e){var t=e.value,n=e.onChange,a=e.dispatch,o=e.platforms,r=void 0===o?{}:o,l=(0,j.Z)(e,L);return(0,y.useEffect)((function(){r&&D.P6.dotOptimal(r,"flow",[]).length>0||a({type:"applicationCommon/fetchPlatforms",payload:{namespace:"flow"}})}),[a]),y.createElement(O.Z,(0,U.Z)({value:t,onChange:n},l),D.P6.dotOptimal(r,"flow",[]).map((function(e,t){return y.createElement(M,{value:e.platform_code,key:t},e.platform_name)})))}));function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=O.Z.Option,K="cost_application_types",Y="none_cost_application_types",W="work_flow_application_types",G="old-flow-list-search",Q=function(e){var t=e.onSearch,n=e.isSetStorageSearchValue,a=void 0!==n&&n,o=e.searchParams,r=void 0===o?{}:o,l=(0,y.useState)({}),p=(0,C.Z)(l,2),i=p[0],c=p[1],s=D.By.searchParams(G)||{},m=Array.isArray(s.bizType)?s.bizType[0]:s.bizType,u=a?m:_.z_o.transactional,d=a?function(e){var t=W;return e===_.z_o.costOf&&(t=K),e===_.z_o.noCostOf&&(t=Y),e===_.z_o.transactional&&(t=W),t}(m):W,f=(0,y.useState)(u),h=(0,C.Z)(f,2),E=h[0],x=h[1],v=(0,y.useState)(d),k=(0,C.Z)(v,2),j=k[0],I=k[1],A=[y.createElement(g.Z.Item,{label:"审批类型",name:"bizType"},y.createElement(O.Z,{placeholder:"请选择",onChange:function(e){x(e),i&&i.resetFields(),i&&i.setFieldsValue({bizType:e,nodeApproalType:e===_.z_o.transactional?_.DXc.post:void 0}),e===_.z_o.costOf&&I(K),e===_.z_o.noCostOf&&I(Y),e===_.z_o.transactional&&I(W)}},y.createElement(J,{value:_.z_o.costOf},_.z_o.description(_.z_o.costOf)),y.createElement(J,{value:_.z_o.noCostOf},_.z_o.description(_.z_o.noCostOf)),y.createElement(J,{value:_.z_o.transactional},_.z_o.description(_.z_o.transactional)))),y.createElement(g.Z.Item,{label:"适用类型",name:"pageType"},y.createElement(z,{enumeratedType:j})),y.createElement(g.Z.Item,{label:"状态",name:"state"},y.createElement(O.Z,{placeholder:"请选择",allowClear:!0},y.createElement(J,{value:"*"},"全部"),y.createElement(J,{value:_.BsX.normal},_.BsX.description(_.BsX.normal)),y.createElement(J,{value:_.BsX.disable},_.BsX.description(_.BsX.disable)),y.createElement(J,{value:_.BsX.draft},_.BsX.description(_.BsX.draft)))),y.createElement(g.Z.Item,{label:"审批流名称",name:"name"},y.createElement(b.Z,{placeholder:"请输入",allowClear:!0}))],U=y.createElement("div",null,y.createElement(Z.Z,{title:"此选项筛选的为协作关系指定部门配置的节点"},y.createElement(P.Z,null)),y.createElement("span",{style:{marginLeft:5}},"节点审批岗位")),X=y.createElement("div",null,y.createElement(Z.Z,{title:"此选项筛选的为协作关系指定部门配置的节点"},y.createElement(P.Z,null)),y.createElement("span",{style:{marginLeft:5}},"节点审批部门")),N=[y.createElement(g.Z.Item,{label:"节点审批类型",name:"nodeApproalType"},y.createElement(O.Z,{placeholder:"请选择",onChange:function(){i&&i.setFieldsValue({approveDepartmentJobIds:void 0,approveDepartmentIds:void 0})}},y.createElement(J,{value:_.DXc.post},_.DXc.description(_.DXc.post)),y.createElement(J,{value:_.DXc.principal},_.DXc.description(_.DXc.principal)))),y.createElement(g.Z.Item,{noStyle:!0,key:"affairs-node-post-department",shouldUpdate:function(e,t){return e.nodeApproalType!==t.nodeApproalType}},(function(e){var t=(0,e.getFieldValue)("nodeApproalType");return t===_.DXc.post?y.createElement(g.Z.Item,{key:"transactional-post",name:"approveDepartmentJobIds",label:U},y.createElement(F.Z,{isDisabledDep:!0,isJobId:!0,multiple:!0})):t===_.DXc.principal?y.createElement(g.Z.Item,{key:"transactional-post",name:"approveDepartmentIds",label:X},y.createElement(T.Z,{multiple:!0})):void 0})),y.createElement(g.Z.Item,{label:"适用部门",name:"applianceDepartmentId"},y.createElement(T.Z,{multiple:!0})),y.createElement(g.Z.Item,{label:"可见部门",name:"viewDepartmentId"},y.createElement(T.Z,{multiple:!0}))],L=[y.createElement(g.Z.Item,{label:"节点审批岗位",key:"costOf-post",name:"postIds"},y.createElement(B,{showArrow:!0,placeholder:"请选择",allowClear:!0,mode:"multiple"})),y.createElement(g.Z.Item,{label:"适用范围",name:"platformCodes",key:"costOf-platformCodes"},y.createElement(q,{showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"children",placeholder:"请选择",isEnableSelectAll:!0})),y.createElement(g.Z.Item,{label:"费用分组",name:"expenseTypeIds"},y.createElement(V,{showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"children",placeholder:"请选择"}))],M=[y.createElement(g.Z.Item,{label:"节点审批岗位",key:"noCostOf-post",name:"postIds"},y.createElement(B,{showArrow:!0,placeholder:"请选择",allowClear:!0,mode:"multiple"})),y.createElement(g.Z.Item,{label:"适用范围",name:"platformCodes",key:"noCostOf-platformCodes"},y.createElement(q,{showArrow:!0,allowClear:!0,mode:"multiple",optionFilterProp:"children",placeholder:"请选择",isEnableSelectAll:!0}))],H=[].concat(A);E===_.z_o.transactional&&(H=[].concat((0,w.Z)(H),N)),E===_.z_o.costOf&&(H=[].concat((0,w.Z)(H),L)),E===_.z_o.noCostOf&&(H=[].concat((0,w.Z)(H),M));var Q={items:H,onReset:function(e){x(_.z_o.transactional),I(W);i.setFieldsValue({state:"*"}),t&&t(R(R({},e),{},{page:1,limit:30,bizType:_.z_o.transactional,nodeApproalType:_.DXc.post,state:"*"}))},onSearch:function(e){return t(R(R({},e),{},{page:1,limit:30}))},onHookForm:function(e){return c(e)},expand:!0,initialValues:{bizType:_.z_o.transactional,nodeApproalType:_.DXc.post,state:r.state},isSetStorageSearchValue:a,SearchStorageKey:G};return y.createElement(S.IT,{className:"affairs-flow-basic"},y.createElement(S.j6,Q))},$=n(45430),ee=(n(52560),n(71577)),te=(n(52466),n(10642)),ne=n(94315),ae=n.n(ne),oe=n(66939),re=(n(98703),"AAqtokBCO8UUz7Bx4NGH"),le=n(15947);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,m.Z)(this,n)}}var ce=O.Z.Option,se=function(e){(0,s.Z)(n,e);var t=ie(n);function n(){var e;return(0,p.Z)(this,n),e=t.call(this),(0,d.Z)((0,c.Z)(e),"onShowModal",(function(){e.setState({visible:!0})})),(0,d.Z)((0,c.Z)(e),"onHideModal",(function(){e.setState({visible:!1}),e.props.form.resetFields()})),(0,d.Z)((0,c.Z)(e),"onClickConfig",(function(){window.location.href="/#/Expense/ExamineFlow/Config"})),(0,d.Z)((0,c.Z)(e),"onSubmit",(function(){e.props.form.validateFields((function(t,n){if(!t){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onSuccessCallback:e.onCreateSuccessCallback,onFailureCallback:e.onFailureCallback},n);e.props.dispatch({type:"expenseExamineFlow/createExamineFlow",payload:a})}}))})),(0,d.Z)((0,c.Z)(e),"onCreateSuccessCallback",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(ae().existy(t)&&ae().not.empty(t)&&ae().not.empty(t._id))return e.onHideModal(),void le.Z.popUpCompatible("/#/Expense/ExamineFlow/Form?flowId=".concat(t._id));l.ZP.error("无法获取新创建的审批流信息，请手动刷新页面查询")})),(0,d.Z)((0,c.Z)(e),"onFailureCallback",(function(e){if(ae().existy(e.zh_message)&&ae().not.empty(e.zh_message))return l.ZP.error(e.zh_message)})),(0,d.Z)((0,c.Z)(e),"renderModal",(function(){var t=e.props.form.getFieldDecorator,n=e.state.visible,a=[{label:"审批流名称",form:t("name",{rules:[{required:!0,message:"请选择审批流名称"},{pattern:/^\S+$/,message:"审批流名称不能包含空格"}],initialValue:void 0})(y.createElement(b.Z,{placeholder:"请输入审批流名称"}))},{label:"审批流类型",form:t("bizType",{rules:[{required:!0,message:"请选择审批流类型"}],initialValue:"".concat(_.z_o.transactional)})(y.createElement(O.Z,{placeholder:"请选择审批流类型"},y.createElement(ce,{value:"".concat(_.z_o.costOf)},_.z_o.description(_.z_o.costOf)),y.createElement(ce,{value:"".concat(_.z_o.noCostOf)},_.z_o.description(_.z_o.noCostOf)),y.createElement(ce,{value:"".concat(_.z_o.transactional)},_.z_o.description(_.z_o.transactional))))}];return y.createElement(te.Z,{title:"操作",visible:n,onOk:e.onSubmit,onCancel:e.onHideModal},y.createElement(oe.Z,{layout:"horizontal"},y.createElement(S.KP,{items:a,cols:1,layout:{labelCol:{span:6},wrapperCol:{span:16}}})))})),(0,d.Z)((0,c.Z)(e),"render",(function(){return y.createElement("div",null,e.renderModal(),y.createElement("span",null,y.createElement(ee.Z,{type:"primary",onClick:e.onClickConfig,className:re},"审批流配置"),y.createElement(ee.Z,{type:"primary",onClick:e.onShowModal},"新增审批流")))})),e.state={visible:!1},e}return n}(y.Component),me=oe.Z.create()(se),ue=n(654);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,m.Z)(this,n)}}var Ee="old-flow-list-search",xe=function(e){(0,s.Z)(n,e);var t=he(n);function n(e){var i;(0,p.Z)(this,n),i=t.call(this,e),(0,d.Z)((0,c.Z)(i),"onSearch",(function(e){D.By.setSearchParams(Ee,fe({},e)),i.private.searchParams=fe({},e),i.props.dispatch({type:"expenseExamineFlow/fetchExamineFlows",payload:i.private.searchParams})})),(0,d.Z)((0,c.Z)(i),"onShowSizeChange",(function(e,t){i.private.searchParams.page=e,i.private.searchParams.limit=t,i.onSearch(i.private.searchParams)})),(0,d.Z)((0,c.Z)(i),"onSuccessCallback",(function(){i.props.dispatch({type:"expenseExamineFlow/fetchExamineFlows",payload:i.private.searchParams})})),(0,d.Z)((0,c.Z)(i),"onUpdateExamineFlowByDisable",(function(e){var t={flowId:e,onSuccessCallback:i.onSuccessCallback};i.props.dispatch({type:"expenseExamineFlow/updateExamineFlowByDisable",payload:t})})),(0,d.Z)((0,c.Z)(i),"onUpdateExamineFlowByEnable",(function(e,t){var n={flowId:t,onSuccessCallback:i.onSuccessCallback};if(0===e.flowNodes.length)return l.ZP.error("无法启用:该审批流节点设置为空,请设置审批流节点");i.props.dispatch({type:"expenseExamineFlow/updateExamineFlowByEnable",payload:n})})),(0,d.Z)((0,c.Z)(i),"onDeleteExamineFlow",(function(e){var t={flowId:e,onSuccessCallback:i.onSuccessCallback};i.props.dispatch({type:"expenseExamineFlow/deleteExamineFlow",payload:t})})),(0,d.Z)((0,c.Z)(i),"onClickEdit",(function(e){window.location.href="/#/Expense/ExamineFlow/Form?flowId=".concat(e)})),(0,d.Z)((0,c.Z)(i),"onChangePage",(function(e,t){i.private.searchParams.page=e,i.private.searchParams.limit=t,i.onSearch(i.private.searchParams)})),(0,d.Z)((0,c.Z)(i),"renderSearch",(function(){var e=(0,c.Z)(i).onSearch,t=i.private.searchParams;return y.createElement(Q,{onSearch:e,searchParams:t,isSetStorageSearchValue:D.P6.dotOptimal(i.props,"location.query.isSetStorageSearchValue",!1)})})),(0,d.Z)((0,c.Z)(i),"renderTable",(function(){var e=i.props,t=e.examineList,n=void 0===t?{}:t,l=e.allEnumerated,p=void 0===l?{}:l,c=D.P6.dotOptimal(n,"meta",{}),s=c.page,m=void 0===s?1:s,u=c.limit,d=void 0===u?30:u,f=p.cost_application_types,E=void 0===f?{}:f,v=p.none_cost_application_types,w=void 0===v?{}:v,Z=p.work_flow_application_types,b=void 0===Z?{}:Z,g=p.industry_codes,C=void 0===g?{}:g,O=fe(fe(fe({},E),w),b),P=n.data||[],k=[{title:"序号",dataIndex:"id",render:function(e,t,n){var a=d*(m-1)+n+1;return y.createElement("div",null,a)}},{title:"审批流名称",dataIndex:"name"},{title:"适用类型",dataIndex:"applyApplicationTypes",render:function(e){if(!e||0===e.length)return"--";var t=e.map((function(e){return O[e]}));return t.length<=0?"--":t.length<=3?t.join("、"):y.createElement(r.Z,{content:y.createElement("div",{className:ue.Z["app-comp-expense-flow-note"]},t.join("、")),trigger:"hover"},y.createElement("div",null,t.slice(0,3).join("、"),"..."))}},{title:"适用场景",dataIndex:"industryCodes",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;return e&&1===e.length?C[e]:"--"}},{title:"适用范围",dataIndex:"platformCodes",render:function(e){return 0===e.length?"--":D.Iq.platformFilter(e)}},{title:"费用分组",dataIndex:"costCatalogScopeList",render:function(e){var t="";if(e.forEach((function(e){t+="".concat(e.name,",")})),0===e.length)return"--";if(e.length<=1)return e[0].name;var n=t.split(",");return y.createElement(r.Z,{content:y.createElement("p",{className:ue.Z["app-comp-expense-examine-flow-grouping"]},t.slice(0,t.length-1)),trigger:"hover"},y.createElement("div",null,n.slice(0,1).join(","),"等"))}},{title:"创建日期",dataIndex:"createdAt",render:function(e){return e?x()(e).format("YYYY-MM-DD"):"--"}},{title:"创建人",dataIndex:"creatorInfo",render:function(e){return e&&e.name?e.name:"--"}},{title:"描述",dataIndex:"note",render:function(e){return""!==e&&e?y.createElement("div",null,e.length<=8?e:y.createElement(r.Z,{content:y.createElement("div",{className:ue.Z["app-comp-expense-flow-note"]},e),title:"审批流描述",trigger:"hover"},y.createElement("div",null,e.length<=8?e:e.substr(0,8)))):"--"}},{title:"状态",dataIndex:"state",render:function(e){return y.createElement("div",null,_.BsX.description(e))}},{title:"最近更新时间",dataIndex:"updatedAt",render:function(e){return e?x()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"操作",render:function(e,t){if(Number(t.state)===_.BsX.delete)return"--";switch(Number(t.state)){case _.BsX.normal:return y.createElement("div",null,$.ZP.canOperateExpenseExamineUpdate()&&y.createElement(o.Z,{title:"您是否确定停用该审批流",onConfirm:function(){i.onUpdateExamineFlowByDisable(t.id)},okText:"确定",cancelText:"取消"},y.createElement("a",null,"停用")),$.ZP.canOperateExpenseExamineFlowDetail()&&y.createElement("a",{href:"/#/Expense/ExamineFlow/Detail?flowId=".concat(t.id),className:ue.Z["app-comp-expense-flow-operate-detail"]},"查看"));case _.BsX.disable:return y.createElement("div",null,$.ZP.canOperateExpenseExamineUpdate()&&y.createElement("a",{onClick:function(){i.onClickEdit(t.id)},className:ue.Z["app-comp-expense-flow-operate-update"]},"编辑"),$.ZP.canOperateExpenseExamineUpdate()&&y.createElement(o.Z,{title:"您是否确定启用该审批流",onConfirm:function(){i.onUpdateExamineFlowByEnable(t,t.id)},okText:"确定",cancelText:"取消"},y.createElement("a",{className:ue.Z["app-comp-expense-flow-operate-enable"]},"启用")),$.ZP.canOperateExpenseExamineUpdate()&&y.createElement(o.Z,{title:"您是否确定删除该审批流",onConfirm:function(){i.onDeleteExamineFlow(t.id)},okText:"确定",cancelText:"取消"},y.createElement("a",null,"删除")),$.ZP.canOperateExpenseExamineFlowDetail()&&y.createElement("a",{href:"/#/Expense/ExamineFlow/Detail?flowId=".concat(t.id),className:ue.Z["app-comp-expense-flow-operate-detail"]},"查看"));case _.BsX.draft:return y.createElement("div",null,$.ZP.canOperateExpenseExamineUpdate()&&y.createElement("a",{onClick:function(){i.onClickEdit(t.id)},className:ue.Z["app-comp-expense-flow-operate-update"]},"编辑"),$.ZP.canOperateExpenseExamineUpdate()&&y.createElement(o.Z,{title:"您是否确定删除该审批流",onConfirm:function(){i.onDeleteExamineFlow(t.id)},okText:"确定",cancelText:"取消"},y.createElement("a",{className:ue.Z["app-comp-expense-flow-operate-detele"]},"删除")),$.ZP.canOperateExpenseExamineUpdate()&&y.createElement(o.Z,{title:"您是否确定启用该审批流",onConfirm:function(){i.onUpdateExamineFlowByEnable(t,t.id)},okText:"确定",cancelText:"取消"},y.createElement("a",null,"启用")),$.ZP.canOperateExpenseExamineFlowDetail()&&y.createElement("a",{href:"/#/Expense/ExamineFlow/Detail?flowId=".concat(t.id),className:ue.Z["app-comp-expense-flow-operate-detail"]},"查看"));case _.BsX.delete:return y.createElement("div",null,"--");default:return y.createElement("div",{className:ue.Z["app-comp-expense-flow-operate"]},$.ZP.canOperateExpenseExamineFlowDetail()?y.createElement("a",{href:"/#/Expense/ExamineFlow/Detail?flowId=".concat(t.id),className:ue.Z["app-comp-expense-flow-operate-detail"]},"查看"):"--")}}}],z={current:i.private.searchParams.page,pageSize:i.private.searchParams.limit||30,onChange:i.onChangePage,total:h().get(n,"meta.count",0),showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:i.onShowSizeChange},F="";return $.ZP.canOperateExpenseExamineUpdate()&&(F=y.createElement(me,{dispatch:i.props.dispatch})),y.createElement(S.IT,{title:"审批流列表",titleExt:F},y.createElement(a.Z,{columns:k,dataSource:P,rowKey:function(e){return e.id},pagination:z}))})),(0,d.Z)((0,c.Z)(i),"render",(function(){return y.createElement("div",null,i.renderSearch(),i.renderTable())}));var s=D.P6.dotOptimal(i.props,"location.query.isSetStorageSearchValue",!1);return i.state={newVisible:!0},i.private={searchParams:s?D.By.searchParams(Ee):{page:1,limit:30,bizType:[_.z_o.transactional],nodeApproalType:_.DXc.post,state:"*"},isSubmit:!0},i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=D.P6.dotOptimal(this.props,"location.query.isSetStorageSearchValue",!1);e||D.By.setSearchParams(Ee,{bizType:[_.z_o.transactional]}),this.props.dispatch({type:"expenseExamineFlow/fetchExamineFlows",payload:e?D.By.searchParams(Ee):this.private.searchParams})}},{key:"componentWillUnmount",value:function(){}}]),n}(y.Component);var ve=(0,v.connect)((function(e){return{examineList:e.expenseExamineFlow.examineList,allEnumerated:e.applicationCommon.allEnumerated}}))(xe)},654:function(e,t){t.Z={"app-comp-expense-node":"aMth3bdBEzLuUTqkmyGQ","app-comp-expense-node-arrow":"Gj0VkUo32qtANnWffU1b","app-comp-expense-round":"I7pPgwYZpsXbtqBR7y1H","app-comp-expense-node-operate":"wh9Ee6LJrXoxIvsCo8wh","app-comp-expense-node-people-container":"gyFmTI0JyuLeHplPJ9qg","app-comp-expense-node-people-content":"HL4wK5q_N9IhrYEvZXbq","app-comp-expense-node-people-button":"Bhh7K1biPSuEbKUTWkKz","app-comp-expense-node-name":"_5RhNa0yzDZO4HNyTZhb","app-comp-expense-node-approval-people":"nnvHPrd1Mjd2F0l4WCXt","app-comp-expense-add-node-operate":"aACznn8ZfsQsr6zJfY7R","app-comp-expense-node-label":"QSGrWqKa2tkMGRvnLdMz","app-comp-expense-node-ticket-title":"w1FtvoMnroPnsyPf65Kk","app-comp-expense-flow-note":"cI6v0bSl32XM7Pwyy4Dz","app-comp-expense-examine-flow-grouping":"FSjJafGZB5uHqbT_bxQQ","app-comp-expense-flow-operate-detail":"H7s_BjVTvQCkfYBuz4oD","app-comp-expense-flow-operate-update":"mWCjB9xOL3lgNS9dV4VU","app-comp-expense-flow-operate-enable":"pUpTKroSqq0JA7srdu_u","app-comp-expense-flow-operate-detele":"urZSu6xqpC4gTKgHHnyS","app-comp-expense-flow-operate":"qXa0uwmAB_5ygD2uCGUW","app-comp-expense-examine-flow-deatail-user-name":"Qc20agDkRK1rdmmL7gm_","app-comp-expense-examine-flow-deatail-user-text":"h7TPZHRpYlolupf23UPT","app-comp-expense-examine-flow-deatail-setting":"pOkNJ2Gpb9bUuJ69ZQQL","app-comp-expense-examine-flow-deatail-apply":"iBhWgFC9iSzBfbJV9LQo","app-comp-expense-examine-flow-deatail-process":"_3fkFFiSE2g1WW2M79uu","app-comp-expense-examine-flow-deatail-icon":"svAifGaSUMAU5DCiVCzm","app-comp-expense-examine-flow-deatail-process-info":"srbkWaTflYe0PvTKPyfU","app-comp-expense-examine-flow-deatail-button":"cUvCj80XA8AedU9BKl_M","app-comp-expense-examine-flow-form-node-name":"kzLfw1LQH2X2ctzFQTZU","app-comp-expense-examine-flow-form-node-text":"yBi1kEmESmO3cg_S3pV9","app-comp-expense-examine-flow-form-info":"Vygv8llj5gTF7DTCzsuD","app-comp-expense-examine-flow-form-regulation":"UBkSWCSgR1pTgMofO90V","app-comp-expense-examine-flow-form-amount":"urin5CgzybzCGOjWfEPg","app-comp-expense-examine-flow-form-rules":"uwAClVTgw5YDAPWI5nXO","app-comp-expense-examine-flow-form-any":"ahaSSjJ83yjnlOPLeGge","app-comp-expense-examine-flow-form-modify-button":"bN4YqZlmJ1oDf7A7StvA","app-comp-expense-examine-flow-form-detele-button":"QrHhcSzmCJF1j4Ly8L7R","app-comp-expense-examine-flow-form-icon":"qe2CGjs6lj3frAsjODBL","app-comp-expense-examine-flow-form-process":"OgkJNHEFvsU2sCE3S4rr","app-comp-expense-examine-flow-form-apply":"L0EilOXMUv6ZI9LIKdVe","app-comp-expense-examine-flow-form-setting":"Z7DdOV3Zr20nYC1TPGoa","app-comp-expense-examine-flow-form-button":"_odAj7LvgV87xF4j5mlr","app-comp-expense-examine-flow-form-submit":"C075Wm_yOARS1ICs3U3f",boss_expense_examine_flow_post_operate_detail:"MZpnvs3G8pvCxnoCGxRy","app-comp-expense-examine-flow-applicant":"pg1suQhuyWxCuOKF6T_S","app-comp-expense-examine-flow-applicant-title":"JfpaJD66KvD5iAE6sD5x"}}}]);