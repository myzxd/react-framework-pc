"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[8929],{25354:function(e,t,n){var r=n(15671),o=n(97326),a=n(60136),c=n(82963),i=n(61120),u=n(4942),l=n(67294),f=n(45697),d=n.n(f),s=n(96036);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var h=function(e){(0,a.Z)(n,e);var t=p(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),(0,u.Z)((0,o.Z)(e),"render",(function(){var t=e.props.houseContractDetail,n=void 0===t?{}:t,r=[{label:"合同编号",form:n.id},{label:"房屋编号",form:n.houseNo}];return l.createElement(s.IT,{title:"基础信息"},l.createElement(s.KP,{items:r,cols:3,layout:{labelCol:{span:6},wrapperCol:{span:18}}}))})),e}return n}(l.Component);(0,u.Z)(h,"propTypes",{houseContractDetail:d().object}),(0,u.Z)(h,"defaultProps",{houseContractDetail:{}}),t.Z=h},58410:function(e,t,n){n.d(t,{Z:function(){return A}});var r=n(15671),o=n(97326),a=n(60136),c=n(82963),i=n(61120),u=n(4942),l=n(67294),f=n(45697),d=n.n(f),s=n(96036),p=(n(20186),n(75385)),h=(n(13062),n(71230)),m=(n(89032),n(15746)),y=n(30381),v=n.n(y),g=n(80385),Z="FLcfDUcLMpcAQ_oOD9lH",_="zc95dYyMqYI_PVii0Cno",C="lgU2GUArOMMm1HtAk5qw",Y="HoxctSDn6_DRR5B6PWp4";function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var x=function(e){(0,a.Z)(n,e);var t=D(n);function n(e){var a;return(0,r.Z)(this,n),a=t.call(this,e),(0,u.Z)((0,o.Z)(a),"renderContent",(function(){var e=a.props,t=e.costOrderData,n=void 0===t?[]:t,r=e.houseContractDetail,o=void 0===r?{}:r,c=o.contractStartDate,i=o.contractEndDate,u=o.agentMoney,f="".concat(v()("".concat(c)).format("YYYY.MM.DD"),"-").concat(v()("".concat(i)).format("YYYY.MM.DD")),d=[{title:"序号",dataIndex:"index",render:function(e,t,n){return l.createElement("div",null,n+1)}},{title:"审批单号",dataIndex:"application_order_id",render:function(e){return e||"--"}},{title:"付款时间",dataIndex:"paid_at",render:function(e){return e?v()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"申请人",dataIndex:["apply_account_info","name"],render:function(e){return e||"--"}},{title:"中介金额",dataIndex:"total_money",render:function(e,t){var n=e-t.tax_money;return e?g.fbc.exchangePriceCentToMathFormat(n):"--"}},{title:"无票税点金额",dataIndex:"tax_money",render:function(e){return e?g.fbc.exchangePriceCentToMathFormat(e):"--"}},{title:"备注",dataIndex:"note",render:function(e){return e?l.createElement("div",{className:Y},e):"--"}}];return l.createElement(s.IT,null,l.createElement(h.Z,{className:Z},l.createElement(m.Z,{span:4},"中介费记录")),l.createElement(h.Z,{className:Z},l.createElement(m.Z,{span:4,offset:2},"合同中介费：".concat(g.fbc.exchangePriceCentToMathFormat(u))),l.createElement(m.Z,{span:4},"合同租期：".concat(f))),l.createElement(p.Z,{bordered:!0,columns:d,dataSource:n,pagination:!1,rowKey:function(e){return e._id}}))})),(0,u.Z)((0,o.Z)(a),"render",(function(){return a.renderContent()})),a.state={},a}return n}(l.Component);(0,u.Z)(x,"propTypes",{costOrderData:d().array,houseContractDetail:d().object}),(0,u.Z)(x,"defaultProps",{costOrderData:[],houseContractDetail:{}});var b=x;function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var I=function(e){(0,a.Z)(n,e);var t=E(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),(0,u.Z)((0,o.Z)(e),"renderContent",(function(){var t=e.props,n=t.costOrderData,r=void 0===n?[]:n,o=t.houseContractDetail,a=void 0===o?{}:o,c=a.pledgeMoney,i=void 0===c?0:c,u=a.contractStartDate,f=a.contractEndDate,d=a.pledgeLostMoney,y=a.unrefundedPledgeMoney,Z=0===r.length?[]:[P(P({},r[0]),{},{pledge_lost_money:d,unrefunded_pledge_money:y})],C="".concat(v()("".concat(u)).format("YYYY.MM.DD"),"-").concat(v()("".concat(f)).format("YYYY.MM.DD")),D=[{title:"序号",dataIndex:"index",render:function(e,t,n){return l.createElement("div",null,n+1)}},{title:"审批单号",dataIndex:"application_order_id",render:function(e){return e||"--"}},{title:"付款时间",dataIndex:"paid_at",render:function(e){return e?v()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"申请人",dataIndex:["apply_account_info","name"],render:function(e){return e||"--"}},{title:"押金金额",dataIndex:"total_money",render:function(e){return e?g.fbc.exchangePriceCentToMathFormat(e):0}},{title:"押金损失",dataIndex:"pledge_lost_money",render:function(e){return e?g.fbc.exchangePriceCentToMathFormat(e):0}},{title:"期初押金",dataIndex:"total_money",render:function(e){return e?g.fbc.exchangePriceCentToMathFormat(e):0}},{title:"期末押金",dataIndex:"unrefunded_pledge_money",render:function(e){return e?g.fbc.exchangePriceCentToMathFormat(e):0}},{title:"备注",dataIndex:"note",render:function(e){return e?l.createElement("div",{className:Y},e):"--"}}];return l.createElement(s.IT,null,l.createElement(h.Z,{className:_},l.createElement(m.Z,{span:4},"押金记录")),l.createElement(h.Z,{className:_},l.createElement(m.Z,{span:4,offset:2},"合同押金：".concat(g.fbc.exchangePriceCentToMathFormat(i))),l.createElement(m.Z,{span:4},"合同租期：".concat(C))),l.createElement(p.Z,{bordered:!0,columns:D,pagination:!1,dataSource:Z,rowKey:function(e){return e._id}}))})),(0,u.Z)((0,o.Z)(e),"render",(function(){return e.renderContent()})),e}return n}(l.Component);(0,u.Z)(I,"propTypes",{costOrderData:d().array,houseContractDetail:d().object}),(0,u.Z)(I,"defaultProps",{costOrderData:[]});var w=I;function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var T=function(e){(0,a.Z)(n,e);var t=O(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),(0,u.Z)((0,o.Z)(e),"onChangePage",(function(t,n){var r=e.props.onChangePage;r&&r(t,n)})),(0,u.Z)((0,o.Z)(e),"renderContent",(function(){var t=e.props,n=t.houseContractDetail,r=void 0===n?{}:n,o=t.houseAccout,a=void 0===o?{}:o,c=a.data,i=a.meta;if(0===Object.keys(r).length)return null;var u=r.monthMoney,f=void 0===u?0:u,d=r.contractStartDate,y=r.contractEndDate,Z=r.allocationMode,_="".concat(v()("".concat(d)).format("YYYY.MM.DD"),"-").concat(v()("".concat(y)).format("YYYY.MM.DD")),D=[{title:"序号",dataIndex:"index",fixed:"left",width:50,render:function(e,t,n){return l.createElement("div",null,n+1)}},{title:"审批单",width:250,dataIndex:["cost_order_info","application_order_info","_id"],render:function(e){return e||"--"}},{title:"付款日期",width:150,dataIndex:["cost_order_info","paid_at"],render:function(e){return e?v()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"租金期间",width:200,dataIndex:"application_rent_cycle",render:function(e){return e?1===e.length?v()("".concat(e[0])).format("YYYY.MM.DD"):"".concat(v()("".concat(e[0])).format("YYYY.MM.DD")," - ").concat(v()("".concat(e[1])).format("YYYY.MM.DD")):"--"}},{title:"租金",width:100,dataIndex:"pay_money",render:function(e){return e?g.fbc.exchangePriceCentToMathFormat(e):g.fbc.exchangePriceCentToMathFormat(0)}},{title:"无票税点金额",width:100,dataIndex:"rent_tax_money",render:function(e){return e?g.fbc.exchangePriceCentToMathFormat(e):g.fbc.exchangePriceCentToMathFormat(0)}},{title:"分摊对象",dataIndex:"cost_center_type",width:200,render:function(e,t){return e===g.F$Y.project?t.platform_name||"--":e===g.F$Y.headquarter?"--"|t.supplier_name:e===g.F$Y.city?t.city_name||"--":e===g.F$Y.district?t.biz_district_name||"--":e===g.F$Y.team&&t.team_type&&t.team_name?"".concat(g.TDR.description(t.team_type),"(").concat(t.team_name,")"):"--"}},{title:"分摊方式",dataIndex:["cost_order_info","allocation_mode"],width:200,render:function(e,t){return t.cost_order_info?e?g.eL2.description(e):"--":g.eL2.description(Z)}},{title:"分摊id",dataIndex:"cost_center_type",width:200,render:function(e,t){return e===g.F$Y.project?t.platform_code||"--":e===g.F$Y.headquarter?t.supplier_id||"--":e===g.F$Y.city?t.city_code||"--":e===g.F$Y.district?t.biz_district_id||"--":e===g.F$Y.team&&t.team_id_code||"--"}},{title:"累计已付款",width:100,dataIndex:"accumulated_payment_money",render:function(e){return e?g.fbc.exchangePriceCentToMathFormat(e):g.fbc.exchangePriceCentToMathFormat(0)}},{title:"累计已分摊",width:100,dataIndex:"accumulated_allocation_money",render:function(e){return e?g.fbc.exchangePriceCentToMathFormat(e):g.fbc.exchangePriceCentToMathFormat(0)}},{title:"未分摊总金额",width:100,dataIndex:"unallocation_money",render:function(e){return e?g.fbc.exchangePriceCentToMathFormat(e):g.fbc.exchangePriceCentToMathFormat(0)}},{title:"分摊开始日期",width:150,dataIndex:"allocation_start_date",render:function(e){return e?v()("".concat(e)).format("YYYY-MM-DD"):d?v()("".concat(d)).format("YYYY-MM-DD"):"--"}},{title:"已分摊截止日期",width:150,dataIndex:"allocation_end_date",render:function(e){return e?v()("".concat(e)).format("YYYY-MM-DD"):"--"}},{title:"未分摊截止日期",width:150,dataIndex:"unallocation_end_date",render:function(e){return e?v()("".concat(e)).format("YYYY-MM-DD"):"--"}},{title:"备注",width:150,dataIndex:["cost_order_info","note"],render:function(e){return e?l.createElement("div",{className:Y},e):"--"}}],x={showSizeChanger:!0,showQuickJumper:!0,defaultPageSize:10,onShowSizeChange:e.onChangePage,total:i.count,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],onChange:e.onChangePage};return l.createElement(s.IT,null,l.createElement(h.Z,{className:C},l.createElement(m.Z,{span:4},"租金记录")),l.createElement(h.Z,{className:C},l.createElement(m.Z,{span:4,offset:2},"合同租金：".concat(g.fbc.exchangePriceCentToMathFormat(f))),l.createElement(m.Z,{span:4},"合同租期：".concat(_))),l.createElement(p.Z,{bordered:!0,columns:D,dataSource:c,pagination:x,rowKey:function(e){return e._id},scroll:{y:200,x:2450}}))})),(0,u.Z)((0,o.Z)(e),"render",(function(){return e.renderContent()})),e}return n}(l.Component);(0,u.Z)(T,"propTypes",{houseContractDetail:d().object,houseAccout:d().object,onChangePage:d().func}),(0,u.Z)(T,"defaultProps",{houseContractDetail:{},houseAccout:{},onChangePage:function(){}});var R=T;function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var j=function(e){(0,a.Z)(n,e);var t=F(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),(0,u.Z)((0,o.Z)(e),"renderAgencyFees",(function(){var t=e.props,n=t.houseContractDetail,r=void 0===n?{}:n,o=t.houseAccout,a=void 0===o?{}:o,c=r.agentAccountingId,i=r.costOrderList,u=void 0===i?[]:i,f=a.data,d=0===(void 0===f?[]:f).length?[]:u.filter((function(e){return e.cost_accounting_id===c}));return l.createElement(b,{costOrderData:d,houseContractDetail:r})})),(0,u.Z)((0,o.Z)(e),"renderDeposit",(function(){var t=e.props,n=t.houseContractDetail,r=t.houseAccout,o=n.pledgeAccountingId,a=n.costOrderList,c=void 0===a?[]:a,i=n.pledgeMoney,u=r.data,f=0===(void 0===u?[]:u).length?[]:c.filter((function(e){return e.cost_accounting_id===o&&e.total_money===i}));return l.createElement(w,{costOrderData:f,houseContractDetail:n})})),(0,u.Z)((0,o.Z)(e),"renderRent",(function(){var t=e.props,n=t.houseAccout,r=t.houseContractDetail,o=t.onChangePage;return l.createElement(R,{houseAccout:n,houseContractDetail:r,onChangePage:o})})),(0,u.Z)((0,o.Z)(e),"render",(function(){return l.createElement(s.IT,{title:"房屋台账记录"},e.renderAgencyFees(),e.renderDeposit(),e.renderRent())})),e}return n}(l.Component);(0,u.Z)(j,"propTypes",{houseAccout:d().object,houseContractDetail:d().object,onChangePage:d().func}),(0,u.Z)(j,"defaultProps",{houseAccout:{},houseContractDetail:d().object,onChangePage:function(){}});var A=j},97304:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(15671),o=n(97326),a=n(60136),c=n(82963),i=n(61120),u=n(4942),l=n(93517),f=n.n(l),d=n(67294),s=n(45697),p=n.n(s),h=n(80385),m=n(96036),y="YqPXlILnGY2rTkhGNQlW";function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var g=m.KT.CoreFinderList,Z=function(e){(0,a.Z)(n,e);var t=v(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),(0,u.Z)((0,o.Z)(e),"renderCorePreview",(function(e,t){if(Array.isArray(e)&&f().get(e,"0")){var n=e.map((function(e,n){return{key:t[n],url:e}}));return d.createElement(g,{data:n})}return"--"})),(0,u.Z)((0,o.Z)(e),"renderHistoryContract",(function(){var t=e.props,n=t.houseContractDetail,r=void 0===n?{}:n,o=t.isExternal,a=void 0!==o&&o,c=r.fromContractInfo,i=void 0===c?{}:c,u=r.fromContractId;if(!u||0===Object.keys(i).length)return null;var l=i._id,s=i.agent_money,p=i.month_money,v=i.pledge_money,g=i.unrefunded_pledge_money,Z=[{label:"合同编号",form:l||"--"},{label:"附件",form:e.renderCorePreview(f().get(i,"attachment_private_urls",[]),f().get(i,"attachments",[]))}],_=[{label:"押金金额（元）",form:void 0!==v?h.fbc.exchangePriceToYuan(v):"--"},{label:"未退押金（元）",form:void 0!==v?h.fbc.exchangePriceToYuan(g):"--"},{label:"月租金（元）",form:void 0!==p?h.fbc.exchangePriceToYuan(p):"--"},{label:"中介费（元）",form:void 0!==s?h.fbc.exchangePriceToYuan(s):"--"}],C=Object.keys(i).length>0&&u&&!a?d.createElement("a",{key:"detail",target:"_blank",rel:"noopener noreferrer",className:y,href:"/#/Expense/Manage/House/Detail?id=".concat(l)},"更多详情"):null;return d.createElement(m.IT,{title:"历史合同信息",titleExt:C},d.createElement(m.KP,{items:Z,cols:2,layout:{labelCol:{span:6},wrapperCol:{span:18}}}),d.createElement(m.KP,{items:_,cols:4,layout:{labelCol:{span:12},wrapperCol:{span:12}}}))})),(0,u.Z)((0,o.Z)(e),"render",(function(){return e.renderHistoryContract()})),e}return n}(d.Component);(0,u.Z)(Z,"propTypes",{houseContractDetail:p().object,isExternal:p().bool}),(0,u.Z)(Z,"defaultProps",{houseContractDetail:{},isExternal:!1});var _=Z}}]);