"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[2911],{42911:function(e,t,r){r.r(t),r.d(t,{default:function(){return $}});var n=r(15671),o=r(43144),a=r(97326),c=r(60136),l=r(82963),i=r(61120),u=r(4942),s=r(67294),f=r(55609),p=r(45697),d=r.n(p),m=r(44654),h=r(94315),v=r.n(h),Z=r(93517),y=r.n(Z),C=r(96036),b=r(80385);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l.Z)(this,r)}}var g=C.KT.CoreFinderList,P=function(e){(0,c.Z)(r,e);var t=D(r);function r(e){var o;return(0,n.Z)(this,r),o=t.call(this,e),(0,u.Z)((0,a.Z)(o),"onUploadSuccess",(function(e,t,r){o.setState({fileName:r,fileType:e,fileUrl:t,visible:!0})})),(0,u.Z)((0,a.Z)(o),"onChangePreview",(function(e,t){if(t&&e){var r;return r=e.match(/\.(\w+)$/)[1],void o.onUploadSuccess(r,t,e)}o.props.dispatch({type:"applicationFiles/fetchKeyUrl",payload:{key:e,onUploadSuccess:function(t,r){return o.onUploadSuccess(t,r,e)}}})})),(0,u.Z)((0,a.Z)(o),"setVisible",(function(){o.setState({visible:!1})})),(0,u.Z)((0,a.Z)(o),"renderCorePreview",(function(e,t){if(Array.isArray(e)&&y().get(e,"0")){var r=e.map((function(e,r){return{key:t[r],url:e}}));return s.createElement(g,{data:r})}return"--"})),(0,u.Z)((0,a.Z)(o),"renderUsage",(function(e){return v().empty(e)||v().not.existy(e)||v().not.array(e)?"--":e.join(" , ")})),(0,u.Z)((0,a.Z)(o),"renderBaseInfo",(function(){var e=o.props.houseContractDetail,t=void 0===e?{}:e,r=t.pcUsage,n=t.area,a=t.houseSource,c=t.breakDate,l=[{label:"房屋地址",form:t.houseAddress||"--"}],i=[{label:"房东姓名",form:t.landlordName||"--"},{label:"用途",form:o.renderUsage(r)},{label:"房屋面积",form:n||"--"},{label:"房屋来源",form:a?b.BHm.description(a):"--"},{label:"断租时间",form:c||"--"}],u={labelCol:{span:8},wrapperCol:{span:16}};return s.createElement("div",null,s.createElement(C.KP,{items:l,cols:3,layout:u}),s.createElement(C.KP,{items:i,cols:3,layout:u}))})),(0,u.Z)((0,a.Z)(o),"renderExtraInfo",(function(){var e=o.props.houseContractDetail,t=[{label:"备注",form:e.note||"--"},{label:"附件",form:o.renderCorePreview(y().get(e,"attachmentPrivateUrls",[]),y().get(e,"attachments",[]))}];return s.createElement(C.KP,{items:t,cols:1,layout:{labelCol:{span:2},wrapperCol:{span:22}}})})),(0,u.Z)((0,a.Z)(o),"render",(function(){return s.createElement(C.IT,{title:"房屋信息"},o.renderBaseInfo(),o.renderExtraInfo())})),o.state={fileList:[],fileType:null,fileUrl:null,visible:!1,fileName:""},o}return r}(s.Component);(0,u.Z)(P,"propTypes",{houseContractDetail:d().object}),(0,u.Z)(P,"defaultProps",{houseContractDetail:{}});var R=P;function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l.Z)(this,r)}}var E=function(e){(0,c.Z)(r,e);var t=I(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),(0,u.Z)((0,a.Z)(e),"renderExpenseInfo",(function(){var t=e.props.houseContractDetail,r=void 0===t?{}:t,n=r.pledgeMoney,o=r.pledgeAccountingInfo,a=(o=void 0===o?{name:"",accountingCode:""}:o).name,c=o.accountingCode,l=[{label:"押金金额",form:void 0!==n?b.fbc.exchangePriceToYuan(n):"--"},{label:"科目",form:"".concat(a).concat(c)}];return s.createElement(C.KP,{items:l,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,u.Z)((0,a.Z)(e),"renderReceiptInfo",(function(){var t=e.props.houseContractDetail.pledgePayeeInfo,r=(t=void 0===t?{bank_details:"",card_name:"",card_num:""}:t).bank_details,n=[{label:"押金收款人",form:t.card_name||"--"},{label:"收款账号",form:t.card_num||"--"},{label:"开户支行",form:r||""}];return s.createElement(C.KP,{items:n,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,u.Z)((0,a.Z)(e),"render",(function(){return s.createElement(C.IT,{title:"押金信息"},e.renderExpenseInfo(),e.renderReceiptInfo())})),e}return r}(s.Component);(0,u.Z)(E,"propTypes",{houseContractDetail:d().object}),(0,u.Z)(E,"defaultProps",{houseContractDetail:{}});var A=E;function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l.Z)(this,r)}}var _=function(e){(0,c.Z)(r,e);var t=w(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),(0,u.Z)((0,a.Z)(e),"renderExpenseInfo",(function(){var t=e.props.houseContractDetail,r=void 0===t?{}:t,n=r.agentMoney,o=r.agentAccountingInfo,a=(o=void 0===o?{name:"",accountingCode:""}:o).name,c=o.accountingCode,l=[{label:"费用金额",form:void 0!==n?b.fbc.exchangePriceToYuan(n):"--"},{label:"科目",form:"".concat(a).concat(c)}];return s.createElement(C.KP,{items:l,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,u.Z)((0,a.Z)(e),"renderReceiptInfo",(function(){var t=e.props.houseContractDetail.agentPayeeInfo,r=(t=void 0===t?{bank_details:"",card_name:"",card_num:"",id_card_no:"",credit_no:"",payment:""}:t).bank_details,n=t.card_name,o=t.card_num,a=t.id_card_no,c=t.credit_no,l=t.payment,i=[{label:"中介费收款人",form:n||"--"},{label:"收款账号",form:o||"--"},{label:"开户支行",form:r||"--"},{label:"收款类型",form:b.Rpr.description(l)||"--"}];l===b.Rpr.credit&&i.push({label:"统一信用代码",form:c||"--"}),l===b.Rpr.idCard&&i.push({label:"身份证号",form:a||"--"});return s.createElement(C.KP,{items:i,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,u.Z)((0,a.Z)(e),"render",(function(){return s.createElement(C.IT,{title:"中介费信息"},e.renderExpenseInfo(),e.renderReceiptInfo())})),e}return r}(s.Component);(0,u.Z)(_,"propTypes",{houseContractDetail:d().object}),(0,u.Z)(_,"defaultProps",{houseContractDetail:{}});var x=_,Y=r(25354),B=r(30381),S=r.n(B);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l.Z)(this,r)}}var M=function(e){(0,c.Z)(r,e);var t=T(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),(0,u.Z)((0,a.Z)(e),"renderBaseInfo",(function(){var t=e.props.houseContractDetail,r=void 0===t?{}:t,n=r.monthMoney,o=r.schedulePrepareDays,a=r.periodMonthNum,c=r.initPaidMoney,l=r.initPaidMonthNum,i=r.rentAccountingInfo,u=(i=void 0===i?{name:"",accountingCode:""}:i).name,f=i.accountingCode,p=r.migrateFlag,d=r.lastAllocationMoney,m=r.allocationStartDate,h=r.allocationEndDate,v=[{label:"月租金",form:void 0!==n?b.fbc.exchangePriceToYuan(n):"--"},{label:"科目",form:"".concat(u).concat(f)},{label:"提前付款天数",form:void 0!==o?o:"--"},{label:"付款周期（月／次）",form:void 0!==a?a:"--"},{label:"已支付租金金额",form:void 0!==c?b.fbc.exchangePriceToYuan(c):"--"},{label:"已支付租金月数",form:void 0!==l?l:"--"}];!0===p&&v.push({label:"未分摊金额",form:void 0!==d?b.fbc.exchangePriceToYuan(d):"--"}),!0===p&&d>0&&v.push({label:"未分摊时间段",form:m&&h?"".concat(S()(String(m)).format("YYYY.MM.DD"),"-").concat(S()(String(h)).format("YYYY.MM.DD")):"--"}),!0!==p||d||v.push({label:"已分摊结束时间",form:h?S()(String(h)).format("YYYY.MM.DD"):"--"});return s.createElement(C.KP,{items:v,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,u.Z)((0,a.Z)(e),"renderReceiptInfo",(function(){var t=e.props.houseContractDetail.rentPayeeInfo,r=(t=void 0===t?{bank_details:"",card_name:"",card_num:"",id_card_no:"",credit_no:"",payment:""}:t).bank_details,n=t.card_name,o=t.card_num,a=t.id_card_no,c=t.credit_no,l=t.payment,i=[{label:"房租收款人",form:n||"--"},{label:"收款账号",form:o||"--"},{label:"开户支行",form:r||"--"},{label:"收款类型",form:b.Rpr.description(l)||"--"}];l===b.Rpr.credit&&i.push({label:"统一信用代码",form:c||"--"}),l===b.Rpr.idCard&&i.push({label:"身份证号",form:a||"--"});return s.createElement(C.KP,{items:i,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,u.Z)((0,a.Z)(e),"render",(function(){return s.createElement(C.IT,{title:"租金信息"},e.renderBaseInfo(),e.renderReceiptInfo())})),e}return r}(s.Component);(0,u.Z)(M,"propTypes",{houseContractDetail:d().object}),(0,u.Z)(M,"defaultProps",{houseContractDetail:{}});var k=M;function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l.Z)(this,r)}}var O=function(e){(0,c.Z)(r,e);var t=K(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),(0,u.Z)((0,a.Z)(e),"renderAscriptionInfo",(function(){var t=e.props.houseContractDetail,r=void 0===t?{}:t,n=r.costCenterType,o=r.platformNames,a=void 0===o?[]:o,c=r.allocationModeTitle,l=[{label:"成本中心",form:n?b.F$Y.description(n):"--"},{label:"平台",form:a.length>0?a[0]:"--"},{label:"分摊模式",form:c||"--"}];return s.createElement(C.KP,{items:l,layout:{labelCol:{span:8},wrapperCol:{span:16}},cols:4})})),(0,u.Z)((0,a.Z)(e),"renderShareInfo",(function(){var t=e.props.houseContractDetail.costAllocationList,r={labelCol:{span:8},wrapperCol:{span:16}};return(void 0===t?[]:t).map((function(e){var t=e.platformName,n=e.supplierName,o=e.cityName,a=e.bizDistrictName,c="",l=[];return t&&(c+=t,l.push({label:"平台",form:t})),n&&(c+=n,l.push({label:"供应商",form:n})),o&&(c+=o,l.push({label:"城市",form:o})),a&&(c+=a,l.push({label:"商圈",form:a})),s.createElement(C.KP,{key:c,items:l,layout:r,cols:4})}))})),(0,u.Z)((0,a.Z)(e),"renderInvoice",(function(){var t=[{label:"发票抬头",form:e.props.houseContractDetail.agentInvoiceTitle||"--"}];return s.createElement(C.KP,{items:t,layout:{labelCol:{span:2},wrapperCol:{span:5}},cols:1})})),(0,u.Z)((0,a.Z)(e),"renderAscription",(function(){return s.createElement(C.IT,{title:"成本归属/分摊"},e.renderAscriptionInfo(),e.renderShareInfo(),e.renderInvoice())})),(0,u.Z)((0,a.Z)(e),"render",(function(){return s.createElement("div",null,e.renderAscription())})),e}return r}(s.Component);(0,u.Z)(O,"propTypes",{houseContractDetail:d().object}),(0,u.Z)(O,"defaultProps",{houseContractDetail:{}});var U=O,N=r(97304);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l.Z)(this,r)}}var H=function(e){(0,c.Z)(r,e);var t=j(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),(0,u.Z)((0,a.Z)(e),"renderFirstLineInfo",(function(){var t=e.props.houseContractDetail,r=void 0===t?{}:t,n=[{label:"合同录入类型",form:r.migrateFlag?"现存执行合同补入":"新合同"},{label:"原OA审批单号",form:r.migrateOaNote||"--"}];return s.createElement(C.KP,{items:n,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}})})),(0,u.Z)((0,a.Z)(e),"renderBaseInfo",(function(){var t=e.props.houseContractDetail,r=void 0===t?{}:t,n=r.contractStartDate,o=r.contractEndDate,a=r.paymentMethodRent,c=void 0===a?0:a,l=r.paymentMethodPledge,i=void 0===l?0:l,u=n?S()(String(n)).format("YYYY-MM-DD"):"",f=o?S()(String(o)).format("YYYY-MM-DD"):"",p=[{label:"合同租期",form:u&&f?"".concat(u,"-").concat(f):"--"},{label:"付款方式",form:"押".concat(i,"付").concat(c)||0}];return s.createElement("div",null,s.createElement(C.KP,{items:p,cols:3,layout:{labelCol:{span:8},wrapperCol:{span:16}}}))})),(0,u.Z)((0,a.Z)(e),"render",(function(){return s.createElement(C.IT,{title:"合同信息"},e.renderFirstLineInfo(),e.renderBaseInfo())})),e}return r}(s.Component);(0,u.Z)(H,"propTypes",{houseContractDetail:d().object}),(0,u.Z)(H,"defaultProps",{houseContractDetail:{}});var F=H,L=r(58410);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l.Z)(this,r)}}var q=function(e){(0,c.Z)(r,e);var t=z(r);function r(){var e;return(0,n.Z)(this,r),e=t.call(this),(0,u.Z)((0,a.Z)(e),"onSearch",(function(){var t=e.props,r=t.dispatch,n=t.location,o=t.contractId,a=n.query.id,c=o||a;e.private.searchParams.page||(e.private.searchParams.page=1),e.private.searchParams.limit||(e.private.searchParams.limit=30),e.private.searchParams.id||(e.private.searchParams.id=c),r({type:"expenseHouseContract/fetchHouseAccount",payload:e.private.searchParams})})),(0,u.Z)((0,a.Z)(e),"onChangePage",(function(t,r){e.private.searchParams.page=t,e.private.searchParams.limit=r,e.onSearch(e.private.searchParams)})),(0,u.Z)((0,a.Z)(e),"onShowSizeChange",(function(t,r){e.private.searchParams.page=t,e.private.searchParams.limit=r,e.onSearch(e.private.searchParams)})),(0,u.Z)((0,a.Z)(e),"renderBaseInfo",(function(){var t=e.props.houseContractDetail;return s.createElement(Y.Z,{houseContractDetail:t})})),(0,u.Z)((0,a.Z)(e),"renderRenew",(function(){var t=e.props,r=t.houseContractDetail,n=t.isExternal;return s.createElement(N.Z,{houseContractDetail:r,isExternal:n})})),(0,u.Z)((0,a.Z)(e),"renderAccount",(function(){var t=e.props,r=t.houseAccout,n=t.houseContractDetail;return 0===Object.keys(r).length?null:s.createElement(L.Z,{houseAccout:r,houseContractDetail:n,onChangePage:e.onChangePage,onShowSizeChange:e.onShowSizeChange})})),(0,u.Z)((0,a.Z)(e),"renderHouseInfo",(function(){var t=e.props.houseContractDetail;return s.createElement(R,{houseContractDetail:t})})),(0,u.Z)((0,a.Z)(e),"renderAscriptionInfo",(function(){var t=e.props.houseContractDetail;return s.createElement(U,{houseContractDetail:t})})),(0,u.Z)((0,a.Z)(e),"renderContractInfo",(function(){var t=e.props.houseContractDetail;return s.createElement(F,{houseContractDetail:t})})),(0,u.Z)((0,a.Z)(e),"renderRentInfo",(function(){var t=e.props.houseContractDetail;return s.createElement(k,{houseContractDetail:t})})),(0,u.Z)((0,a.Z)(e),"renderDeposit",(function(){var t=e.props.houseContractDetail;return s.createElement(A,{houseContractDetail:t})})),(0,u.Z)((0,a.Z)(e),"renderAgencyFees",(function(){var t=e.props.houseContractDetail;return s.createElement(x,{houseContractDetail:t})})),(0,u.Z)((0,a.Z)(e),"render",(function(){return s.createElement("div",null,e.renderBaseInfo(),e.renderRenew(),e.renderAccount(),e.renderHouseInfo(),e.renderAscriptionInfo(),e.renderContractInfo(),e.renderRentInfo(),e.renderDeposit(),e.renderAgencyFees())})),e.state={},e.private={searchParams:{page:1,limit:10}},e}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,r=e.contractId,n=e.isExternal;if(!(void 0!==n&&n)){var o=r||t.query.id;this.props.dispatch({type:"expenseHouseContract/fetchHouseAccount",payload:{id:o}})}}},{key:"componentWillUnmount",value:function(){!0!==this.props.isReset&&(this.props.dispatch({type:"expenseHouseContract/resetHouseContractDetail"}),this.props.dispatch({type:"expenseCostOrder/resetCostOrders"}))}}]),r}(s.Component);(0,u.Z)(q,"propTypes",{houseContractDetail:d().object,houseAccout:d().object,isExternal:d().bool}),(0,u.Z)(q,"defaultProps",{houseContractDetail:{},houseAccout:{},isExternal:!1});var $=(0,m.withRouter)((0,f.connect)((function(e){var t=e.expenseHouseContract;return{houseContractDetail:t.houseContractDetail,houseAccout:t.houseAccout}}))(q))}}]);