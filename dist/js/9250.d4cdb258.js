"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[9250],{29250:function(e,t,n){n.r(t);n(20186);var a=n(75385),i=(n(18085),n(55241)),r=(n(438),n(14277)),o=n(15671),s=n(43144),c=n(97326),l=n(60136),d=n(82963),u=n(61120),p=n(4942),_=n(67294),m=n(55609),f=n(45697),h=n.n(f),y=n(68628),v=n(80385),b=n(96036),g=n(21385);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,d.Z)(this,n)}}var k=function(e){(0,l.Z)(n,e);var t=Z(n);function n(e){var s;return(0,o.Z)(this,n),s=t.call(this,e),(0,p.Z)((0,c.Z)(s),"changeTime",(function(e){return e&&e===+e?_.createElement("div",{className:g.Z.bossStatisticsTableBreakLine},"".concat(Math.floor(e/3600),"小时").concat(Math.floor(Math.floor(e%3600)/60),"分")):"--"})),(0,p.Z)((0,c.Z)(s),"renderContent",(function(){var e=s.props.statisticsList;if(0===Object.keys(e).length)return _.createElement(r.Z,null);var t=e.data,n=(void 0===t?[]:t).filter((function(e){return e.sum_orders})),o=[{title:"审批类型",dataIndex:"application_order_type",key:"application_order_type",fixed:"left",width:150,align:"center",render:function(e){return v.ZBL.description(e)}},{title:"审批流名称",dataIndex:"name",key:"name",width:180,fixed:"left",align:"center",render:function(e){return e?_.createElement("div",{className:g.Z.bossStatisticsTableBreakLine},e):"--"}},{title:"平台",dataIndex:"platform_name",key:"platform_name",fixed:"left",align:"center",width:90},{title:_.createElement("div",null,_.createElement("span",null,"当月已提报总数量"),_.createElement(i.Z,{content:"本月除关闭的审批单以外，所有提报过的审批单总数量"},_.createElement(y.Z,{className:g.Z.bossStatisticsTablePopoverIcon}))),dataIndex:"sum_orders",key:"sum_orders",width:90,align:"center"},{title:"当月待审批总数量",dataIndex:"sum_wait_orders",key:"sum_wait_orders",width:90,align:"center"},{title:"当月已完成总数量",dataIndex:"sum_done_orders",key:"sum_done_orders",width:90,align:"center"},{title:_.createElement("div",null,_.createElement("span",null,"当月已关闭总数量"),_.createElement(i.Z,{content:"当月关闭的审批单总数量"},_.createElement(y.Z,{className:g.Z.bossStatisticsTablePopoverIcon}))),dataIndex:"sum_close_orders",key:"sum_close_orders",width:90,align:"center"},{title:"节点个数",dataIndex:"flow_nodes_count",key:"flow_nodes_count",width:70,align:"center"},{title:"当前已完成审批总时长",dataIndex:"total_done_time",key:"total_done_time",width:90,align:"center",render:function(e){return s.changeTime(e)}},{title:"已完成审批平均时长",dataIndex:"avg_done_time",key:"avg_done_time",width:90,align:"center",render:function(e){return s.changeTime(e)}},{title:_.createElement("div",null,_.createElement("span",null,"完成率"),_.createElement(i.Z,{content:"当月已完成总数量/当月已提报总数量"},_.createElement(y.Z,{className:g.Z.bossStatisticsTablePopoverIcon}))),dataIndex:"done_rate",key:"done_rate",width:80,align:"center",className:g.Z.bossStatisticsTableHightlight,render:function(e){return e||"--"}},{title:"已完成审批提报-付款平均时长",dataIndex:"avg_submit_to_paid",key:"avg_submit_to_paid",width:120,align:"center",render:function(e){return s.changeTime(e)}},{title:"已完成审批付款-完成平均时长",dataIndex:"avg_paid_to_done",key:"avg_paid_to_done",width:120,align:"center",render:function(e){return s.changeTime(e)}},{title:"提报-付款总时长占比（%）",dataIndex:"rate_submit_to_paid",key:"rate_submit_to_paid",width:120,align:"center",render:function(e){return e||"--"}},{title:"付款-完成总时长占比（%）",dataIndex:"rate_paid_to_done",key:"rate_paid_to_done",align:"center",render:function(e){return e||"--"}}];return _.createElement(b.IT,{title:"审批流统计详情"},_.createElement(a.Z,{pagination:!1,columns:o,rowKey:function(e,t){return"".concat(e._id).concat(t)},dataSource:n,scroll:{x:1590,y:600},bordered:!0}))})),s.private={searchParams:{page:1,limit:30}},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.location.query;t({type:"expenseStatistics/fetchExpenseStatistics",payload:{approvalFlowId:n.approvalFlowId,month:n.month}})}},{key:"componentWillUnmount",value:function(){(0,this.props.dispatch)({type:"expenseStatistics/resetExpenseStatistics",payload:{}})}},{key:"render",value:function(){return _.createElement("div",null,this.renderContent())}}]),n}(_.Component);(0,p.Z)(k,"propTypes",{dispatch:h().func,statisticsList:h().object,location:h().object}),(0,p.Z)(k,"defaultProps",{dispatch:function(){},statisticsList:{},location:{}}),t.default=(0,m.connect)((function(e){return{statisticsList:e.expenseStatistics.statisticsList}}))(k)},21385:function(e,t){t.Z={searchWrap:"JZHOZKhK_Crz2QiX97ZA",bossStatisticsTableTitle:"FzBEW5DFW72jdfd2GyjH",bossStatisticsTablePopoverIcon:"WC4GY_kl3F_4v6YSmJ2I",bossStatisticsTableHightlight:"w3TAQFSCCFz_DLt7SZpH",bossStatisticsTableBreakLine:"sIrhrQ7vp91ncIKqS20S",bossStatisticsTableTitleExt:"ab9diTZFWboYJi0OyMxX"}}}]);