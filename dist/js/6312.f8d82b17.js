"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[6312],{79166:function(e,t,n){n.d(t,{Z:function(){return N}});var a=n(4942),r=n(71002),c=n(87462),o=n(67294),l=n(60444),s=n(94184),i=n.n(s),m=n(65632),u=n(96159),d=n(29439);function p(e){var t,n=e.prefixCls,a=e.value,r=e.current,c=e.offset,l=void 0===c?0:c;return l&&(t={position:"absolute",top:"".concat(l,"00%"),left:0}),o.createElement("span",{style:t,className:i()("".concat(n,"-only-unit"),{current:r})},a)}function f(e,t,n){for(var a=e,r=0;(a+10)%10!==t;)a+=n,r+=n;return r}function y(e){var t,n,a=e.prefixCls,r=e.count,l=e.value,s=Number(l),i=Math.abs(r),m=o.useState(s),u=(0,d.Z)(m,2),y=u[0],E=u[1],v=o.useState(i),g=(0,d.Z)(v,2),b=g[0],_=g[1],O=function(){E(s),_(i)};if(o.useEffect((function(){var e=setTimeout((function(){O()}),1e3);return function(){clearTimeout(e)}}),[s]),y===s||Number.isNaN(s)||Number.isNaN(y))t=[o.createElement(p,(0,c.Z)({},e,{key:s,current:!0}))],n={transition:"none"};else{t=[];for(var N=s+10,Z=[],C=s;C<=N;C+=1)Z.push(C);var h=Z.findIndex((function(e){return e%10===y}));t=Z.map((function(t,n){var a=t%10;return o.createElement(p,(0,c.Z)({},e,{key:t,value:a,offset:n-h,current:n===h}))})),n={transform:"translateY(".concat(-f(y,s,b<i?1:-1),"00%)")}}return o.createElement("span",{className:"".concat(a,"-only"),style:n,onTransitionEnd:O},t)}var E=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},v=function(e){var t=e.prefixCls,n=e.count,a=e.className,r=e.motionClassName,l=e.style,s=e.title,d=e.show,p=e.component,f=void 0===p?"sup":p,v=e.children,g=E(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),b=(0,o.useContext(m.E_).getPrefixCls)("scroll-number",t),_=(0,c.Z)((0,c.Z)({},g),{"data-show":d,style:l,className:i()(b,a,r),title:s}),O=n;if(n&&Number(n)%1==0){var N=String(n).split("");O=N.map((function(e,t){return o.createElement(y,{prefixCls:b,count:Number(n),value:e,key:N.length-t})}))}return l&&l.borderColor&&(_.style=(0,c.Z)((0,c.Z)({},l),{boxShadow:"0 0 0 1px ".concat(l.borderColor," inset")})),v?(0,u.Tm)(v,(function(e){return{className:i()("".concat(b,"-custom-component"),null==e?void 0:e.className,r)}})):o.createElement(f,_,O)},g=n(98787);function b(e){return-1!==g.Y.indexOf(e)}var _=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},O=function(e){var t,n,s=e.prefixCls,d=e.scrollNumberPrefixCls,p=e.children,f=e.status,y=e.text,E=e.color,g=e.count,O=void 0===g?null:g,N=e.overflowCount,Z=void 0===N?99:N,C=e.dot,h=void 0!==C&&C,w=e.size,x=void 0===w?"default":w,k=e.title,S=e.offset,j=e.style,P=e.className,L=e.showZero,D=void 0!==L&&L,I=_(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),M=o.useContext(m.E_),T=M.getPrefixCls,A=M.direction,z=T("badge",s),K=O>Z?"".concat(Z,"+"):O,R=null!=f||null!=E,W="0"===K||0===K,J=h&&!W,Y=J?"":K,B=(0,o.useMemo)((function(){return(null==Y||""===Y||W&&!D)&&!J}),[Y,W,D,J]),G=(0,o.useRef)(O);B||(G.current=O);var V=G.current,Q=(0,o.useRef)(Y);B||(Q.current=Y);var q=Q.current,F=(0,o.useRef)(J);B||(F.current=J);var H=(0,o.useMemo)((function(){if(!S)return(0,c.Z)({},j);var e={marginTop:S[1]};return"rtl"===A?e.left=parseInt(S[0],10):e.right=-parseInt(S[0],10),(0,c.Z)((0,c.Z)({},e),j)}),[A,S,j]),U=null!=k?k:"string"==typeof V||"number"==typeof V?V:void 0,X=B||!y?null:o.createElement("span",{className:"".concat(z,"-status-text")},y),$=V&&"object"===(0,r.Z)(V)?(0,u.Tm)(V,(function(e){return{style:(0,c.Z)((0,c.Z)({},H),e.style)}})):void 0,ee=i()((t={},(0,a.Z)(t,"".concat(z,"-status-dot"),R),(0,a.Z)(t,"".concat(z,"-status-").concat(f),!!f),(0,a.Z)(t,"".concat(z,"-status-").concat(E),b(E)),t)),te={};E&&!b(E)&&(te.background=E);var ne=i()(z,(n={},(0,a.Z)(n,"".concat(z,"-status"),R),(0,a.Z)(n,"".concat(z,"-not-a-wrapper"),!p),(0,a.Z)(n,"".concat(z,"-rtl"),"rtl"===A),n),P);if(!p&&R){var ae=H.color;return o.createElement("span",(0,c.Z)({},I,{className:ne,style:H}),o.createElement("span",{className:ee,style:te}),o.createElement("span",{style:{color:ae},className:"".concat(z,"-status-text")},y))}return o.createElement("span",(0,c.Z)({},I,{className:ne}),p,o.createElement(l.Z,{visible:!B,motionName:"".concat(z,"-zoom"),motionAppear:!1},(function(e){var t,n=e.className,r=T("scroll-number",d),l=F.current,s=i()((t={},(0,a.Z)(t,"".concat(z,"-dot"),l),(0,a.Z)(t,"".concat(z,"-count"),!l),(0,a.Z)(t,"".concat(z,"-count-sm"),"small"===x),(0,a.Z)(t,"".concat(z,"-multiple-words"),!l&&q&&q.toString().length>1),(0,a.Z)(t,"".concat(z,"-status-").concat(f),!!f),(0,a.Z)(t,"".concat(z,"-status-").concat(E),b(E)),t)),m=(0,c.Z)({},H);return E&&!b(E)&&((m=m||{}).background=E),o.createElement(v,{prefixCls:r,show:!B,motionClassName:n,className:s,count:q,title:U,style:m,key:"scrollNumber"},$)})),X)};O.Ribbon=function(e){var t,n=e.className,r=e.prefixCls,l=e.style,s=e.color,u=e.children,d=e.text,p=e.placement,f=void 0===p?"end":p,y=o.useContext(m.E_),E=y.getPrefixCls,v=y.direction,g=E("ribbon",r),_=b(s),O=i()(g,"".concat(g,"-placement-").concat(f),(t={},(0,a.Z)(t,"".concat(g,"-rtl"),"rtl"===v),(0,a.Z)(t,"".concat(g,"-color-").concat(s),_),t),n),N={},Z={};return s&&!_&&(N.background=s,Z.color=s),o.createElement("div",{className:"".concat(g,"-wrapper")},u,o.createElement("div",{className:O,style:(0,c.Z)((0,c.Z)({},N),l)},o.createElement("span",{className:"".concat(g,"-text")},d),o.createElement("div",{className:"".concat(g,"-corner"),style:Z})))};var N=O},50916:function(e,t,n){n(97564)},42509:function(e,t,n){var a=n(30381),r=n.n(a),c=n(80385);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{attribution:e.cost_center_type,project:e.project_id,flowId:e.flow_id,orderId:e.order_ids,payStatus:e.paid_state,reportAt:e.submit_from_date&&e.submit_end_date?[r()(String(e.submit_from_date)),r()(String(e.submit_end_date))]:null,payAt:e.paid_start_date&&e.paid_end_date?[r()(String(e.paid_start_date)),r()(String(e.paid_end_date))]:null,belongTime:e.belong_month?r()(String(e.belong_month),"YYYY-MM"):null,ticketStatus:e.inspect_bill_state,ticketTag:e.inspect_bill_label_ids,isTicketTag:e.has_inspect_bill_label_ids,themeTag:e.theme_label,processStatus:e.state,applicant:e.apply_account_name,invoiceTitleList:e.invoice_title_list,supplierIds:e.supplier_ids,industryIds:e.industry_ids,platformIds:e.platform_ids,projectIds:e.project_ids,cityCodes:e.city_codes,costAccountingIds:e.cost_accounting_ids,paidMoneyLow:e.paid_money_low?c.fbc.exchangePriceToYuan(e.paid_money_low):void 0,paidMoneyTop:e.paid_money_top?c.fbc.exchangePriceToYuan(e.paid_money_top):void 0}}},96312:function(e,t,n){n.r(t),n.d(t,{default:function(){return xe}});n(62004);var a=n(11382),r=n(29439),c=n(67294),o=(n(13062),n(71230)),l=(n(89032),n(15746)),s=n(93433),i=n(93517),m=n.n(i),u=n(55609),d=n(97116),p=n(29274),f="BoAvRztoTJzj9CmXrGUA",y="uEGV7ERBSRc9Noxohorh",E="XeQ0F2rJcBc8KhmYaLWE",v="EOGQFW697tyTlif8CF7L",g="exbvvBOlS6HIDRe1s8Wg",b="sw2LNc8Z7y_oa_xEpfLq",_="MSWYDv240Eq7pJ9_Ixml",O="yUAw5jYcfFgzGCbCuigw",N="RGrpepwOzdRg9HyyB4Rp",Z="DlEov3RLkwVASToPbx5g",C="i52fhm32bDxzcHSLrHWb",h="QqKMJwlwhZCojP0ADp7E",w="BoS_E6WDzlxPSnYEG1vD",x="LZyZOyfSVKvpkpHJrRBP",k="maD_xKCU0bLaQV8ZaZAo",S="kaJ6WGUFJxSNDRw2RfU3",j="mm9RwKBll94FDqx_TCgb",P="KYx8dnCYebazm1y71_po",L="nfkYFSqOviA2MQAx3gSM",D="XTzjEojRnODDOokjQdkW",I="lLL63SMGGMU1b37JuHX2",M="b25bbac9VK7mXN47_jmH",T="EN_VSSh8o3a3yJXcQySo",A="ljtHIdiXGL7vzTtQLoAR",z="gmmqZtnld_3p3wWFgAi2",K="w9s6QfGU_SQC3vk6Pu2b",R="IXli5UudgebWLAn_kCxJ",W="KnLICcnTOkKfiqmsTfZI",J="PmBOr3nY8vdf8v4CJmQH",Y="E6VzyJLlDI2r5N9VDBpI",B="Q_LiB1NZ7mIFtNfSylz7",G="zQkP_ydxYc4Dim_hyRdw",V="W3Jpgtewy5NnSLtsk8eM",Q="iT2m0nSWMalCe5uq0s_c",q="iEI8Jw8GKviGKz9oQYQE",F="oV2dGaHiD1uAF8QyjL_u",H="IXjeJYlm8a7fH0pPnVJQ",U="NAI8cqjppWjDRmnJAcns",X="DwpqoXL2Ixiar1J0H_V5",$="MYu1YfDFLqOGP_006Mrj",ee=(0,u.connect)((function(e){return{accountDetail:e.accountManage.accountDetail}}))((function(e){var t=e.accountDetail,n=void 0===t?{}:t,a=e.dispatch,r=e.loading,i=d.Iq.account.id;if((0,c.useEffect)((function(){return i&&a({type:"accountManage/fetchAccountsDetails",payload:{id:i}}),function(){a({type:"accountManage/resetAccountsDetails"})}}),[a,i]),r)return c.createElement("div",null);var u=n.name,f=n.phone,Z=n.role_names,C=void 0===Z?[]:Z,h=n.employee_info,w=void 0===h?{}:h,x=[];if(w&&Object.keys(w).length>0){var k=w.department_job_relation_info,S=void 0===k?{}:k,j=w.pluralism_department_job_relation_list,P=void 0===j?[]:j;x=[{departmentName:m().get(S,"department_info.name","--"),postName:m().get(S,"job_info.name",void 0)?"".concat(m().get(S,"job_info.name")," - 主岗"):"--",isSelected:!0}].concat((0,s.Z)(P.map((function(e){return{departmentName:m().get(e,"department_info.name","--"),postName:m().get(e,"job_info.name","--")}}))))}return c.createElement("div",{className:y},c.createElement("img",{src:p,role:"presentation",className:E}),c.createElement("div",{className:v},c.createElement("div",{className:g},u||"--","，祝您开心每一天！",c.createElement("span",{className:b},"(",f||"--",")"),c.createElement("span",{className:O,style:{marginLeft:12,fontSize:12}},"角色： "),c.createElement("span",{className:N,style:{fontSize:12}},Array.isArray(C)?C.join("/"):"--")),c.createElement(o.Z,{className:_},x.map((function(e,t){return c.createElement(l.Z,{key:t,span:6,style:{marginTop:10}},c.createElement("div",null,c.createElement("span",{className:O},"部门： "),c.createElement("span",{className:N,style:{fontWeight:e.isSelected?"bold":0}},e.departmentName)),c.createElement("div",null,c.createElement("span",{className:O},"岗位： "),c.createElement("span",{className:N,style:{fontWeight:e.isSelected?"bold":0}},e.postName)))})))))})),te=(n(50916),n(79166)),ne=n(4942),ae=n(80385),re=n(42509);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=(0,u.connect)((function(e){var t=e.codeOrder,n=t.reportOrderCount,a=t.submitOrderCount,r=e.expenseExamineOrder,c=r.affairsSubmitOrderCount,o=r.affairsReportOrderCount;return{reportOrderCount:n,submitOrderCount:a,borrowingCount:r.borrowingCount,repaymentCount:r.repaymentCount,affairsReportOrderCount:o,affairsSubmitOrderCount:c}}))((function(e){var t=e.dispatch,a=e.reportOrderCount,r=void 0===a?0:a,s=e.submitOrderCount,i=void 0===s?0:s,m=e.borrowingCount,u=void 0===m?0:m,p=e.repaymentCount,f=void 0===p?0:p,y=e.affairsReportOrderCount,E=void 0===y?0:y,v=e.affairsSubmitOrderCount,g=void 0===v?0:v,b=e.loading;return(0,c.useEffect)((function(){t({type:"expenseExamineOrder/getAffairsOrderCount",payload:{tabKey:ae.WPs.penddingVerify,approveType:ae.ZBL.borrowing}}),t({type:"expenseExamineOrder/getAffairsOrderCount",payload:{tabKey:ae.WPs.penddingVerify,approveType:ae.ZBL.repayments}}),t({type:"codeOrder/getOrderCount",payload:{tabKey:ae.nab.awaitReport}}),t({type:"expenseExamineOrder/getAffairsOrderCount",payload:{tabKey:ae.WPs.penddingVerify}}),t({type:"expenseExamineOrder/getAffairsOrderCount",payload:{tabKey:ae.WPs.penddingSubmit}});t({type:"codeOrder/getOrderSearchGroupList",payload:{tabKey:ae.nab.upcoming}}).then((function(e){var n=Array.isArray(e)?e.find((function(e){return e.is_default})):{},a=n&&n.filter_params?oe({},(0,re.Z)(n.filter_params)):{};t({type:"codeOrder/getOrderCount",payload:oe({tabKey:ae.nab.upcoming},a)})}))}),[t]),b?c.createElement("div",null):c.createElement("div",{className:Z},c.createElement("div",{className:C},"我的待办"),c.createElement(o.Z,null,c.createElement(l.Z,{span:4,onClick:function(){return window.location.href="/#/Code/PayOrder?tabKey=".concat(ae.nab.awaitReport)},className:w},c.createElement(te.Z,{count:i},c.createElement("img",{role:"presentation",className:x,src:n(22806)})),c.createElement("span",{className:k},"待提报CODE/TEAM费用单")),c.createElement(l.Z,{span:4,onClick:function(){return window.location.href="/#/Code/PayOrder?tabKey=".concat(ae.nab.upcoming)},className:w},c.createElement(te.Z,{count:r},c.createElement("img",{role:"presentation",className:x,src:n(23413)})),c.createElement("span",{className:k},"待审批CODE/TEAM费用单")),c.createElement(l.Z,{span:4,onClick:function(){return window.location.href="/#/Code/Manage/OAOrder?selectedTabKey=".concat(ae.WPs.penddingSubmit)},className:w},c.createElement(te.Z,{count:g},c.createElement("img",{role:"presentation",className:x,src:n(19175)})),c.createElement("span",{className:k},"待提报事务单")),c.createElement(l.Z,{span:4,onClick:function(){return window.location.href="/#/Code/Manage/OAOrder?selectedTabKey=".concat(ae.WPs.penddingVerify)},className:w},c.createElement(te.Z,{count:E},c.createElement("img",{role:"presentation",className:x,src:n(45845)})),c.createElement("span",{className:k},"待审批事务单")),c.createElement(l.Z,{span:4,onClick:function(){window.location.href="/#/Expense/Manage/ExamineOrder?selectedTabKey=".concat(ae.WPs.penddingVerify),d.By.setSearchParams("examineOrder",{approvalType:ae.ZBL.borrowing})},className:w},c.createElement(te.Z,{count:u},c.createElement("img",{role:"presentation",className:x,src:n(43913)})),c.createElement("span",{className:k},"待审批借款单")),c.createElement(l.Z,{span:4,onClick:function(){window.location.href="/#/Expense/Manage/ExamineOrder?selectedTabKey=".concat(ae.WPs.penddingVerify),d.By.setSearchParams("examineOrder",{approvalType:ae.ZBL.repayments})},className:w},c.createElement(te.Z,{count:f},c.createElement("img",{role:"presentation",className:x,src:n(80215)})),c.createElement("span",{className:k},"待审批还款单"))))})),se=(n(52560),n(71577)),ie=(n(51838),n(48086)),me=n(15861),ue=(n(52466),n(10642)),de=n(87757),pe=n.n(de),fe=n(30381),ye=n.n(fe),Ee=n(1870),ve=n(8812),ge=(n(55295),n(69713)),be=(n(18085),n(55241)),_e=n(73171),Oe=function(e){var t=e.detail,a=void 0===t?{}:t,o=e.onCheckSubmit,s=e.onCancelCollectLink,i=(0,c.useState)(!1),m=(0,r.Z)(i,2),u=m[0],d=m[1],p=(0,c.useState)(!1),f=(0,r.Z)(p,2),y=f[0],E=f[1],v=c.createElement("span",null,c.createElement(_e.Z,{className:Y}),c.createElement("span",{className:B},"取消收藏"));return c.createElement(l.Z,{span:8,key:a._id,className:z,onMouseOver:function(){return d(!0)},onMouseOut:function(){return d(!1)}},c.createElement("div",{className:K},c.createElement(be.Z,{content:c.createElement("div",{style:{display:"flex",maxWidth:500}},c.createElement("img",{style:{width:12,height:12,marginRight:3},src:n(67554),alt:""}),c.createElement("span",null,a.note)),trigger:"hover"},c.createElement("div",{className:G,onClick:function(){return o(a._id)}},c.createElement("img",{className:R,src:n(54586)("./".concat(a.icon,".png")),alt:""}),c.createElement("span",{className:W},a.name))),u?c.createElement(ge.Z,{title:v,visible:y},c.createElement("span",{className:J},c.createElement(_e.Z,{onClick:function(){return s(a._id)},onMouseOver:function(){return E(!0)},onMouseOut:function(){return E(!1)}}))):c.createElement("span",{className:J},c.createElement(_e.Z,{style:{opacity:0}}))))},Ne=n(4046);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=ue.Z.confirm,we=(0,u.connect)((function(e){return{accountDetail:e.accountManage.accountDetail,collectLinkList:e.codeMatter.collectLinkList}}))((function(e){var t=e.accountDetail,a=e.collectLinkList,s=void 0===a?{}:a,i=e.dispatch,u=e.setLoading,p=e.loading,f=(0,c.useState)(void 0),y=(0,r.Z)(f,2),E=y[0],v=y[1],g=(0,c.useState)(void 0),b=(0,r.Z)(g,2),_=b[0],O=b[1],N=(0,c.useState)(void 0),Z=(0,r.Z)(N,2),w=Z[0],x=Z[1];if((0,c.useEffect)((function(){return i({type:"codeMatter/getCollectLinkList",payload:{setLoading:u}}),function(){i({type:"codeMatter/resetCollectLinkList",payload:{}})}}),[i]),p)return c.createElement("div",null);var k=s.code_link_list,z=void 0===k?[]:k,K=s.team_link_list,R=void 0===K?[]:K,W=function(e){he({title:"".concat(e.zh_message),maskClosable:!0,icon:c.createElement(Ee.Z,null),onOk:function(){return J(e._id)}})},J=function(){var e=(0,me.Z)(pe().mark((function e(t){var n;return pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({type:"codeMatter/markCollectLink",payload:{state:ae.Pm2.cancel,linkId:t}});case 2:(n=e.sent)&&n._id?(ie.ZP.success("取消收藏成功"),i({type:"codeMatter/getCollectLinkList",payload:{}})):n.zh_message&&ie.ZP.error(n.zh_message);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,me.Z)(pe().mark((function e(t){var n;return pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({type:"codeMatter/checkSubmit",payload:{linkId:t}});case 2:(n=e.sent)&&n.ok?(B(t),ee(t)):n.zh_message&&W(Ce(Ce({},n),{},{_id:t}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){i({type:"codeOrder/onSubmitBuriedPoint",payload:{linkId:e,action:10}})},G=function(e){window.location.href="/#/Code/PayOrder/Update?orderId=".concat(e)},ee=function(){var e=(0,me.Z)(pe().mark((function e(t){var n;return pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(t),e.next=3,i({type:"codeOrder/getDraftOrder",payload:{linkId:t}});case 3:(n=e.sent).id&&n.message?(a=void 0,r=void 0,c=void 0,o=void 0,l=void 0,a=d.Iq.prompt,r=a.value,c=a.date,o=a.employee_id,l=d.Iq.account.id,!d.Iq.prompt||!(r||c||o)||l!==o||1===r&&ye()(new Date).diff(ye()(c),"days")>=1||2===r&&ye()(new Date).diff(ye()(c),"days")>=7?(v(n.id),x(!0)):G(n.id)):n.id&&!n.message?G(n.id):n.zh_message?n.zh_message&&ie.ZP.error(n.zh_message):te(t);case 5:case"end":return e.stop()}var a,r,c,o,l}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(e){var n=m().get(t,"employee_info.major_department_info._id"),a=m().get(t,"employee_info.department_job_relation_info._id");if(!a||!n)return ie.ZP.error("缺少部门/部门岗位关系id");i({type:"codeOrder/createOrder",payload:{sceneLinkId:e,departmentId:n,departmentJobId:a,onSucessCallback:function(e){return window.location.href="/#/Code/PayOrder/Create?orderId=".concat(e._id)}}})},ne=function(e){return c.createElement(c.Fragment,null,e.map((function(e){return c.createElement(Oe,{key:e._id,detail:e,onCancelCollectLink:J,onCheckSubmit:Y})})))};return c.createElement("div",{className:S},c.createElement("div",{className:C},"我的收藏",c.createElement("span",{className:h},"(仅支持主岗身份收藏的链接进行提报！)")),z&&z.length>0||R&&R.length>0?"":c.createElement(c.Fragment,null,c.createElement("div",{className:j},"TEAM/CODE提报收藏步骤"),c.createElement(o.Z,{style:{marginTop:10}},c.createElement(l.Z,{span:12},c.createElement(o.Z,null,c.createElement(l.Z,{span:10,className:U},c.createElement("div",{className:X},"1")),c.createElement(l.Z,{span:14},c.createElement("div",{className:P},"点击去添加"),c.createElement("div",{className:L},"点击去添加，跳转code/team审批管理- ",c.createElement("br",null),"审批中心-发起审批页面"),c.createElement("div",{className:D},c.createElement("img",{role:"presentation",className:I,src:n(23565)}))))),c.createElement(l.Z,{span:12,style:{display:"flex"}},c.createElement("div",{className:$},"2"),c.createElement("div",null,c.createElement("div",{className:P},"设为收藏"),c.createElement("div",{className:L},"鼠标经过审批链接，点击五角星即可收藏。"),c.createElement("img",{role:"presentation",className:M,src:n(82987)})))),c.createElement("div",{className:T},c.createElement(se.Z,{className:A,onClick:function(){return window.location.href="/#/Code/Document"}},"点击添加"))),(!z||z.length<1)&&(!R||R.length<1)?"":c.createElement(c.Fragment,null,function(){if(!z||z.length<1)return"";var e=z.slice(0,12);return c.createElement("div",null,c.createElement("div",{className:Q},c.createElement("div",{className:V},c.createElement("span",{className:q}),c.createElement("span",null,"CODE相关")),c.createElement("span",{onClick:function(){return window.location.href="/#/Code/Document?jumpKey=".concat(ae.G$J.code)},className:H},"更多提报",c.createElement(ve.Z,null))),c.createElement(o.Z,null,ne(e)))}(),function(){if(!R||R.length<1)return"";var e=R.slice(0,12);return c.createElement("div",null,c.createElement("div",{className:Q},c.createElement("div",{className:V},c.createElement("span",{className:F}),c.createElement("span",null,"TEAM相关")),c.createElement("span",{onClick:function(){return window.location.href="/#/Code/Document?jumpKey=".concat(ae.G$J.team)},className:H},"更多提报",c.createElement(ve.Z,null))),c.createElement(o.Z,null,ne(e)))}()),c.createElement(Ne.Z,{visible:w,setVisble:x,onCreateOrder:function(){return te(_)},onUpdateOrder:function(){return G(E)}}))})),xe=function(){var e=(0,c.useState)(!0),t=(0,r.Z)(e,2),n=t[0],o=t[1];return c.createElement("div",{className:f},n?c.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999,position:"absolute",top:0,left:0,background:"rgba(0, 0, 0, .1)"}},c.createElement(a.Z,{tip:"Loading..."})):null,c.createElement(ee,{loading:n}),c.createElement(le,{loading:n}),c.createElement(we,{loading:n,setLoading:o}))}}}]);