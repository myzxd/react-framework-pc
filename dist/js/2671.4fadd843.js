"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[2671],{24986:function(e,t,n){n(13062);var o=n(71230),r=(n(89032),n(15746)),a=(n(61023),n(11324)),i=(n(52560),n(71577)),s=(n(51838),n(48086)),p=n(15671),c=n(43144),l=n(97326),d=n(60136),u=n(82963),m=n(61120),f=n(4942),v=n(45697),y=n.n(v),h=n(55609),g=n(67294),Z=(n(98703),n(84391)),x=n(99124);function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,m.Z)(e);if(t){var r=(0,m.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,u.Z)(this,n)}}var O=function(e){(0,d.Z)(n,e);var t=I(n);function n(e){var o;return(0,p.Z)(this,n),o=t.call(this,e),(0,f.Z)((0,l.Z)(o),"componentWillReceiveProps",(function(e){o.setState({isVerifyFileType:!!e.isVerifyFileType&&e.isVerifyFileType,onSuccess:e.onSuccess?e.onSuccess:void 0,onFailure:e.onFailure?e.onFailure:void 0})})),(0,f.Z)((0,l.Z)(o),"onUpload",(function(){return!1})),(0,f.Z)((0,l.Z)(o),"onCancel",(function(){o.setState(P(P({},o.state),{},{visible:!1}))})),(0,f.Z)((0,l.Z)(o),"onUploadSuccessCallback",(function(e,t){var n=o.props.onSuccess;t&&n&&n(t)})),(0,f.Z)((0,l.Z)(o),"onCheckValue",(function(e,t){var n,o=b(e);try{for(o.s();!(n=o.n()).done;){if(n.value.uid===t)return!0}}catch(e){o.e(e)}finally{o.f()}return!1})),(0,f.Z)((0,l.Z)(o),"onChange",(function(e){var t=e.file,n=o.state.domain,r=o.state,a=r.isVerifyFileType,i=r.verifyFileType,p=t.name.slice(t.name.lastIndexOf(".")+1),c="";if(t.name&&(c=t.name.slice(0,t.name.lastIndexOf("."))),t.size>=152e5)return s.ZP.error("单个压缩包最大限制为15兆，请重新上传");if(a){if(i.some((function(e){return e===p})))return s.ZP.error("不支持上传压缩文件")}else if(i.some((function(e){return e===p}))&&"zip"!==p)return s.ZP.error("仅支持zip格式压缩包，请重新上传");return o.props.dispatch({type:"applicationFiles/uploadAmazonFile",payload:{file:t,domain:n,fileType:p,fileKey:c,onSuccessCallback:o.onUploadSuccessCallback.bind((0,l.Z)(o),t)}}),!1})),o.state={isVerifyFileType:!!e.isVerifyFileType&&e.isVerifyFileType,verifyFileType:["zip","rar","7z","wim","cab","iso","jar","ace","tar","arj","lzh"],onSuccess:e.onSuccess?e.onSuccess:void 0,onFailure:e.onFailure?e.onFailure:void 0,domain:e.domain},o}return(0,c.Z)(n,[{key:"render",value:function(){var e={action:"",name:"file",onChange:this.onChange,beforeUpload:this.onUpload,showUploadList:!1,multiple:!0};return g.createElement("div",{className:x.Z["app-comp-expense-common-upload-box"]},g.createElement(o.Z,null,g.createElement(r.Z,{sm:17,id:x.Z["app-comp-expense-common-upload-btn "]},g.createElement(a.Z,e,g.createElement(i.Z,{className:x.Z["app-comp-expense-common-upload-reset-hover"]},g.createElement(Z.Z,null),"点击上传")),g.createElement("br",null),g.createElement("span",{className:x.Z["upload-style"]},"上传压缩包仅支持zip格式，单个压缩包限制15M"))))}}]),n}(g.Component);(0,f.Z)(O,"propTypes",{domain:y().string}),(0,f.Z)(O,"defaultProps",{domain:"deflateDomain"}),t.Z=(0,h.connect)()(O)},2671:function(e,t,n){n.d(t,{Z:function(){return te}});n(18085);var o=n(55241),r=(n(13062),n(71230)),a=(n(61605),n(37636)),i=(n(89032),n(15746)),s=n(93433),p=n(71002),c=n(15671),l=n(43144),d=n(97326),u=n(60136),m=n(82963),f=n(61120),v=n(4942),y=n(94315),h=n.n(y),g=n(93517),Z=n.n(g),x=n(96486),b=n.n(x),w=n(30381),E=n.n(w),P=n(45697),I=n.n(P),O=n(67294),S=n(68628),A=n(32632),D=n(36556),C=n(81729),N=n(22505),L=n(45451),k=n(97116),j=n(18202),F=n(80385),M=n(88144),R=n(96036),T=(n(21316),n(75443)),_=n(55609),K=n(73171),V=n(52911);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,f.Z)(e);if(t){var r=(0,f.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,m.Z)(this,n)}}var q=R.KT.CoreFinderList,H=function(e){(0,u.Z)(n,e);var t=B(n);function n(){var e;return(0,c.Z)(this,n),e=t.call(this),(0,v.Z)((0,d.Z)(e),"onDeleteFile",(function(t){var n={id:t,onSuccessCallback:e.onSuccessCallback,onFailureCallback:e.onSuccessCallback};e.props.dispatch({type:"expenseExamineOrder/deleteSupplementOpinion",payload:n})})),(0,v.Z)((0,d.Z)(e),"onSuccessCallback",(function(){var t=e.props.orderId;void 0!==t&&(e.props.dispatch({type:"expenseExamineOrder/fetchExamineOrderDetail",payload:{id:t}}),e.props.dispatch({type:"expenseCostOrder/fetchCostOrders",payload:{examineOrderId:t}}))})),(0,v.Z)((0,d.Z)(e),"isShowAllOpinion",(function(){var t=e.state.isShowAllOpinion;e.setState({isShowAllOpinion:!t})})),(0,v.Z)((0,d.Z)(e),"renderCorePreview",(function(t){var n=e.props.fileUrlList;if(Array.isArray(t)&&Z().get(t,"0")){var o=t.map((function(e){var t,o=n.filter((function(t){return t.fileName===e}));return h().existy(o[0])&&h().not.empty(o[0])&&(t=o[0].fileUrl),{key:e,url:t}}));return O.createElement(q,{data:o,enableTakeLatest:!1})}return"--"})),e.state={isShowAllOpinion:!1},e}return(0,l.Z)(n,[{key:"render",value:function(){var e=this,t=this.props.dataSource,n=this.state.isShowAllOpinion,o=t;!1===n&&(o=t.slice(0,3));var r=t.length>3;return O.createElement("div",null,O.createElement("div",{className:V.Z["app-comp-expense-supplement-title"]},"补充意见"),O.createElement("div",{className:V.Z["app-comp-expense-supplement-content"]},o.map((function(t,n){var o=!1;t.creatorId===k.Iq.account.id&&(o=!0);var r=Z().get(t,"creatorInfo.name");return O.createElement("div",{key:n,className:V.Z["app-comp-expense-supplement-item"]},O.createElement("div",null,O.createElement("div",null,O.createElement("span",{className:V.Z["app-comp-expense-supplement-creator-name"]},r),t.createdAt?O.createElement("span",{className:V.Z["app-comp-expense-supplement-create-at"]},E()(t.createdAt).format("YYYY-MM-DD HH:mm:ss")):""),O.createElement("div",{className:V.Z["app-comp-expense-supplement-text-wrap"]},O.createElement("p",{className:V.Z["app-comp-expense-supplement-text"]},t.content)),t.fileList&&t.fileList.length>0?O.createElement("div",{className:V.Z["app-comp-expense-supplement-files"]},"附件：",e.renderCorePreview(t.fileList)):"",!0===o?O.createElement(T.Z,{title:"您是否确定删除该条补充意见",onConfirm:function(){e.onDeleteFile(t.id)},okText:"确定",cancelText:"取消"},O.createElement(K.Z,{className:V.Z["app-comp-expense-supplement-del-icon"]})):""))})),!0===r?O.createElement("span",{onClick:function(){return e.isShowAllOpinion()},className:V.Z["app-comp-expense-supplement-show-more-btn"]},n?"收起 <<":"查看更多 >>"):""))}}]),n}(O.Component);(0,v.Z)(H,"propTypes",{orderId:I().string,dataSource:I().array,fileUrlList:I().array}),(0,v.Z)(H,"defaultProps",{dataSource:[],fileUrlList:[]});var G=(0,_.connect)((function(e){return{examineOrderDetail:e.expenseExamineOrder.examineOrderDetail,costOrdersData:e.expenseCostOrder.costOrdersData}}))(H),z=n(45430),U=n(53292),W=n(81914),Y=n(80089),Q=n(98249),J=n(16196),X=n(49322);function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,f.Z)(e);if(t){var r=(0,f.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,m.Z)(this,n)}}var ee=function(e){(0,u.Z)(n,e);var t=$(n);function n(){var e;return(0,c.Z)(this,n),e=t.call(this),(0,v.Z)((0,d.Z)(e),"onShowMore",(function(){var t=e.state.isShowMore;e.setState({isShowMore:!t})})),(0,v.Z)((0,d.Z)(e),"onChangeCopyGiveValues",(function(t){e.props.onChangeCopyGiveValues&&e.props.onChangeCopyGiveValues(t)})),(0,v.Z)((0,d.Z)(e),"isShowAllNode",(function(){var t=e.state.isShowAllNode;e.setState({isShowAllNode:!t})})),(0,v.Z)((0,d.Z)(e),"reduceAccountList",(function(e){return!e||"object"===(0,p.Z)(e)&&Array===e.constructor&&0===e.length?"无":e.reduce((function(e,t,n){return 0===n?t.name:"".concat(e,", ").concat(t.name)}),"")})),(0,v.Z)((0,d.Z)(e),"renderActionText",(function(t){var n=Z().get(t,"flowNodeInfo",{}).isPaymentNode,o=e.props.paidState;if(t.state===F.iH$.close)return"已关闭";if(0===t.indexNum&&t.state===F.iH$.approve)return"提报";if(0===t.indexNum&&t.state!==F.iH$.approve)return"待提报";if(n&&o===F.$ym.waiting)return"待付款";if(n&&o===F.$ym.paid)return"已付款";if(t.state===F.iH$.approve)return"已审核";if(t.state===F.iH$.reject&&void 0!==t.rejectToNodeId&&h().not.empty(t.rejectToRecordAccounts)){var r=t.rejectToNodeInfo,a=t.rejectToRecordAccounts.map((function(e){return e.name})).join(" , ");return"驳回至 ".concat(r.name," (").concat(a,")")}return t.state===F.iH$.reject&&void 0===t.rejectToNodeId?"驳回至申请人":t.state===F.iH$.recall?"已撤回":"待处理"})),(0,v.Z)((0,d.Z)(e),"renderColor",(function(e){return 0===e.indexNum&&e.state===F.iH$.close?"#d00218":0===e.indexNum?"#595959":e.state===F.iH$.approve?"#29ab58":e.state===F.iH$.reject||e.state===F.iH$.close||e.state===F.iH$.recall?"#d00218":"#F5A623"})),(0,v.Z)((0,d.Z)(e),"renderIconByState",(function(t){var n=e.props.paidState;return t.find((function(e){return e.state===F.iH$.reject||e.state===F.iH$.recall||e.state===F.iH$.close}))?O.createElement("img",{src:A,className:V.Z["app-comp-expense-process-state-img"],role:"presentation"}):t.find((function(e){return Z().get(e,"flowNodeInfo",{}).isPaymentNode}))&&n===F.$ym.paid?O.createElement("img",{src:L,className:V.Z["app-comp-expense-process-state-img"],role:"presentation"}):t.find((function(e){return Z().get(e,"flowNodeInfo",{}).isPaymentNode}))&&n===F.$ym.waiting?O.createElement("img",{src:N,className:V.Z["app-comp-expense-process-state-img"],role:"presentation"}):t.find((function(e){return e.state===F.iH$.pendding}))?O.createElement("img",{src:C,className:V.Z["app-comp-expense-process-state-img"],role:"presentation"}):O.createElement("img",{src:D,className:V.Z["app-comp-expense-process-state-img"],role:"presentation"})})),(0,v.Z)((0,d.Z)(e),"renderNodeName",(function(e){return 0===e[0].indexNum?"提报节点":e[0].flowNodeInfo.name})),(0,v.Z)((0,d.Z)(e),"renderActionName",(function(e){var t=e.operateAccountList;if(t&&t.length>1){var n=t.filter((function(t){return t.id===e.accountInfo.id}));return h().empty(n)?"":O.createElement("span",null,"(",n[0].name,")")}return""})),(0,v.Z)((0,d.Z)(e),"renderOperates",(function(t){var n=e.props,o=n.isOpera,r=void 0===o||o,a=n.copyGiveValues,p=n.isSupportCc,c=t.isHighLight,l=t.id,d=void 0===l?void 0:l,u=e.props,m=u.dataSource,f=void 0===m?{}:m,v=u.examineDetail,y=void 0===v?{}:v;if(h().empty(f)||h().not.existy(f))return"";var g=f.currentPendingAccounts,x=void 0===g?[]:g,b=f.inspectBillState,w=c&&r&&-1!==x.indexOf(k.Iq.account.id);if(!1===z.ZP.canOperateExpenseManageApprovalButton())return"";var E=f.id,P=f.currentRecordIds,I=void 0===P?[]:P,S=f.currentFlowNode,A=void 0===S?void 0:S,D=f.currentRecordList,C=void 0===D?[]:D,N=f.applicationOrderType,L="",R=Z().get(f,"paidState"),T=Z().get(y,"nodeList",[]),_=T.filter((function(e){return e.id===A}))[0]||{},K=_.approveMode,B=_.isPaymentNode,q=void 0!==B&&B;K===F.Fv8.any&&1===I.length&&(L=I[0]),K===F.Fv8.all&&C.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.operateAccounts,n=void 0===t?[]:t;n.forEach((function(t){t===k.Iq.account.id&&(L=e.id)}))}));var H=Z().get(f,"flowRecordList",[]),G=((H.filter((function(e){return e.flowNodeInfo.isInspectBillNode}))||[])[0]||{}).id,$=void 0===G?void 0:G,ee=T.find((function(e){return e.isInspectBillNode}))||[],te=ee.accountIds,ne=void 0===te?[]:te,oe=ee.postList,re=void 0===oe?[]:oe,ae=Array.isArray(re)&&re.length>0?re.map((function(e){return(0,s.Z)(e.account_ids)})):[],ie=[].concat((0,s.Z)(ne),(0,s.Z)(ae.flat())),se=(N===F.ZBL.cost||N===F.ZBL.travel)&&$===d&&void 0!==ie.find((function(e){return e===k.Iq.account.id})),pe=[O.createElement(j.Z,{key:"SupplementOpinion",orderId:E,recordId:L,isPaymentNode:q,dispatch:e.props.dispatch,onSuccessCallback:e.onSuccessCallback}),O.createElement(W.Z,{key:"RejectModal",orderId:E,copyGiveValues:a,orderRecordId:L,currentFlowNode:A,flowRecordList:H,nodeList:T,dispatch:e.props.dispatch,examineDetail:y}),O.createElement(U.Z,{key:"ApproveModal",orderId:E,copyGiveValues:a,orderRecordId:L,examineOrderDetail:f,currentFlowNode:A,isPaymentNode:q,dispatch:e.props.dispatch,examineDetail:y})];h().truthy(q)&&R===F.$ym.waiting&&pe.splice(1,0,O.createElement(Y.Z,{key:"PaymentExceptionModal",orderId:E,orderRecordId:L,dispatch:e.props.dispatch}));var ce={orderId:E,orderRecordId:$,orderDetail:f},le=[O.createElement(Q.Z,ce)];return b!==F.xTp.already&&(le[le.length]=O.createElement(J.Z,ce)),b===F.xTp.waiting&&(le[le.length]=O.createElement(X.Z,ce)),w||se?O.createElement(i.Z,{className:V.Z["app-comp-expense-detail-operate-wrap"],span:8,style:{display:"flex",flexDirection:"column"}},O.createElement("div",{style:{display:"flex"}},w?pe.map((function(e,t){return O.createElement("div",{key:t,className:V.Z["app-comp-expense-detail-operate-item"]},e)})):null),O.createElement("div",{style:{display:"flex",margin:5}},w&&p?O.createElement(M.t2,{isProcess:!0,flowId:f.flowId,orderId:E,value:a,onChange:e.onChangeCopyGiveValues}):null),O.createElement("div",{style:{display:"flex",marginTop:10}},se?le.map((function(e,t){return O.createElement("div",{key:t,className:V.Z["app-comp-expense-detail-operate-item"]},e)})):null)):O.createElement("div",null)})),(0,v.Z)((0,d.Z)(e),"renderTimeLine",(function(t){var n=e.state.isShowAllNode,o=t;!1===n&&(o=t.slice(0,3));var r=t.length>3;return O.createElement("div",{style:{marginTop:10}},O.createElement(a.Z,null,o.map((function(t,n){return e.renderTimeLineByGroup(t,n)})),r?O.createElement(a.Z.Item,{color:"green"},O.createElement("span",{onClick:function(){return e.isShowAllNode()},className:V.Z["app-comp-expense-process-timeline-item"]},n?"收起 <<":"查看更多 >>")):null))})),(0,v.Z)((0,d.Z)(e),"renderTimeLineByGroup",(function(t,n){var o=e.props,p=o.fileUrlList,c=o.orderId,l=o.flowId,d=o.isCopyGive,u=o.copyGiveValues,m=o.isSupportCc,f=Z().get(e.props,"isOpera",!0),v=e.renderIconByState(t);return O.createElement(a.Z.Item,{key:n,dot:v},O.createElement(r.Z,{className:V.Z["app-comp-expense-process-point-name-wrap"]},O.createElement(i.Z,{className:V.Z["app-comp-expense-process-point-name"]},e.renderNodeName(t))),t.map((function(t,o){var a=[],v=!1;!0!==t.isHighLight&&(v=!0),0===n&&d&&(v=!1),h().existy(t.extraInfoList)&&h().not.empty(t.extraInfoList)&&(a=t.extraInfoList.filter((function(e){return e.state===F.Eso.normal}))),h().existy(a)&&h().not.empty(a)&&a.reverse();var y=Z().get(t,"flexibleCcDepartmentInfoList",[]),g=Z().get(t,"flexibleCcAccountInfoList",[]),x=Z().get(t,"flexibleCcDepartmentJobRelationInfoList",[]).map((function(e){return e.job_info})),b=[].concat((0,s.Z)(y),(0,s.Z)(g),(0,s.Z)(x)),w=Z().get(t,"fixedCcDepartmentInfoList",[]),P=Z().get(t,"fixedCcAccountInfoList",[]),I=Z().get(t,"fixedCcDepartmentJobRelationInfoList",[]).map((function(e){return e.job_info})),S=[].concat((0,s.Z)(w),(0,s.Z)(P),(0,s.Z)(I));return O.createElement(r.Z,{span:24,type:"flex",justify:"start",align:"middle",key:o,className:V.Z["app-comp-expense-process-point-item-wrap"]},O.createElement(i.Z,{span:10,className:V.Z["app-comp-expense-process-point-item-people-name"]},t.operateAccountList.map((function(e,n){var o=t.operatePostList||[],r=e.name||"",a=Z().get(o[n],"post_name","");return O.createElement("span",{key:n,className:V.Z["app-comp-expense-process-point-item-node-wrap"]},a?O.createElement("span",null,O.createElement("span",{className:V.Z["app-comp-expense-process-point-item-node-post-name"]},a,":"),"  ",O.createElement("span",{className:V.Z["app-comp-expense-process-point-item-node-name"]},r)):O.createElement("span",null,O.createElement("span",{className:V.Z["app-comp-expense-process-point-item-node-name"]},r)))}))),O.createElement(i.Z,{span:3,className:V.Z["app-comp-expense-process-point-item-node-operate-at"]},t.operatedAt?E()(t.operatedAt).format("YYYY-MM-DD HH:mm:ss"):"--"),O.createElement(i.Z,{span:2,className:V.Z["app-comp-expense-process-point-item-node-state"],style:{color:e.renderColor(t)}},e.renderActionName(t),O.createElement("span",null,e.renderActionText(t))),0===n&&t.isSupplementIdea&&!0!==t.isHighLight&&!0===f||0===n&&d&&m?O.createElement(i.Z,{span:8},0===n&&t.isSupplementIdea&&!0!==t.isHighLight&&!0===f?O.createElement("div",{style:{marginTop:10}},O.createElement("div",{className:V.Z["app-comp-expense-process-point-item-node-operate-wrap"]},O.createElement(j.Z,{key:"SupplementOpinion",orderId:c,recordId:t.id,dispatch:e.props.dispatch}))):"",0===n&&d&&m?O.createElement("div",{style:{marginTop:10},className:V.Z["app-comp-expense-process-point-item-node-operate-wrap"]},O.createElement(M.t2,{isProcess:!0,flowId:l,value:u,onChange:e.onChangeCopyGiveValues})):null):null,e.renderOperates(t),""!==t.note?O.createElement(i.Z,{span:15,className:V.Z["app-comp-expense-process-point-item-node-note"]},O.createElement("span",null,"意见：".concat(t.note)),e.renderActionName(t)):null,v&&h().existy(b)&&h().not.empty(b)?O.createElement(i.Z,{span:15,className:V.Z["app-comp-expense-process-point-item-node-note"]},O.createElement("span",null,"抄送：",b.map((function(e){return e.name})).join(", "))):null,h().existy(S)&&h().not.empty(S)?O.createElement(i.Z,{span:15,className:V.Z["app-comp-expense-process-point-item-node-note"]},O.createElement("span",null,"固定抄送：",S.map((function(e){return e.name})).join(", "))):null,h().not.empty(a)?O.createElement(i.Z,{span:15,className:V.Z["app-comp-expense-process-point-item-node-addition-wrap"]},O.createElement(G,{orderId:c,dataSource:a,fileUrlList:p})):"",t.approvalTransferReason&&t.transferAt&&Array.isArray(t.historyApprovalAccountList)&&t.historyApprovalAccountList.length>0?O.createElement(i.Z,{span:24,style:{marginTop:5}},O.createElement("div",null,O.createElement(r.Z,{align:"middle",span:24,className:V.Z["app-comp-expense-process-point-item-node-name"]},O.createElement(i.Z,{span:10},t.historyApprovalAccountList[0].name),O.createElement(i.Z,{span:3,className:V.Z["app-comp-expense-process-point-item-node-operate-at"]},t.transferAt?E()(t.transferAt).format("YYYY-MM-DD HH:mm:ss"):"--"),O.createElement(i.Z,{span:3,className:V.Z["app-comp-expense-process-point-item-node-state"],style:{color:"#008FE0"}},"已转交给".concat(t.operateAccountList[0].name))),O.createElement(i.Z,{span:10,className:V.Z["app-comp-expense-process-point-item-node-note"]},"转交原因：".concat(F.Ocf.description(t.approvalTransferReason))))):null)})))})),(0,v.Z)((0,d.Z)(e),"renderExamineFlow",(function(t,n){if(h().not.existy(n)||h().empty(n))return null;var r=e.state.isShowMore,i=t.currentFlowNode,s=t.applyAccountInfo,p=t.state,c=!1;h().existy(i)&&h().not.empty(i)&&(c=!0);var l,d=Z().get(n,"nodeList",[]),u=b().cloneDeep(d.filter((function(e){return 0!==e.indexNum&&"提报节点"!==e.name})));void 0===u.find((function(e){return"提报节点"===e.name}))&&u.unshift({name:"提报节点",accountList:[{name:s.name}]}),h().existy(i)&&h().not.empty(i)&&h().existy(u)&&h().not.empty(u)&&(l=u.findIndex((function(e){return e.id===i})));var m=u;h().existy(l)&&h().not.empty(l)&&!1===r&&(m=u.slice(0,l+1));var f=O.createElement(a.Z,{onMouseEnter:e.onShowNormal,onMouseLeave:e.onShowNormal},m.map((function(t,n){var o,r;return p!==F.DU5.processing&&p!==F.DU5.pendding||t.id!==i||(o={color:"#FF7700"},r="#FF7700"),(l+1<=n||p===F.DU5.finish||p===F.DU5.close||p===F.DU5.deleted)&&(o={color:"#ccc"},r="#ccc"),O.createElement(a.Z.Item,{key:n,style:o,color:r},t.name,"(",t.postList&&t.postList.length>0?"".concat(t.postList.reduce((function(t,n,o){return 0===o?"".concat(n.post_name,"(").concat(e.reduceAccountList(n.account_info_list),")"):"".concat(t,", ").concat(n.post_name,"(").concat(e.reduceAccountList(n.account_info_list),")")}),""),","):null,Array.isArray(t.accountList)&&t.accountList.length>0?t.accountList.reduce((function(e,t,n){return 0===n?t.name:"".concat(e,", ").concat(t.name)}),""):"无",")")})),!0===c?O.createElement(a.Z.Item,{key:m.length,color:"#ccc"},O.createElement("span",{className:V.Z["app-comp-expense-process-show-more-btn"],onClick:e.onShowMore},!0===r?"收起 <<":"显示更多 >>")):null);return O.createElement("div",null,O.createElement("span",{className:V.Z["app-comp-expense-process-examflow-wrap"]},n.name),O.createElement(o.Z,{content:f},O.createElement(S.Z,{className:V.Z["app-comp-expense-process-examflow-icon"]})))})),e.state={isShowAllNode:!1,isShowMore:!1},e}return(0,l.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=void 0===t?[]:t,o=e.currentFlowNode,r=e.accountList,a=void 0===r?[]:r,i=e.applyAccountId,s=e.dataSource,p=void 0===s?{}:s;if(h().empty(n)||h().not.existy(n))return O.createElement("div",null);var c,l=[],d=[],u=n.length;n.forEach((function(e,t){var r=e,s=r.operateAccountList.map((function(e){return e.id}));if(-1!==a.indexOf(k.Iq.account.id)||i===k.Iq.account.id?r.isSupplementIdea=!0:r.isSupplementIdea=!1,r.nodeId===o&&-1!==s.indexOf(k.Iq.account.id)&&r.state===F.iH$.pendding&&0!==r.indexNum?r.isHighLight=!0:r.isHighLight=!1,1!==u){if(void 0===c&&(c=r.indexNum),c===r.indexNum)return void d.push(r);l.push(d),c=r.indexNum}(d=[]).push(r),t+1===n.length&&l.push(d)})),l=l.map((function(e){var t=[],n=[];return e.forEach((function(e){!1===e.isHighLight?t.push(e):n.push(e)})),n.concat(t)}));var m=this.props,f=m.examineDetail,v=m.isTitleExt,y=this.renderExamineFlow(p,f);return v&&(y=void 0),O.createElement(R.IT,{title:"审核记录详情",titleExt:y},this.renderTimeLine(l))}}]),n}(O.PureComponent);(0,v.Z)(ee,"propTypes",{data:I().array,orderId:I().string,applyAccountId:I().string,currentFlowNode:I().string,accountList:I().array,fileUrlList:I().array,dataSource:I().object}),(0,v.Z)(ee,"defaultProps",{data:[],orderId:"",applyAccountId:"",currentFlowNode:"",accountList:[],fileUrlList:[],dataSource:{}});var te=ee},53292:function(e,t,n){n(52560);var o=n(71577),r=(n(52466),n(10642)),a=n(93433),i=n(15671),s=n(43144),p=n(97326),c=n(60136),l=n(82963),d=n(61120),u=n(4942),m=n(94315),f=n.n(m),v=n(93517),y=n.n(v),h=n(45697),g=n.n(h),Z=n(67294),x=n(55609),b=n(15873),w=n(66939),E=(n(98703),n(80385)),P=n(8240),I=n(96036),O=n(77359),S=n(88081),A=n(97418),D=n(2612),C=n(70270),N=n(29335);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var F=function(e){(0,c.Z)(n,e);var t=j(n);function n(e){var s;return(0,i.Z)(this,n),s=t.call(this),(0,u.Z)((0,p.Z)(s),"onChangepayeeList",(function(e,t){var n=s.state.payeeList,o=n.filter((function(e){return e._id===t}))[0];o.payee_type=e.target.value,s.setState({payeeList:[].concat((0,a.Z)(n),[o])})})),(0,u.Z)((0,p.Z)(s),"onDepartmentSuccessCallback",(function(){s.setState({visible:!0})})),(0,u.Z)((0,p.Z)(s),"onDepartmentFailureCallback",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.setState({departmentVisible:!0,departmentInfo:e})})),(0,u.Z)((0,p.Z)(s),"onShowDepartmentModal",(function(){s.setState({visible:!0,departmentVisible:!1,departmentInfo:{}})})),(0,u.Z)((0,p.Z)(s),"onShowModal",(function(){var e=s.props,t=e.examineOrderDetail,n=e.departmentPostDetail,o=e.orderId;if(t.applicationOrderType===A.z0.getDepartmentPostKey()){var r,a,i,p,c=y().get(n,"job_data_list",[])[0]||{},l=y().get(n,"organization_sub_type");return l===E.KV8.newAdd?i=y().get(n,"target_parent_department_info._id",void 0):l===E.KV8.adjustment?(p=y().get(n,"update_parent_department_info._id",void 0),a=y().get(n,"department_info._id",void 0)):a=y().get(n,"department_info._id",void 0),l===E.KV8.addendum&&(r=y().get(c,"job_info._id",void 0)),l===E.KV8.reduceStaff&&(r=y().get(c,"job_info._id",void 0)),l===E.KV8.addPost&&(r=y().get(c,"job_info._id",void 0)),void s.props.dispatch({type:"expenseExamineOrder/checkExamineDepartmentOrder",payload:{orderId:o,subType:l,departmentId:a,jobId:r,targetParentDepartmentId:i,updateParentDepartmentId:p,onSuccessCallback:s.onDepartmentSuccessCallback,onFailureCallback:s.onDepartmentFailureCallback}})}s.setState({visible:!0})})),(0,u.Z)((0,p.Z)(s),"onHideModal",(function(){s.private.isSubmit=!0,s.setState({visible:!1,detail:{},isVerifyPost:!1,isDefault:!0}),s.props.form.resetFields()})),(0,u.Z)((0,p.Z)(s),"onChangeTab",(function(e){s.setState({activeKey:e}),s.props.form.setFieldsValue({note:void 0})})),(0,u.Z)((0,p.Z)(s),"onSubmit",(function(){var e=s.props,t=e.orderId,n=e.orderRecordId,o=e.isPaymentNode,r=e.examineOrderDetail,a=y().get(r,"paidState"),i=y().get(r,"pluginExtraMeta",{}),p=!1;f().existy(i)&&(p=i.is_plugin_order);var c=s.state.payeeList,l=y().get(s.props,"copyGiveValues.departmentNames",[]),d=y().get(s.props,"copyGiveValues.userNames",[]);s.props.form.validateFields((function(e,i){if(!e){s.setState({visible:!1});var u={id:t,orderRecordId:n,note:i.note,copyGivedepartments:l,copyGiveusers:d,onSuccessCallback:s.onSuccessCallback,onFailureCallback:function(){return s.private.isSubmit=!0}},m=r.applicationOrderType;m!==E.ZBL.cost&&m!==E.ZBL.housing&&m!==E.ZBL.travel||!o||!0===p||a!==E.$ym.waiting||(u.payeeList=c),m===E.ZBL.salaryIssue&&!0===o&&(u.onSuccessCallback=void 0);var v=i.assignedPerson,y=void 0===v?{}:v,h=y.postId,g=y.personId;f().existy(g)&&f().not.empty(g)&&(u.person=g),f().existy(h)&&f().not.empty(h)&&(u.postIds=h),s.private.isSubmit&&(s.private.isSubmit=!1,s.props.dispatch({type:"expenseExamineOrder/updateExamineOrderByApprove",payload:u})),m===E.ZBL.salaryIssue&&!0===o&&s.onSuccessCallback()}}))})),(0,u.Z)((0,p.Z)(s),"onVerify",(function(e,t,n){var o=s.props.currentFlowNode,r=s.props.examineOrderDetail,a=s.props.examineDetail,i=s.state.isVerifyPost,p=y().get(a,"nodeList"),c=p.findIndex((function(e){return e.id===o})),l=y().get(p[c+1],"accountList",[]);1===y().get(p[c+1],"postList",[]).length&&0===l.length&&(i=!0),1!==y().get(r,"flowRecordList").filter((function(e){return e.state===E.iH$.pendding})).length||e.isLastNode||!0===e.isApprovalAll||!1===e.isApprovalAll&&e.isAutoMatic&&!1===i||!1===e.isApprovalAll&&!0===i&&t.postId&&t.personId||!1===e.isApprovalAll&&!1===e.isAutoMatic&&!1===i&&t.personId?n():n("请选择指派审批人或审批岗位")})),(0,u.Z)((0,p.Z)(s),"onChangePerson",(function(e,t){s.setState({isVerifyPost:e,isDefault:!1,isDisabledPerson:t})})),(0,u.Z)((0,p.Z)(s),"onSuccessCallback",(function(){s.setState({showModal:!0});var e=setInterval((function(){s.setState({count:s.state.count-1}),s.state.count<=0&&s.closeAndReload(e)}),1e3)})),(0,u.Z)((0,p.Z)(s),"closeAndReload",(function(e){if(clearInterval(e),window.parent&&window.parent.opener&&window.parent.opener.location){var t=P.ZP.uriFromHash(window.parent.opener.location.hash);window.parent.opener.location.href="".concat(t,"?selectedTabKey=").concat(E.WPs.penddingVerify),window.parent.opener.location.reload(),window.close()}window.close()})),(0,u.Z)((0,p.Z)(s),"renderModal",(function(){var e=s.props,t=e.currentFlowNode,n=e.examineOrderDetail,o=s.props.form.getFieldDecorator,a=s.state,i=a.visible,p=a.isDefault,c=a.activeKey,l=s.props.isPaymentNode?E.tLf.finance:E.tLf.often,d=c||l,u=s.props.examineDetail,m=void 0===u?{}:u;if(i&&0!==Object.keys(m).length){var v,h,g,x,b=[{label:"意见",form:o("note",{rules:[{max:1e3,message:"意见的最大长度不能超过1000"}]})(Z.createElement(O.Z,{alternatives:E.tLf.conversionData(d),placeholder:"请输入意见",rows:4}))}],P=y().get(m,"nodeList"),A=P.findIndex((function(e){return e.id===t})),N=y().get(P[A+1],"accountList",[]),L=y().get(P[A+1],"postList",[]),j=y().get(P[A+1],"approveMode"),F=y().get(P[A+1],"pickMode"),M=y().get(n,"flowRecordList").filter((function(e){return e.state===E.iH$.pendding})),R={message:"请指派审批人或审批岗位",isApprovalAll:!1,isAutoMatic:!1,isLastNode:A===P.length-1,required:F===E.zn9.manual};j===E.Fv8.all&&(R.isApprovalAll=!0),F===E.zn9.automatic&&(R.isAutoMatic=!0);var T=!1,_=!1;0===L.length&&1===N.length&&j===E.Fv8.any&&(h=N[0].id,x=N[0].id,T=!0),1===L.length&&0===N.length&&j===E.Fv8.any&&(v=L[0]._id,x=L[0]._id,T=!0),1===L.length&&0===N.length&&1===L[0].account_ids.length&&j===E.Fv8.any&&(h=L[0].account_ids[0],v=L[0]._id,g=L[0].account_ids[0],x=L[0]._id,T=!0,_=!0);var K={accountIdsData:N.concat(L),postPersonList:L,onChangePerson:s.onChangePerson,isDisabledPerson:p?_:s.state.isDisabledPerson,isDisabledPost:T,postList:L,personList:N};if(j===E.Fv8.any&&A!==P.length-1&&1===M.length){var V={label:"下一节点审批人",form:o("assignedPerson",{initialValue:{personId:h,postId:v,postPersonId:g,personShowId:x},rules:[k(k({},R),{},{validator:s.onVerify})],validateTrigger:s.onSubmit})(Z.createElement(S.Z,K))};b.unshift(V)}var B=s.props.isPaymentNode,q=y().get(n,"paidState"),H=y().get(n,"pluginExtraMeta",{}),G=n.applicationOrderType,z=!1;return f().existy(H)&&(z=H.is_plugin_order),Z.createElement(r.Z,{title:B?"完成付款":"",visible:i,onOk:s.onSubmit,onCancel:s.onHideModal},G!==E.ZBL.cost&&G!==E.ZBL.housing&&G!==E.ZBL.travel||!B||q!==E.$ym.waiting?null:Z.createElement(D.Z,{isPluginOrder:z,dataSource:s.state.payeeList,isPaymentNode:B,money:y().get(n,"totalMoney",void 0),pluginMoney:H.total_money,onChangepayeeList:s.onChangepayeeList}),Z.createElement(C.Z,{title:B?"":"操作",activeKey:d,onChange:s.onChangeTab}),Z.createElement(w.Z,{layout:"horizontal"},Z.createElement(I.KP,{items:b,cols:1,layout:{labelCol:{span:6},wrapperCol:{span:14}}})))}})),(0,u.Z)((0,p.Z)(s),"renderDepartmentModal",(function(){var e=s.state,t=e.departmentVisible,n=e.departmentInfo,o=void 0===n?{}:n,a=s.props.departmentPostDetail,i=y().get(o,"hint_list",[]),p=y().get(a,"organization_sub_type"),c=y().get(a,"job_data_list",[])[0]||{},l="";return p!==E.KV8.newAd&&p!==E.KV8.adjustment&&p!==E.KV8.abolition||(l=y().get(a,"department_info.name","--")),p!==E.KV8.addPost&&p!==E.KV8.addendum&&p!==E.KV8.reduceStaff||(l="".concat(y().get(a,"department_info.name","--")," - ").concat(y().get(c,"job_info.name","--"))),Z.createElement(r.Z,{title:"操作",okText:"继续审批",visible:t,onOk:s.onShowDepartmentModal,onCancel:function(){s.setState({departmentVisible:!1,departmentInfo:{}})}},Z.createElement("h4",null,"调整类型：".concat(E.KV8.description(p),"申请(").concat(l,")")),i.map((function(e){return Z.createElement("p",{dangerouslySetInnerHTML:{__html:"".concat(e.replace(/\n/g,"<br/>"))}})})))})),(0,u.Z)((0,p.Z)(s),"renderCloseModal",(function(){var e=s.state.count;return Z.createElement(r.Z,{title:"提示",visible:s.state.showModal,footer:null,closable:!1},Z.createElement("div",null,Z.createElement("p",{className:N.Z["app-comp-expense-approve-close-modal-wrap"]},Z.createElement(b.Z,{className:N.Z["app-comp-expense-approve-close-modal-icon "]}),Z.createElement("span",{className:N.Z["app-comp-expense-approve-close-modal-finish"]},"审批完成")),Z.createElement("p",{className:N.Z["app-comp-expense-approve-close-modal-count"]},Z.createElement("span",{className:N.Z["app-comp-expense-approve-close-modal-seconds"]},e),"秒后，系统页面自动关闭"),Z.createElement("p",{className:N.Z["app-comp-expense-approve-close-modal-tip"]},"如系统关闭失败，请手动关闭"),Z.createElement("p",{className:N.Z["app-comp-expense-approve-close-modal-btn-wrap"]},Z.createElement("span",{className:N.Z["app-comp-expense-approve-close-modal-btn"],onClick:s.closeAndReload},"立即关闭"))))})),(0,u.Z)((0,p.Z)(s),"render",(function(){var e="同意";return!0===s.props.isPaymentNode&&(e="完成付款"),Z.createElement("div",null,s.renderModal(),s.renderDepartmentModal(),s.renderCloseModal(),Z.createElement(o.Z,{type:"primary",onClick:s.onShowModal},e))})),s.state={visible:!1,departmentVisible:!1,departmentInfo:{},count:5,showModal:!1,isVerifyPost:!1,isDefault:!0,isDisabledPerson:!1,payeeList:[]},s.private={dispatch:e.dispatch,isSubmit:!0},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.examineOrderDetail,n=e.dispatch,o=t.applicationOrderType,r=t.bizExtraWorkflowIds,a=void 0===r?[]:r;if(o===A.z0.getDepartmentPostKey()){var i=E.HhW[o],s=t[i]?t[i]:{},p=(s._id?[{id:s._id,key:o}]:a.map((function(e){return{id:e,key:o}})))[0]||{};s._id?n({type:"codeDocument/fetchDepartmentPostDetail",payload:{isPluginOrder:!0,oaDetail:s}}):n({type:"codeDocument/fetchDepartmentPostDetail",payload:{id:p.id}})}}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;this.onHideModal(),e({type:"codeDocument/reduceDepartmentPostDetail",payload:{}})}}],[{key:"getDerivedStateFromProps",value:function(e){var t=y().get(e,"examineOrderDetail.payeeList",[]),n=y().get(e,"examineOrderDetail.pluginExtraMeta",{}),o=y().get(e,"examineOrderDetail.pluginExtraMeta.payee_list",[]),r=!1;return f().existy(n)&&(r=n.is_plugin_order),t&&!0!==r?{payeeList:t}:r&&r?{payeeList:o}:null}}]),n}(Z.Component);(0,u.Z)(F,"propTypes",{orderId:g().string,currentFlowNode:g().string,examineOrderDetail:g().object,orderRecordId:g().string,isPaymentNode:g().bool}),(0,u.Z)(F,"defaultProps",{examineOrderDetail:{},isPaymentNode:!1}),t.Z=(0,x.connect)((function(e){return{departmentPostDetail:e.codeDocument.departmentPostDetail}}))(w.Z.create()(F))},88081:function(e,t,n){var o=n(15671),r=n(43144),a=n(97326),i=n(60136),s=n(82963),p=n(61120),c=n(4942),l=(n(29093),n(16317)),d=n(96486),u=n.n(d),m=n(93517),f=n.n(m),v=n(45697),y=n.n(v),h=n(67294),g=n(29335);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,p.Z)(e);if(t){var r=(0,p.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}var x=l.Z.Option,b=function(e){(0,i.Z)(n,e);var t=Z(n);function n(){var e;return(0,o.Z)(this,n),e=t.call(this),(0,c.Z)((0,a.Z)(e),"onChangePersonOrPost",(function(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.props,a=r.onChange,i=r.onChangePerson,s=r.postPersonList,p=t,c=[],l=o.postmark,d=void 0===l?void 0:l,u=!!d;if(u){n=t;var m=s.filter((function(e){return e._id===t}));p=1===(c=f().get(m[0],"account_info_list",[])).length?c[0]._id:void 0}e.setState({personId:p,postId:n,personShowId:t,isShowPost:u,accountList:c}),a({personId:p,postId:n,postPersonId:1===c.length?c[0]._id:void 0,personShowId:t});var v=1===c.length,y=!!u;i&&i(y,v)})),(0,c.Z)((0,a.Z)(e),"onChangePerson",(function(t){var n=e.props.onChange,o=e.state,r=o.postId,a=o.personShowId;e.setState({personId:t,postPersonId:t}),n&&n({personId:t,postId:r,postPersonId:t,personShowId:a})})),(0,c.Z)((0,a.Z)(e),"renderForm",(function(){var t=e.props,n=t.accountIdsData,o=t.value,r=t.isDisabledPost,a=t.isDisabledPerson,i=t.postList,s=void 0===i?[]:i,p=t.personList,c=void 0===p?[]:p,d=e.state.accountList,m=o.postPersonId,v=o.personShowId,y=e.state.isShowPost;1===s.length&&0===c.length&&1!==s[0].account_ids&&(d=f().get(n[0],"account_info_list",[]),y=!0),1===s.length&&0===c.length&&1===s[0].account_ids&&(d=f().get(n[0],"account_info_list",[]),y=!0);var Z=u().uniqWith(d,u().isEqual);return h.createElement("div",null,h.createElement(l.Z,{placeholder:"请选择审批人或审批岗位",value:v,className:!0===y?g.Z["app-comp-expense-approve-person-post-selector"]:g.Z["app-comp-expense-approve-person-selector"],disabled:r,onChange:e.onChangePersonOrPost},n.map((function(e){var t=e.id||e._id,n=e.name||e.post_name,o=e.post_name;return h.createElement(x,{key:t,value:t,postmark:o},n)}))),!0===y?h.createElement(l.Z,{placeholder:"请选择审批人",value:m,className:g.Z["app-comp-expense-approve-person-post-person-selector"],disabled:a,onChange:e.onChangePerson},Z.map((function(e){return h.createElement(x,{key:e._id,value:e._id},e.name)}))):null)})),e.state={value:void 0,isShowPost:!1,personShowId:void 0,postPersonId:void 0,postId:void 0,personId:void 0,accountList:[]},e}return(0,r.Z)(n,[{key:"render",value:function(){return h.createElement("div",null,this.renderForm())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.value,o=void 0===n?{}:n,r=t.value;return void 0===(void 0===r?void 0:r)&&Object.keys(o).length>0?{value:o,personShowId:o.personShowId,postPersonId:o.postPersonId,postId:o.postId,personId:o.personId}:null}}]),n}(h.Component);(0,c.Z)(b,"propTypes",{value:y().object}),(0,c.Z)(b,"defaultProps",{value:{}}),t.Z=b},98249:function(e,t,n){n(52560);var o=n(71577),r=(n(52466),n(10642)),a=n(87462),i=(n(26574),n(9676)),s=(n(51838),n(48086)),p=n(4942),c=n(15861),l=n(93433),d=(n(35668),n(86585)),u=n(29439),m=n(87757),f=n.n(m),v=n(67294),y=n(55609);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=(0,y.connect)((function(e){return{ticketTags:e.ticketTag.ticketTags}}))((function(e){var t=e.dispatch,n=e.ticketTags,p=void 0===n?{}:n,m=e.orderId,y=void 0===m?void 0:m,h=e.orderRecordId,Z=void 0===h?void 0:h,x=e.orderDetail,b=void 0===x?{}:x,w=b.inspectBillLabelList,E=(void 0===w?[]:w).map((function(e){return e._id})),P=d.Z.useForm(),I=(0,u.Z)(P,1)[0],O=(0,v.useState)(!1),S=(0,u.Z)(O,2),A=S[0],D=S[1];(0,v.useEffect)((function(){A&&t({type:"ticketTag/getTicketTags",payload:{page:1,limit:9999}})}),[t,A]),(0,v.useEffect)((function(){I.setFieldsValue({tags:(0,l.Z)(E)})}),[b,E,I]);var C=p.data,N=void 0===C?[]:C,L=function(){var e=(0,c.Z)(f().mark((function e(){var n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.validateFields();case 2:return n=e.sent,e.next=5,t({type:"ticketTag/setOrderTicket",payload:g(g({},n),{},{orderRecordId:Z,orderId:y})});case 5:(o=e.sent)&&o.ok?(s.ZP.success("请求成功"),D(!1),t({type:"expenseExamineOrder/fetchExamineOrderDetail",payload:{id:y,flag:!0}})):o&&o.zh_message&&s.ZP.error(o.zh_message);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return v.createElement("div",null,function(){if(A){var e=N.map((function(e){var t=e._id;return{label:e.name,value:t}}));return v.createElement(r.Z,{title:"打验票标签",visible:A,onOk:L,okText:"保存",onCancel:function(){return D(!1),void I.setFieldsValue({tags:(0,l.Z)(E)})},destroyOnClose:!0},v.createElement(d.Z,(0,a.Z)({},{labelCol:{span:0},wrapperCol:{span:24}},{form:I,initialValues:{tags:(0,l.Z)(E)}}),v.createElement(d.Z.Item,{name:"tags",label:"",rules:[{required:!0,message:"请选择"}]},v.createElement(i.Z.Group,{style:{margin:"5px 5px"},options:e}))))}}(),v.createElement(o.Z,{onClick:function(){return D(!0)}},"打验票标签"))}))},16196:function(e,t,n){n(52560);var o=n(71577),r=(n(52466),n(10642)),a=n(87462),i=(n(75310),n(76772)),s=n(4942),p=(n(51838),n(48086)),c=n(15861),l=(n(35668),n(86585)),d=n(29439),u=(n(9070),n(20924)),m=n(87757),f=n.n(m),v=n(67294),y=n(55609);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=u.Z.TextArea;t.Z=(0,y.connect)((function(e){return{ticketTags:e.ticketTag.ticketTags}}))((function(e){var t=e.dispatch,n=e.orderId,s=l.Z.useForm(),u=(0,d.Z)(s,1)[0],m=(0,v.useState)(!1),y=(0,d.Z)(m,2),h=y[0],x=y[1],b=(0,v.useState)({}),w=(0,d.Z)(b,2),E=w[0],P=w[1],I=function(){var e=(0,c.Z)(f().mark((function e(){var o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"ticketTag/getTicketCheck",payload:{id:n}});case 2:(o=e.sent)&&o.err_msg?(P(o.err_msg),x(!0)):o&&o.zh_message&&p.ZP.error(o.zh_message);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,c.Z)(f().mark((function e(){var o,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.validateFields();case 2:return o=e.sent,e.next=5,t({type:"ticketTag/checketTicket",payload:g(g({},o),{},{id:n})});case 5:(r=e.sent)&&r.ok?(p.ZP.success("请求成功"),u.resetFields(),t({type:"expenseExamineOrder/fetchExamineOrderDetail",payload:{id:n,flag:!0}}),x(!1)):r&&r.zh_message&&p.ZP.error(r.zh_message);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return v.createElement("div",null,function(){if(h){return v.createElement(r.Z,{title:"完成验票",visible:h,onOk:O,okText:"确认验票",onCancel:function(){return x(!1)}},E.map((function(e,t){return v.createElement(i.Z,{key:t,showIcon:!0,closable:!0,message:e,type:"error",style:{margin:"10px 0"}})})),v.createElement(l.Z,(0,a.Z)({},{labelCol:{span:6},wrapperCol:{span:14}},{form:u}),v.createElement(l.Z.Item,{name:"note",label:"验票说明意见"},v.createElement(Z,{rows:6}))))}}(),v.createElement(o.Z,{onClick:function(){return I()}},"完成验票"))}))},49322:function(e,t,n){n(52560);var o=n(71577),r=(n(52466),n(10642)),a=n(87462),i=(n(51838),n(48086)),s=n(4942),p=n(15861),c=(n(35668),n(86585)),l=n(29439),d=(n(9070),n(20924)),u=n(87757),m=n.n(u),f=n(67294),v=n(55609);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=d.Z.TextArea;t.Z=(0,v.connect)((function(e){return{ticketTags:e.ticketTag.ticketTags}}))((function(e){var t=e.dispatch,n=e.orderId,s=void 0===n?void 0:n,d=e.orderRecordId,u=void 0===d?void 0:d,v=c.Z.useForm(),y=(0,l.Z)(v,1)[0],Z=(0,f.useState)(!1),x=(0,l.Z)(Z,2),b=x[0],w=x[1],E=function(){var e=(0,p.Z)(m().mark((function e(){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.validateFields();case 2:return n=e.sent,e.next=5,t({type:"ticketTag/setAbnormalTicket",payload:h(h({},n),{},{orderId:s,orderRecordId:u})});case 5:(o=e.sent)&&o.ok?(i.ZP.success("请求成功"),w(!1),y.resetFields(),t({type:"expenseExamineOrder/fetchExamineOrderDetail",payload:{id:s,flag:!0}})):o&&o.zh_message&&i.ZP.error(o.zh_message);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f.createElement("div",null,function(){if(b){return f.createElement(r.Z,{title:"验票异常",visible:b,onOk:E,onCancel:function(){return w(!1)}},f.createElement(c.Z,(0,a.Z)({},{labelCol:{span:6},wrapperCol:{span:14}},{form:y}),f.createElement(c.Z.Item,{name:"state",label:"验票状态"},f.createElement("div",null,"异常")),f.createElement(c.Z.Item,{name:"note",label:"异常说明"},f.createElement(g,{rows:6}))))}}(),f.createElement(o.Z,{onClick:function(){return w(!0)}},"验票异常"))}))},80089:function(e,t,n){n(52560);var o=n(71577),r=(n(52466),n(10642)),a=n(15671),i=n(97326),s=n(60136),p=n(82963),c=n(61120),l=n(4942),d=(n(9070),n(20924)),u=n(67294),m=n(45697),f=n.n(m),v=n(66939),y=(n(98703),n(96036)),h=n(80385);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,p.Z)(this,n)}}var Z=d.Z.TextArea,x=function(e){(0,s.Z)(n,e);var t=g(n);function n(){var e;return(0,a.Z)(this,n),e=t.call(this),(0,l.Z)((0,i.Z)(e),"onShowModal",(function(){e.setState({visible:!0})})),(0,l.Z)((0,i.Z)(e),"onHideModal",(function(){e.setState({visible:!1,detail:{}}),e.props.form.resetFields()})),(0,l.Z)((0,i.Z)(e),"onSubmit",(function(){var t=e.props,n=t.orderId,o=t.orderRecordId;e.props.form.validateFields((function(t,r){if(!t){var a={id:n,orderRecordId:o,note:r.note,state:h.$ym.exception,onSuccessCallback:e.onSuccessCallback};e.props.dispatch({type:"expenseExamineOrder/updateExamineOrderByMarkPaid",payload:a})}}))})),(0,l.Z)((0,i.Z)(e),"onSuccessCallback",(function(){window.location.href="/#/Expense/Manage/ExamineOrder?selectedTabKey=".concat(h.WPs.penddingVerify)})),(0,l.Z)((0,i.Z)(e),"renderModal",(function(){var t=e.props.form.getFieldDecorator,n=e.state.visible,o=[{label:"付款状态",form:h.$ym.description(h.$ym.exception)},{label:"备注",form:t("note",{rules:[{max:1e3,message:"备注的最大长度不能超过1000"}]})(u.createElement(Z,{placeholder:"请输入备注",rows:4}))}];return u.createElement(r.Z,{title:"操作",visible:n,onOk:e.onSubmit,onCancel:e.onHideModal},u.createElement(v.Z,{layout:"horizontal"},u.createElement(y.KP,{items:o,cols:1,layout:{labelCol:{span:4},wrapperCol:{span:16}}})))})),(0,l.Z)((0,i.Z)(e),"render",(function(){return u.createElement("div",null,e.renderModal(),u.createElement(o.Z,{onClick:e.onShowModal},"标记异常"))})),e.state={visible:!1},e}return n}(u.Component);(0,l.Z)(x,"propTypes",{orderId:f().string,orderRecordId:f().string}),t.Z=v.Z.create()(x)},81914:function(e,t,n){n.d(t,{Z:function(){return R}});n(52560);var o=n(71577),r=(n(52466),n(10642)),a=n(15671),i=n(97326),s=n(60136),p=n(82963),c=n(61120),l=n(4942),d=n(94315),u=n.n(d),m=n(93517),f=n.n(m),v=n(96486),y=n.n(v),h=n(67294),g=n(45697),Z=n.n(g),x=n(15873),b=n(66939),w=(n(98703),n(96036)),E=n(80385),P=n(8240),I=n(43144),O=(n(29093),n(16317)),S=n(29335);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,p.Z)(this,n)}}var D=O.Z.Option,C=function(e){(0,s.Z)(n,e);var t=A(n);function n(e){var o;return(0,a.Z)(this,n),o=t.call(this,e),(0,l.Z)((0,i.Z)(o),"onChangeNode",(function(e){var t,n,r,a,i=o.props,s=i.onChangeState,p=i.onChange,c=i.examineDetail,l=i.flowRecordList,d=o.state,m=d.isDisablePerson,v=d.isShowPost,y=d.isShowPerson,h=d.isPersonMultiple,g=d.accountIdsData,Z=d.isDisablePostPerson,x=d.isPostMultiple,b=d.postPersonList,w=f().get(c,"nodeList",[]),P=u().not.empty(w)?w.filter((function(t){return t.id===e})):[],I=f().get(P[0],"approveMode"),O=P[0]?P[0]:{},S=O.accountList,A=void 0===S?[]:S,D=O.postList,C=void 0===D?[]:D,N=(g=A.concat(C)).map((function(e){return e.id||e._id}));if(0===Number(e)&&void 0===I){var L=f().get(l[l.length-1],"accountInfo");g=[L],m=!0,v=!1,y=!0,h="",a=f().get(L,"id"),t=f().get(L,"id"),n=void 0}if(0!==Number(e)&&I===E.Fv8.all&&u().empty(C)&&(m=!0,h="multiple",v=!1,y=!0,a=N,t=N,n=void 0),0!==Number(e)&&I===E.Fv8.all&&u().not.empty(C)&&(v=!0,y=!1,Z=!0,x="multiple",r=N,b=g,a=void 0,t=N,n=void 0),0!==Number(e)&&I===E.Fv8.any&&u().empty(C)){var k=l.find((function(t){return t.nodeId===e})).accountInfo;m=1===g.length,t=f().get(k,"id"),a=f().get(k,"id"),v=!1,y=!0,h="",n=void 0}0!==Number(e)&&I===E.Fv8.any&&u().not.empty(C)&&(m=!1,Z=!1,y=!0,v=!1,h="",x="",n=void 0,t=void 0),0!==Number(e)&&I===E.Fv8.any&&1===A.length&&0===C.length&&(m=!0,t=A[0].id),0!==Number(e)&&I===E.Fv8.any&&0===A.length&&1===C.length&&C[0].account_ids.length>1&&(m=!0,a=C[0]._id,v=!0,b=C[0].account_info_list,n=C[0]._id),0!==Number(e)&&I===E.Fv8.any&&0===A.length&&1===C.length&&1===C[0].account_ids.length&&(m=!0,Z=!0,a=C[0]._id,r=C[0].account_ids[0],v=!0,b=C[0].account_info_list,n=C[0]._id,t=C[0].account_ids[0]),o.setState({accountIdsData:g,isDisablePerson:m,isPersonMultiple:h,isShowPost:v,isShowPerson:y,isDisablePostPerson:Z,isPostMultiple:x,postPersonList:b}),p&&p({nodeId:e,personId:t,postId:n,personShowId:a,postPersonIds:r}),s&&s(!!v)})),(0,l.Z)((0,i.Z)(o),"onChangePerson",(function(e,t){var n,r=o.props,a=r.onChange,i=r.onChangeState,s=o.props.value.nodeId,p=!1,c=e,l=t.props.info,d=l.post_name,u=l.account_info_list,m=void 0===u?[]:u;d&&(p=!0,n=e,c=1===m.length?m[0]._id:void 0),o.setState({isShowPerson:!0,isShowPost:p,postPersonList:m,isDisablePostPerson:1===m.length}),a&&a({nodeId:s,personId:c,postId:n,personShowId:e,postPersonIds:1===m.length?m[0]._id:void 0}),i&&i(!!p)})),(0,l.Z)((0,i.Z)(o),"onChangePostPerson",(function(e){var t=o.props.onChange,n=o.props.value,r=n.nodeId,a=n.postId,i=n.personShowId;t&&t({nodeId:r,postId:a,personShowId:i,postPersonIds:e,personId:e})})),o.state={accountIdsData:e.accountIdsData||[],isDisablePerson:!1,isShowPost:!1,isPersonMultiple:"",isShowPerson:!1,isDisablePostPerson:!1,isPostMultiple:"",postPersonList:[]},o}return(0,I.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.isDefault,o=e.nodes,r=n?this.props:this.state,a=r.isShowPost,i=r.isShowPerson,s=r.isDisabledNode,p=r.isDisablePerson,c=r.isDisablePostPerson,l=r.isPersonMultiple,d=r.isPostMultiple,u=r.accountIdsData,m=r.postPersonList,v=f().get(t,"nodeId",void 0),y=t.postPersonIds,g=t.personShowId;return h.createElement("div",null,h.createElement(O.Z,{placeholder:"请输入驳回节点",className:S.Z["app-comp-expense-reject-node-node-selector"],onChange:this.onChangeNode,value:v,disabled:s},o.map((function(e,t){return h.createElement(D,{key:t,value:e.id},e.name)}))),i?h.createElement(O.Z,{className:S.Z["app-comp-expense-reject-node-person-or-post"],onChange:this.onChangePerson,placeholder:"请指派审批人或审批岗位",value:g,disabled:p,mode:l},u.map((function(e){var t=e.id||e._id,n=e.name||e.post_name;return h.createElement(D,{key:t,value:t,info:e},n)}))):null,a?h.createElement(O.Z,{value:y,placeholder:"请指派审批人",onChange:this.onChangePostPerson,className:S.Z["app-comp-expense-reject-node-person"],disabled:c,mode:d},m.map((function(e){var t=e.name;if(!e.name){var n=(e.account_info_list||[]).map((function(e){return e.name}));t="".concat(e.post_name,"(").concat(n,")")}return h.createElement(D,{key:e._id||e.id,value:e._id||e.id},t)}))):null)}}]),n}(h.Component),N=n(77359);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,p.Z)(this,n)}}var F=[{key:"0",value:"请上传附件。"},{key:"1",value:"文件有误，需要修改。"}],M=function(e){(0,s.Z)(n,e);var t=j(n);function n(e){var s;return(0,a.Z)(this,n),s=t.call(this),(0,l.Z)((0,i.Z)(s),"onShowModal",(function(){s.setState({visible:!0})})),(0,l.Z)((0,i.Z)(s),"onHideModal",(function(){s.setState({visible:!1,detail:{},isDefault:!0,isVerifyPost:!1}),s.props.form.resetFields()})),(0,l.Z)((0,i.Z)(s),"onChangeState",(function(e){s.setState({isDefault:!1,isVerifyPost:e})})),(0,l.Z)((0,i.Z)(s),"onSubmit",(function(e){var t=s.props,n=t.orderId,o=t.orderRecordId,r=t.examineDetail,a=f().get(r,"nodeList",[]),i=f().get(s.props,"copyGiveValues.departmentNames",[]),p=f().get(s.props,"copyGiveValues.userNames",[]);s.props.form.validateFields((function(t,r){if(e.preventDefault(),!t){s.setState({visible:!1});var c=r.person,l=c.nodeId,d=c.personId,m=c.postId,v={id:n,orderRecordId:o,note:r.note,copyGivedepartments:i,copyGiveusers:p,onSuccessCallback:s.onSuccessCallback,onFailureCallback:s.onFailureCallback},y=0===a.length?[]:a.filter((function(e){return e.id===l})),h=f().get(y[0],"approveMode");l&&"0"!==l&&(v.rejectToNodeId=l),h===E.Fv8.any&&u().existy(d)&&(v.accountId=d),h===E.Fv8.any&&u().existy(m)&&(v.postIds=m),s.private.isSubmit&&(s.props.dispatch({type:"expenseExamineOrder/updateExamineOrderByReject",payload:v}),s.private.isSubmit=!1)}}))})),(0,l.Z)((0,i.Z)(s),"onVerify",(function(e,t,n){var o=s.props.examineDetail,r=(s.state.isDefault?e:s.state).isVerifyPost,a=f().get(o,"nodeList",[]).find((function(e){return e.id===t.nodeId})),i=f().get(a,"approveMode",void 0)===E.Fv8.all,p=f().get(a,"pickMode",void 0)===E.zn9.automatic;!0!==i&&"0"!==t.nodeId||!t.nodeId?!1===i&&!0===p&&!1===r&&t.nodeId||!1===i&&!0===r&&t.nodeId&&t.personId&&t.postId||!1===i&&!1===r&&!1===p&&t.nodeId&&t.personId?n():n("请选择驳回节点或审批人"):n()})),(0,l.Z)((0,i.Z)(s),"onFailureCallback",(function(){s.private.isSubmit=!0})),(0,l.Z)((0,i.Z)(s),"onSuccessCallback",(function(){s.setState({showModal:!0});var e=setInterval((function(){s.setState({count:s.state.count-1}),0===s.state.count&&s.closeAndReload(e)}),1e3)})),(0,l.Z)((0,i.Z)(s),"closeAndReload",(function(e){if(clearInterval(e),window.parent.opener){var t=P.ZP.uriFromHash(window.parent.opener.location.hash);return window.parent.opener.location.href="".concat(t,"?selectedTabKey=").concat(E.WPs.penddingVerify),window.parent.opener.location.reload(),void window.close()}s.setState({showModal:!1,visible:!1})})),(0,l.Z)((0,i.Z)(s),"fetchFormDefaultValue",(function(){var e,t,n,o=s.props,r=o.flowRecordList,a=o.examineDetail,i=o.currentFlowNode,p=f().get(a,"nodeList",[]),c=y().cloneDeep(p.filter((function(e){return 0!==e.indexNum&&"提报节点"!==e.name}))),l=[{id:"0",name:"提报节点"}],d=!0;c.forEach((function(e){!1!==d&&(e.id!==i?l.push(e):d=!1)}));var m,v,h=!0,g=!0,Z=!1,x=!1,b=!1,w="",P=c.findIndex((function(e){return e.id===i}))-1,I=f().get(c[P],{}),O=f().get(I,"id","0"),S=r.find((function(e){return e.nodeId===O})),A=f().get(S,"operatePostList",[]),D=f().get(S,"operateAccountList",[]),C=f().get(I,"postList",[]),N=f().get(I,"accountList",[]);t=N.concat(C);var L=f().get(I,"approveMode",10),k=f().get(I,"pickMode"),j=N.map((function(e){return e.id})),F=f().get(S,"accountInfo.id"),M=t.map((function(e){return e.id||e._id})),R=A[D.findIndex((function(e){return e.id===F}))],T=f().get(R,"_id",""),_=C.find((function(e){return e._id===T})),K=f().get(_,"account_info_list",[]);if(1===l.length&&-1===P){var V=f().get(r[r.length-1],"accountInfo"),B=f().get(V,"id");e=B,m=B,t=[V],h=!1,n=!0,x=!0}return l.length>1&&L===E.Fv8.all&&u().empty(C)&&(e=j,m=j,n=!0,Z=N.length>1?"multiple":"",h=!1,K=t),l.length>1&&L===E.Fv8.all&&u().not.empty(C)&&(e=j,v=M,g=!1,h=!0,b=!0,w="multiple",K=t),l.length>1&&L===E.Fv8.any&&u().empty(C)&&(e=F,m=f().get(S,"accountInfo.id"),h=!1),l.length>1&&L===E.Fv8.any&&u().not.empty(C)&&(e=F,m=T||F,v=F,h=!!T&&!!F,g=!0),l.length>1&&L===E.Fv8.any&&1===N.length&&0===C.length&&(n=!0),l.length>1&&L===E.Fv8.any&&0===N.length&&1===C.length&&C[0].account_ids.length>1&&(n=!0),l.length>1&&L===E.Fv8.any&&0===N.length&&1===C.length&&1===C[0].account_ids.length&&(n=!0,b=!0),{nodeId:O,personId:e,personShowId:m,postId:T,postPersonIds:v,accountIdsData:t,isDisablePerson:n,isPersonMultiple:Z,nodes:l,isShowPost:h,isShowPerson:g,isDisabledNode:x,isDisablePostPerson:b,isPostMultiple:w,postPersonList:K,isVerifyPost:h,isRequired:k===E.zn9.manual}})),(0,l.Z)((0,i.Z)(s),"renderModal",(function(){var e=s.props.form.getFieldDecorator,t=s.state,n=t.visible,o=t.isDefault,a=s.props,i=a.examineDetail,p=a.currentFlowNode,c=f().get(i,"nodeList",[]),l=y().cloneDeep(c.filter((function(e){return 0!==e.indexNum&&"提报节点"!==e.name})));if(n){var d=s.props.flowRecordList,u=[{id:"0",name:"提报节点"}],m=!0;l.forEach((function(e){!1!==m&&(e.id!==p?u.push(e):m=!1)}));var v=o?s.fetchFormDefaultValue():{},g=v.nodes,Z=v.nodeId,x=v.personId,E=v.isVerifyPost,P={required:v.isRequired,isVerifyPost:E,message:"请选择驳回的审批人或审批岗位"},I=k({nodes:o?g:u,examineDetail:i,flowRecordList:d,onChangeState:s.onChangeState,isDefault:o},v),O=[{label:"驳回至节点",form:e("person",{initialValue:{nodeId:Z,personId:x,personShowId:v.personShowId,postId:v.postId,postPersonIds:v.postPersonIds},rules:[k(k({},P),{},{validator:s.onVerify})],validateTrigger:s.onSubmit})(h.createElement(C,I))},{label:"意见",form:e("note",{rules:[{max:1e3,message:"意见的最大长度不能超过1000"}]})(h.createElement(N.Z,{alternatives:F,placeholder:"请输入意见",rows:4}))}];return h.createElement(r.Z,{title:"操作",visible:n,onOk:s.onSubmit,onCancel:s.onHideModal},h.createElement(b.Z,{layout:"horizontal"},h.createElement(w.KP,{items:O,cols:1,layout:{labelCol:{span:4},wrapperCol:{span:16}}})))}})),(0,l.Z)((0,i.Z)(s),"renderCloseModal",(function(){var e=s.state.count;return h.createElement(r.Z,{title:"提示",visible:s.state.showModal,footer:null,closable:!1},h.createElement("div",null,h.createElement("p",{className:S.Z["app-comp-expense-approve-close-modal-wrap"]},h.createElement(x.Z,{className:S.Z["app-comp-expense-approve-close-modal-icon"]}),h.createElement("span",{className:S.Z["app-comp-expense-approve-close-modal-finish"]},"审批完成")),h.createElement("p",{className:S.Z["app-comp-expense-approve-close-modal-count"]},h.createElement("span",{className:S.Z["app-comp-expense-approve-close-modal-seconds"]},e),"秒后，系统页面自动关闭"),h.createElement("p",{className:S.Z["app-comp-expense-approve-close-modal-tip"]},"如系统关闭失败，请手动关闭"),h.createElement("p",{className:S.Z["app-comp-expense-approve-close-modal-btn-wrap"]},h.createElement("span",{className:S.Z["app-comp-expense-approve-close-modal-btn"],onClick:s.closeAndReload},"立即关闭"))))})),(0,l.Z)((0,i.Z)(s),"render",(function(){return h.createElement("div",null,s.renderModal(),s.renderCloseModal(),h.createElement(o.Z,{onClick:s.onShowModal},"驳回"))})),s.state={visible:!1,isDefault:!0,count:5,showModal:!1,isVerifyPost:!1},s.private={dispatch:e.dispatch,isSubmit:!0},s}return n}(h.Component);(0,l.Z)(M,"propTypes",{orderId:Z().string,orderRecordId:Z().string,currentFlowNode:Z().string,examineDetail:Z().object});var R=b.Z.create()(M)},18202:function(e,t,n){n(52560);var o=n(71577),r=(n(52466),n(10642)),a=(n(9070),n(20924)),i=(n(51838),n(48086)),s=n(15671),p=n(43144),c=n(97326),l=n(60136),d=n(82963),u=n(61120),m=n(4942),f=n(94315),v=n.n(f),y=n(67294),h=n(45697),g=n.n(h),Z=n(66939),x=(n(98703),n(93517)),b=n.n(x),w=n(96036),E=n(80385),P=n(24986),I=n(77359),O=n(70270);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,d.Z)(this,n)}}var A=w.KT.CoreFinderList,D=function(e){(0,l.Z)(n,e);var t=S(n);function n(e){var p;return(0,s.Z)(this,n),p=t.call(this),(0,m.Z)((0,c.Z)(p),"onShowModal",(function(){p.setState({visible:!0})})),(0,m.Z)((0,c.Z)(p),"onHideModal",(function(){p.setState({visible:!1,detail:{},fileList:[],onSuccessCallback:void 0}),p.props.form.resetFields()})),(0,m.Z)((0,c.Z)(p),"onChangeTab",(function(e){p.setState({activeKey:e}),p.props.form.setFieldsValue({note:""})})),(0,m.Z)((0,c.Z)(p),"onSubmit",(function(){var e=p.props,t=e.orderId,n=e.recordId,o=p.state.fileList;p.props.form.validateFields((function(e,r){if(!e){if(void 0===r.note&&v().empty(o))return i.ZP.error("请填写意见或上传文件");var a={id:t,recordId:n,onSuccessCallback:p.onSuccessCallback,onFailureCallback:p.onSuccessCallback};v().existy(r.note)&&v().not.empty(r.note)&&(a.note=r.note),v().existy(o)&&v().not.empty(o)&&(a.fileList=o),p.props.dispatch({type:"expenseExamineOrder/updataSupplementOpinion",payload:a})}}))})),(0,m.Z)((0,c.Z)(p),"onUploadSuccess",(function(e){var t=p.state.fileList;t.push(e),p.setState({fileList:t}),p.props.form.setFieldsValue({fileList:t})})),(0,m.Z)((0,c.Z)(p),"onDeleteFile",(function(e){var t=p.state.fileList;t.splice(e,1),p.setState({fileList:t}),p.props.form.setFieldsValue({fileList:t})})),(0,m.Z)((0,c.Z)(p),"onSuccessCallback",(function(){var e=p.props.orderId;void 0!==e&&(p.props.dispatch({type:"expenseExamineOrder/fetchExamineOrderDetail",payload:{id:e}}),p.props.dispatch({type:"expenseCostOrder/fetchCostOrders",payload:{examineOrderId:e}})),p.onHideModal()})),(0,m.Z)((0,c.Z)(p),"renderCorePreview",(function(e){if(Array.isArray(e)&&b().get(e,"0")){var t=e.map((function(e){return{key:e}}));return y.createElement(A,{data:t,enableDownload:!1,enableRemove:!0,onRemove:p.onDeleteFile})}return y.createElement(y.Fragment,null)})),(0,m.Z)((0,c.Z)(p),"renderModal",(function(){var e=p.props.form.getFieldDecorator,t=p.state,n=t.visible,o=t.fileList,i=void 0===o?[]:o,s=t.activeKey,c=p.props.isPaymentNode?E.tLf.finance:E.tLf.often,l=s||c;e("fileList",{initialValue:i})(y.createElement(a.Z,{hidden:!0}));var d=[{label:"意见",form:e("note",{rules:[{max:1e3,message:"意见不能超过1000"}]})(y.createElement(I.Z,{alternatives:E.tLf.conversionData(l),placeholder:"请输入意见",rows:4}))},{label:"附件上传",form:y.createElement("div",null,y.createElement(P.Z,{domain:"cost",namespace:p.private.namespace,onSuccess:p.onUploadSuccess,onFailure:p.onUploadFailure}),p.renderCorePreview(i))}];return y.createElement(r.Z,{width:650,visible:n,onOk:p.onSubmit,onCancel:p.onHideModal},y.createElement(O.Z,{title:"补充意见",activeKey:l,onChange:p.onChangeTab}),y.createElement(Z.Z,{layout:"horizontal"},y.createElement(w.KP,{items:d,cols:1,layout:{labelCol:{span:4},wrapperCol:{span:16}}})))})),(0,m.Z)((0,c.Z)(p),"render",(function(){return y.createElement("div",null,p.renderModal(),y.createElement(o.Z,{onClick:p.onShowModal},"补充意见"))})),p.state={visible:!1,fileList:[]},p.private={namespace:"namespace".concat(Math.floor(1e5*Math.random())),dispatch:e.dispatch},p}return(0,p.Z)(n,[{key:"componentDidMount",value:function(){var e=this.state,t=e.formKey,n=e.onHookForm,o=this.props.form;n&&n(o,t)}}]),n}(y.Component);(0,m.Z)(D,"propTypes",{orderId:g().string,recordId:g().string}),t.Z=Z.Z.create()(D)},99124:function(e,t){t.Z={"app-comp-expense-common-upload-box":"HvPrJmcqrWJOrV5j8C5g","app-comp-expense-common-upload-btn":"FXDaFFzmn3v5c61WEw2o","app-comp-expense-common-upload-reset-hover":"Ztvt9wDo4OQefPj4bgYI",icon:"f1zznHvQSxAiiPbzC_L5",p:"LMfU9da5ocO97R5I6Pr5","upload-style":"IJtlVgqAmW2YjinmEqBg"}},52911:function(e,t){t.Z={processTable:"SKn1pcjtxJ6wNJIyuHUF","ant-table-content":"bWndSDezf99bcuhdqUao",moneywrap:"ACaO799eL6U048k6f77n",moneyiconlight:"y2YQdGHT7q5E0daOuvIh",moneytextlight:"U3UinWKzGutmPeQt_Rgc",moneyicongrey:"jz8KvRgtCgaMRTWdAHbb",moneytextgrey:"fqLX6YPSV1VJi9d82zAF","app-comp-expense-associated-tag":"j_sDScrFPYtVLFWPMWVr","app-comp-expense-associated-info-wrap":"QVngxz76Tp0sNzqPX9P8","app-comp-expense-associated-info-link":"iNZtt3TGd3xy5KR4RSnR","app-comp-expense-associated-info-icon":"hAZFad4o9oUzMC8DRF5h","app-comp-expense-associated-info-input-label":"KQvbSKN3wcY8zCPfewiA","app-comp-expense-associated-info-input":"baWzSe9_bGCq2UnfKrEN","app-comp-expense-associated-info-btn":"YZBv4OngKG_4wyaRRnxn","app-comp-expense-associated-info-content":"RoxypCnji6uXzKG2bX1n","app-comp-expense-associated-info-table-wrap":"wCPnD1ySzJBSqHcB03Lg","app-comp-expense-associated-info-list-table":"m6iABT6dUIiPD1XTl7g3","app-comp-expense-associated-info-list":"nCfAqkm0lJwrfjNYK_46","app-comp-expense-borrow-actual-loan-name":"NvIl2iXGGOUDmUpQK06i","app-comp-expense-borrow-loan-note":"TqdWeHBaYeRRa7E1cldm","app-comp-expense-borrow-loan-note-tooltip":"LwGnTq8sdVmei6OjM8DS","app-comp-expense-borrow-operate":"_EWKLA29z8fHHypgkAfP","app-comp-expense-trip-note":"Ga3e2SUftPZshjbBel8j","app-comp-expense-trip-note-tool-tip":"SX1MqHDw3LLTbfHgCuom","app-comp-expense-trip-operate":"mZZrhHk6Nqtut6pMlLeR","app-comp-expense-supplement-title":"xP_EFSIvdBtkqreL4xNL","app-comp-expense-supplement-content":"QBSN0sNpHw8zCpio7Lgs","app-comp-expense-supplement-item":"jj1TuGCSzNaSu31BBfu9","app-comp-expense-supplement-creator-name":"KJwpJZne97LJQp3rXYZQ","app-comp-expense-supplement-create-at":"VfOXsgTnMewU5DfCX3uo","app-comp-expense-supplement-text-wrap":"fgqGaP87sq4IK4cfzN6V","app-comp-expense-supplement-text":"zjAGNRD6XpqktFyHwmRw","app-comp-expense-supplement-files":"gjamGYGT4UB1wa4xxGGQ","app-comp-expense-supplement-file-item":"WpkWPopUCyFMacQ1gTDA","app-comp-expense-supplement-del-icon":"mCXRkgk1xZZiSqkWFbyj","app-comp-expense-supplement-show-more-btn":"wgktKiOifPyKdVPSMdKw","app-comp-expense-repayment-id":"Hst1wdjLdq1Jdsn9MMmC","app-comp-expense-repayment-operation":"MjPz2zOnfE08IFfjPjVi","app-comp-expense-create-cost-order-label":"IRwJppRu5DhOrCG3VigQ","app-comp-expense-create-cost-order-selector":"gE_1pjsNBqSApsg5Od2W","app-comp-expense-process-state-img":"NLuN9noOHsP5QIJeXSVY","app-comp-expense-process-timeline-item":"IX2jfpRWFExV7il6FvyU","app-comp-expense-process-point-name-wrap":"NASjcTfGkTFDdrULCkBw","app-comp-expense-process-point-name":"tsbd4FT1rUdbHoA2zYSA","app-comp-expense-process-point-item-wrap":"KHhjRbWpo_4Z6xNnLqW9","app-comp-expense-process-point-item-people-name":"sJeU66Gv8L_b6m8_VSfs","app-comp-expense-process-point-item-node-wrap":"sXv5Wh5x5xtienTlYABj","app-comp-expense-process-point-item-node-post-name":"ZA9X4hK5XNZvjCBfYWWF","app-comp-expense-process-point-item-node-name":"m0yT8wSc_rq27aAafupA","app-comp-expense-process-point-item-node-position-name":"HsYAainzve0i6aXjE37I","app-comp-expense-process-point-item-node-operate-at":"zD9ZcRNE7KbITMeUQQqd","app-comp-expense-process-point-item-node-state":"DJarfl_aptmXnG9iegcF","app-comp-expense-process-point-item-node-operate-wrap":"ThT1PwdLf5jC9lER58j9","app-comp-expense-process-point-item-node-note":"mkBLqCDNzZ_KSmpQueAL","app-comp-expense-process-point-item-node-addition-wrap":"HiWF0d4m3SsYVZYgHLYW","app-comp-expense-process-show-more-btn":"E4d2EN6moPnjZozBtFTp","app-comp-expense-process-examflow-wrap":"VWWQJdZBqRxa4vkGbHHf","app-comp-expense-process-examflow-icon":"UcXeyPUlOpXccC01iFbJ","app-comp-expense-detail-operate-wrap":"VlPl5izbwl3QehtERcZv","app-comp-expense-detail-operate-item":"jAQfOM5UrzDRYgqBOYFq"}},29335:function(e,t){t.Z={"app-comp-expense-approve-close-modal-wrap":"wFWoJcqtHrYnD2k8OP3T","app-comp-expense-approve-close-modal-icon":"NVxOz8H3KCLv2PrksvNr","app-comp-expense-approve-close-modal-finish":"D2StYhDY5JgCv2lDVq_X","app-comp-expense-approve-close-modal-count":"DsT4Bl_ZOds1ViSTcHNg","app-comp-expense-approve-close-modal-seconds":"c3a9kycIP3SgUuOgIVgA","app-comp-expense-approve-close-modal-tip":"yi1yWK7DaYHUOCR7dag5","app-comp-expense-approve-close-modal-btn-wrap":"j0nQgO9DmzwkLMe7HMMw","app-comp-expense-approve-close-modal-btn":"YyYFH8hHW4FtyChayxHY","app-comp-expense-approve-person-post-selector":"vw4ra8UPKBLmynjjiqIi","app-comp-expense-approve-person-selector":"_Pt_gfsyyzkRRTMZ5MtA","app-comp-expense-approve-person-post-person-selector":"eup6JthyTMeF6m9INbbv","app-comp-expense-borrow-info-download-btn":"c8c6zBDL2peXANzK80sx","app-comp-expense-business-info-together-name":"mm09g3qaUJ5XRMHvdwwL","app-comp-expense-business-info-transport-kind":"Z8cRkTgFMMdAXRRG838S","app-comp-expense-business-info-ext":"acU3pMBuzOKi8RO2Hek7","app-comp-expense-cost-order-item-files-link":"cVx63tklQroCVJaWRzuB","app-comp-expense-cost-order-item-update-cost-money":"wmb7gmM1JjHdN0pwCrQX","app-comp-expense-detail-operate-wrap":"WOg4C32YPoCKdaflWLOq","app-comp-expense-detail-operate-item":"E5eUuKkyGvwMhvv3hAFi","app-comp-expense-detail-tag-selector":"jhmUqieq6sXXO69HqGtP","app-comp-expense-detail-tag-td":"d06rEhpZq17srsc7ijeT","app-comp-expense-detail-order-info-ext":"DMhWKR3u6STKrG5e3mlt","app-comp-expense-reject-node-node-selector":"fRouNAirBZucSZKkMCA7","app-comp-expense-reject-node-person-or-post":"Pgb0alct1pRvzcOsTpRE","app-comp-expense-reject-node-person":"W84Xvw0jcgp_t74Hdvy3","app-comp-expense-repay-files-item":"vObdtEo4n0SRvNWgHHH7","app-comp-expense-supplement-del-file":"hIq0sjNUScES1sjFqJQD","app-comp-expense-travel-files-link":"Lirch3sn1CwX14gdWgOc","app-comp-expense-travel-update-money":"GTlnH0rPqViFKSqOok19","app-comp-expense-travel-submit-money-td":"u5IVOW2NKkmxHBthDVXf","app-comp-expense-travel-total-money-td":"KMx98PygMK6EePscxp7G","app-comp-expense-travel-money-item-td":"k_4im_OlFswFtXqhewMS","app-comp-expense-borrowing-info-file":"ERWF7UpjdwiVGWGnXxT5","app-comp-expense-borrowing-repayments-info-not":"BWZS14eSTC8EafOxwQSz",preview:"gRDOrI2RAftWkchirlnj","preview-button":"cBPYFgy6Lkf4RZoS5W4Q"}},45451:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAhBQTFRFAAAA////Vf+q////////////////OcZx////M7NmK79qO7Fi////////LbRp////////////K7Vg////////L7Ne////////////////L65eKqxd////////K65eKqtc////LKtc////////////////K61cLKtd////////K61eKqxb////K61dK6xdK61d////////Kaxc////////////////Ka1d////////////////////////KatdKqtd////////////////////////////////Kqxc////KqtcKqxb////////////Kaxc////////Kaxc////////////////////////Kqtc////Kqxb////Katc////////////Kaxc////////Kaxc////////////////////Kaxc////////////Kqxc////Katc////Kqtb////////Kaxb////KatbLaxeMK1gNK9kOLBmObFnPLJpPrNrQ7VvRbZwTbl2WL1/Wr6AW76BYcGGaMSLa8WNcseScseTdMiUd8mWfMuafcybf8ydgc2eidCkitGljdKok9SslNWtldWtltWun9m1pNu5p9y8qt2+q96/u+TKw+fRxOfRyOnVyenVzuvZ0Oza0Ozb1+/g2O/h3PHk4/Tp7Pfw8/r19Pv3+f37+v37/P79/f79////42cCagAAAHd0Uk5TAAEDAwQFBwkJCgwNDRARERMXGBgZGx4fISQmNzg5PD0+QEBCQ0dOUlNYWlxfYGVmaG1vcnN3e3x8gIGDhYePkp6fo6SrrK2ur7O3u72/xsfIysvMzc7Q0drb3N3d3uDh5ebm6+zs7e7w8fLy8/T19ff4+fn9/v61j/AfAAAC9UlEQVRIx51W+V8SURDfSDMhKS1TsSA6sFDcsoxOyC6JtSg6ybS26IJCwmDstDvptMNutPuu+Rd77C677y2i0veH3ff57nw/OzNv3szjOD3KHB5/KJxIhEN+j6OMGwdmly8GFGI+l3kM83J3BCAZcDvtFpPJYne6A0mAiLu8gLmBFwEEvormqngBQOQNo9lXBwECtnzeFgAIVufz9SJ0Noz+64YuEOv1ZGMchILhmQWIN+rsAbyGwtkweAEYRX0cWsbOdwvEKa+qRfCOt0NeENXIDUEQcv5Ma920Zqaynrp847rZqpEAwZwRD525eCu7EfHkfGlde4Cso3PUyDuBV/ZXBDWfbYif/2BPVlF7GPHLb9yvZRdEec/dEFDJQ/gWbv3MKoh96gE8RqxQPwbALf0qAlaV242f+uAmUTRJ9vAGe0vVj1aIZF13gaDlYhniO0mBkv1zxDYqUwK4yNMHzRo1aUtOodjvq6AEPPjIeYkl6fosURQ/FPsZTO0mY2WcgwqZ46a3bj4vKS4DDBG/OtbW0YoAODiPHLqMmiMogSgke4KehZTADR7OD06N2Iqpj8PDw5nMI7idyZDVyC/spgRO8HMhsGvEcXwJLO4h1mjf7RDiwmDRiIM40n8piwvQJ72vvMYUlScLhLkEGDViNSp4Bndyy22US0ZIEIFJI0o35Am2V1ICExEwLnFLTugEvasmc6xLTNCLR3FpPccGzaR1D357mE4PDAxch6vkmU7f/4C9U9i0Mht3Gl/o0noXsY7dOKY0duD3ocEnBDfgGnkODj79imdL2NJgim9BKj+GFbriI+XNa9S8jmPRaDQlC85Eo6d2NunLmz1AMo7Kgll6Xj5A5IjaJiawyUeUaQIyduH7i6/wXKmOVpoA02ZkrET8i9iub+K5NkM3MqWk2kl29uo8Mnep2aFbpYK5SxeV6Bo41SqLbsbFt/viB0rxI6v4oaiMXWs+by0wdnODvZkd7M2FBzt7dTAax786/MflZCLXn397Q3IBE4mzxwAAAABJRU5ErkJggg=="},22505:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAO1QTFRFAAAA/6pV/6o5/7Mz/7Qt9qom9qcl9ack96Yk96cl9agj96cl9qgk9qYk9ack9qcj9qck9aYj9aYk9qYk9qcj9qYj9qck9aYj9qcl9qgm9qgo9qkp9qsu9qsw9q4297JA97VH97dL97dM+LpT+LpU+LtW+L1b+L1c+L9g+L9h+cNp+cl5+cp7+st9+syB+s6G+tKP+tKQ+tOR+9OS+9aY+9eb+9ec+9ul+9yn/Nyo/N2q/N+v/OCy/OG0/OS7/eW+/ejG/evM/evN/ezO/vDa/vTi/vTk/vbp//fs//nu//nw//vz//z4//77////nyxPTgAAABd0Uk5TAAMJChEbN05cYGZ8j6+3y9vm7PL19/mS+y5dAAABkklEQVRIx51W53qDMAx0JmGPAOrebUJ3OtK994jf/3FKSGljoQDO/QB/5u5Dls+SGcOoKobleGHoOZahVFkB6qrpwxh8U63n0Gt6GzJo67UJ9IrmAglXq1D8hg0TYTey/KYLOXCbmN8KIBdBC/GhEIKiGRQLgrGoGi6UgPu38ooNpWCn2dWgJLTf/RUDWpv9H6/OiUGN9lwXJnf4w0I6vuRn4i/0xG+if9YH/HEh5fNd5KuhE1UU6HaqiPlHeBVqLDCBVlB8MOPz4gOlWCT54FeZQqQvVnxw3qMyqzADaAXNB4NZaGaj2+1G0Tm/j6J41JlHny3miBMHXMQ1EjjMEyc6r59DfPNB8n7fQwKPhWSox/yOtlMoL/DkBB5edJHAwWldvrgZ4pm/Je+rzUxa0cYdorTeZjYOWWOp1z+N8cRf4me/f7KSsQZhvpw1xObL2jtPYBIHKFegZo9oriA5oqgIjLD1tU8JdKrMjDBD1r7adIVMvlRKF2P5ci/fUORblnxTlG+78o1d/uowxeWkzPXnB8SOvbUPNLGWAAAAAElFTkSuQmCC"}}]);