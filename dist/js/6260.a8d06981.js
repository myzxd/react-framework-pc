"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[6260],{59104:function(e,t,n){n(13062);var r=n(71230),o=(n(89032),n(15746)),a=(n(52560),n(71577)),c=n(15671),l=n(97326),u=n(60136),i=n(82963),f=n(61120),s=n(4942),p=n(45697),m=n.n(p),d=n(67294),y=n(22681);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var v=function(e){(0,u.Z)(n,e);var t=h(n);function n(){var e;(0,c.Z)(this,n);for(var u=arguments.length,i=new Array(u),f=0;f<u;f++)i[f]=arguments[f];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,l.Z)(e),"renderContent",(function(){var t=e.props.onSubmit;return d.createElement(r.Z,{type:"flex",align:"middle",justify:"space-around",className:y.Z["app-comp-expense-house-contract-common-operation"]},d.createElement(o.Z,null,d.createElement(a.Z,{type:"primary",size:"large",onClick:t},"提交并生成费用单")))})),(0,s.Z)((0,l.Z)(e),"render",(function(){return e.renderContent()})),e}return n}(d.Component);(0,s.Z)(v,"propsTypes",{onSubmit:m().func}),(0,s.Z)(v,"defaultProps",{onSubmit:function(){}}),t.Z=v},16260:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});n(51838);var r=n(48086),o=n(15671),a=n(43144),c=n(97326),l=n(60136),u=n(82963),i=n(61120),f=n(4942),s=n(55609),p=n(45697),m=n.n(p),d=n(67294),y=n(66939),h=(n(98703),n(80385)),v=n(30381),Z=n.n(v),b=n(96036);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var P=function(e){(0,l.Z)(n,e);var t=g(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,f.Z)((0,c.Z)(e),"renderFiles",(function(e,t){return d.createElement("div",null,e.map((function(e,n){return d.createElement("p",null,d.createElement("a",{rel:"noopener noreferrer",target:"_blank",key:n,href:e},"".concat(t[n])))})))})),(0,f.Z)((0,c.Z)(e),"renderHouseInfo",(function(){var t=e.props.detail,n=void 0===t?{}:t,r=n.houseAddress,o=n.migrateFlag,a=n.migrateOaNote,c=n.landlordName,l=n.usage,u=n.area,i=n.breakDate,f=n.note,s=n.attachmentPrivateUrls,p=n.attachments,m=n.contractStartDate,y=n.contractEndDate,h=[{label:"合同录入类型",form:o?"现存执行合同补入":"新合同"},{label:"原OA审批单号",form:a||"--"}],v=[{label:"房屋地址",form:r||"--"}],g=[{label:"房东姓名",form:c||"--"},{label:"用途",form:l||"--"},{label:"房屋面积",form:u||"--"},{label:"合同租期",form:"".concat(Z()("".concat(m)).format("YYYY.MM.DD"),"-").concat(Z()("".concat(y)).format("YYYY.MM.DD"))},{label:"断租时间",form:i?Z()("".concat(i)).format("YYYY.MM.DD"):"--"}],P=[{label:"备注",form:f||"--"},{label:"附件",form:e.renderFiles(s,p)}],C={labelCol:{span:8},wrapperCol:{span:16}};return d.createElement(b.IT,{title:"房屋信息"},d.createElement(b.KP,{items:h,cols:3,layout:C}),d.createElement(b.KP,{items:v,cols:3,layout:C}),d.createElement(b.KP,{items:g,cols:3,layout:C}),d.createElement(b.KP,{items:P,cols:3,layout:C}))})),(0,f.Z)((0,c.Z)(e),"render",(function(){return e.renderHouseInfo()})),e}return n}(d.Component);(0,f.Z)(P,"propTypes",{detail:m().object}),(0,f.Z)(P,"defaultProps",{detail:{}});var C=P;function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var E=function(e){(0,l.Z)(n,e);var t=R(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,f.Z)((0,c.Z)(e),"renderContractInfo",(function(){var t=e.props.detail,n=void 0===t?{}:t,r=n.migrateFlag,o=n.paymentMethodPledge,a=n.paymentMethodRent,c=[{label:"合同录入类型",form:r?"现存执行合同补入":"新合同"},{label:"原OA审批单号",form:n.migrateOaNote||"--"}],l=[{label:"付款方式",form:a&&o?"押".concat(o,"付").concat(a):"--"}],u={labelCol:{span:8},wrapperCol:{span:16}};return d.createElement(b.IT,{title:"合同信息"},d.createElement(b.KP,{items:c,cols:3,layout:u}),d.createElement(b.KP,{items:l,cols:3,layout:u}))})),(0,f.Z)((0,c.Z)(e),"render",(function(){return e.renderContractInfo()})),e}return n}(d.Component);(0,f.Z)(E,"propTypes",{detail:m().object}),(0,f.Z)(E,"defaultProps",{detail:{}});var D=E;function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var I=function(e){(0,l.Z)(n,e);var t=x(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,f.Z)((0,c.Z)(e),"renderRentInfo",(function(){var t=e.props.detail,n=void 0===t?{}:t,r=n.monthMoney,o=n.schedulePrepareDays,a=n.periodMonthNum,c=n.initPaidMoney,l=n.initPaidMonthNum,u=n.rentPayeeInfo,i=(u=void 0===u?{bank_details:"",card_name:"",card_num:""}:u).bank_details,f=u.card_name,s=u.card_num,p=n.rentAccountingInfo,m=(p=void 0===p?{name:"",accountingCode:""}:p).name,y=p.accountingCode,v=[{label:"月租金(元)",form:r?h.fbc.exchangePriceToYuan(r):"--"},{label:"科目",form:"".concat(m).concat(y)},{label:"提前付款天数(天)",form:o||"--"},{label:"付款周期（月／次）",form:a||"--"},{label:"已支付租金金额(元)",form:c?h.fbc.exchangePriceToYuan(c):"--"},{label:"已支付租金月数(月)",form:l||"--"}],Z=[{label:"房租收款人",form:f||"--"},{label:"收款账号",form:s||"--"},{label:"开户支行",form:i||"--"}],g={labelCol:{span:8},wrapperCol:{span:16}};return d.createElement(b.IT,{title:"租金信息"},d.createElement(b.KP,{items:v,cols:3,layout:g}),d.createElement(b.KP,{items:Z,cols:3,layout:g}))})),(0,f.Z)((0,c.Z)(e),"render",(function(){return e.renderRentInfo()})),e}return n}(d.Component);(0,f.Z)(I,"propTypes",{detail:m().object}),(0,f.Z)(I,"defaultProps",{detail:{},form:{}});var O=I;function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var M=function(e){(0,l.Z)(n,e);var t=_(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,f.Z)((0,c.Z)(e),"renderDepositInfo",(function(){var t=e.props.detail,n=void 0===t?{}:t,r=n.pledgeMoney,o=n.pledgeAccountingInfo,a=(o=void 0===o?{name:"",accountingCode:""}:o).name,c=o.accountingCode,l=n.pledgePayeeInfo,u=(l=void 0===l?{bank_details:"",card_name:"",card_num:""}:l).bank_details,i=l.card_name,f=l.card_num,s=[{label:n.migrateFlag?"期初押金":"押金金额",form:void 0!==r?h.fbc.exchangePriceToYuan(r):"--"},{label:"科目",form:"".concat(a).concat(c)}],p=[{label:"押金收款人",form:i||"--"},{label:"收款账号",form:f||"--"},{label:"开户支行",form:u||""}],m={labelCol:{span:8},wrapperCol:{span:16}};return d.createElement(b.IT,{title:"押金信息"},d.createElement(b.KP,{items:s,cols:3,layout:m}),d.createElement(b.KP,{items:p,cols:3,layout:m}))})),(0,f.Z)((0,c.Z)(e),"render",(function(){return e.renderDepositInfo()})),e}return n}(d.Component);(0,f.Z)(M,"propTypes",{detail:m().object}),(0,f.Z)(M,"defaultProps",{detail:{}});var w=M;function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var j=function(e){(0,l.Z)(n,e);var t=T(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,f.Z)((0,c.Z)(e),"renderContent",(function(){var t=e.props.detail,n=void 0===t?{}:t,r=n.agentMoney,o=n.agentAccountingInfo,a=(o=void 0===o?{name:"",accountingCode:""}:o).name,c=o.accountingCode,l=n.agentPayeeInfo,u=(l=void 0===l?{bank_details:"",card_name:"",card_num:""}:l).bank_details,i=l.card_name,f=l.card_num,s=[{label:"费用金额",form:void 0!==r?h.fbc.exchangePriceToYuan(r):"--"},{label:"科目",form:"".concat(a).concat(c)}],p=[{label:"中介费收款人",form:i||"--"},{label:"收款账号",form:f||"--"},{label:"开户支行",form:u||"--"}],m={labelCol:{span:8},wrapperCol:{span:16}};return d.createElement(b.IT,{title:"中介费信息"},d.createElement(b.KP,{items:s,cols:3,layout:m}),d.createElement(b.KP,{items:p,cols:3,layout:m}))})),(0,f.Z)((0,c.Z)(e),"render",(function(){return e.renderContent()})),e}return n}(d.Component);(0,f.Z)(j,"propTypes",{detail:m().object}),(0,f.Z)(j,"defaultProps",{detail:{}});var Y=j,k=(n(36616),n(51368));function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var B=function(e){(0,l.Z)(n,e);var t=K(n);function n(){var e;return(0,o.Z)(this,n),e=t.call(this),(0,f.Z)((0,c.Z)(e),"onChangeReturnMoney",(function(t){var n=e.props.detail.unrefundedPledgeMoney,r=h.fbc.exchangePriceToYuan(n)-t,o=.045*r;e.setState({lostMoney:r,lostMoneyTax:o.toFixed(2)})})),(0,f.Z)((0,c.Z)(e),"renderWithdrawalInfo",(function(){var t=e.props.detail,n=e.state,r=n.lostMoney,o=n.lostMoneyTax,a=e.props.form.getFieldDecorator,c=t.unrefundedPledgeMoney,l=t.contractEndDate,u=[{label:"退回押金",form:a("returnPledgeMoney",{initialValue:h.fbc.exchangePriceToYuan(c),rules:[{required:!0,message:"请填写内容"}]})(d.createElement(k.Z,{min:0,max:h.fbc.exchangePriceToYuan(c),formatter:h.fbc.limitDecimals,parser:h.fbc.limitDecimals,onChange:e.onChangeReturnMoney}))}],i=[{label:"押金损失",form:r},{label:"押金损失税金",form:o}],f=[{label:"退租时间",form:Z()("".concat(l)).format("YYYY-MM-DD")}],s={labelCol:{span:8},wrapperCol:{span:16}};return d.createElement(b.IT,{title:"退租信息"},d.createElement(b.KP,{items:u,cols:3,layout:s}),d.createElement(b.KP,{items:i,cols:3,layout:s}),d.createElement(b.KP,{items:f,cols:3,layout:s}))})),(0,f.Z)((0,c.Z)(e),"render",(function(){return e.renderWithdrawalInfo()})),e.state={lostMoney:0,lostMoneyTax:0},e}return n}(d.Component);(0,f.Z)(B,"propTypes",{detail:m().object,form:m().object}),(0,f.Z)(B,"defaultProps",{detail:{},form:{}});var A=B,H=n(59104);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var z=function(e){(0,l.Z)(n,e);var t=F(n);function n(){var e;return(0,o.Z)(this,n),e=t.call(this),(0,f.Z)((0,c.Z)(e),"onSubmit",(function(){var t=e.props,n=t.form,o=t.houseContractDetail,a=t.dispatch,c=o.id,l=o.contractEndDate;n.validateFields((function(t,n){if(!t){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:c,breakDate:l,action:h.deO.close},n);e.private.isSubmit&&a({type:"expenseHouseContract/createExpenseHouseWithdrawal",payload:{params:o,onSuccessCallback:function(t){e.private.isSubmit=!1,window.location.href="/#/Expense/Manage/ExamineOrder/Form?orderId=".concat(t.application_order_id)},onFailureCallback:function(t){if(t&&t.zh_message)return e.private.isSubmit=!0,r.ZP.error(t.zh_message)}}})}}))})),(0,f.Z)((0,c.Z)(e),"renderHouseInfo",(function(){var t=e.props.houseContractDetail;return d.createElement(C,{detail:t})})),(0,f.Z)((0,c.Z)(e),"renderContractInfo",(function(){var t=e.props,n=t.form,r=t.houseContractDetail;return d.createElement(D,{form:n,detail:r})})),(0,f.Z)((0,c.Z)(e),"renderRentInfo",(function(){var t=e.props,n=t.form,r=t.houseContractDetail;return d.createElement(O,{form:n,detail:r})})),(0,f.Z)((0,c.Z)(e),"renderDepositInfo",(function(){var t=e.props.houseContractDetail;return d.createElement(w,{detail:t})})),(0,f.Z)((0,c.Z)(e),"renderAgencyFeeInfo",(function(){var t=e.props.houseContractDetail;return d.createElement(Y,{detail:t})})),(0,f.Z)((0,c.Z)(e),"renderWithdrawalInfo",(function(){var t=e.props,n=t.form,r=t.houseContractDetail;return d.createElement(A,{form:n,detail:r})})),(0,f.Z)((0,c.Z)(e),"renderOpration",(function(){return d.createElement(H.Z,{onSubmit:e.onSubmit})})),(0,f.Z)((0,c.Z)(e),"render",(function(){var t=e.props.houseContractDetail;return 0===Object.keys(t).length?d.createElement("div",null):d.createElement("div",null,e.renderHouseInfo(),e.renderContractInfo(),e.renderRentInfo(),e.renderDepositInfo(),e.renderAgencyFeeInfo(),e.renderWithdrawalInfo(),e.renderOpration())})),e.state={},e.private={isSubmit:!0},e}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.dispatch)({type:"expenseHouseContract/fetchHouseContractsDetail",payload:{id:e.location.query.id}})}}]),n}(d.Component);(0,f.Z)(z,"propsTypes",{houseContractDetail:m().object,form:m().object}),(0,f.Z)(z,"defaultProps",{houseContractDetail:{},form:{}});var N=(0,s.connect)((function(e){return{houseContractDetail:e.expenseHouseContract.houseContractDetail}}))(y.Z.create()(z))},22681:function(e,t){t.Z={"app-comp-expense-house-contract-common-districts":"QvQAs2_PFKvjEIDtRzPG","app-comp-expense-house-contract-common":"bxh94LL6yPUuG_DrQuQn","app-comp-expense-house-contract-common-expense-info":"NimUe4clvIZ3FH6RcHIA","app-comp-expense-house-contract-common-operation":"NdVksvUzaqUxf35zxgc1","app-comp-expense-house-contract-from-customize":"jajabo8Tih2o5sxay_Ai","app-comp-expense-house-contract-from-payment":"KuTKTKcJHrXehz80Iv9M",boss_expense_house_contract_from_pay:"dUoXtbveHJUedRHHY1Ho"}}}]);