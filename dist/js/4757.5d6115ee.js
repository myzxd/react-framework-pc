"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[4757],{94243:function(e,t,n){var a=n(15671),r=n(97326),c=n(60136),o=n(82963),i=n(61120),s=n(4942),p=n(67294),l=n(96036),u=n(80385),d=n(8240);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,i.Z)(e);if(t){var r=(0,i.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,o.Z)(this,n)}}var b=l.Hr.Option,v=function(e){(0,c.Z)(n,e);var t=h(n);function n(){var e;(0,a.Z)(this,n);for(var c=arguments.length,o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,s.Z)((0,r.Z)(e),"render",(function(){var t=f({},e.props),n=(0,d.CE)(["dispatch","attributionData"],t);return p.createElement(l.Hr,n,p.createElement(b,{value:"".concat(u.F$Y.project)},u.F$Y.description(u.F$Y.project)),p.createElement(b,{value:"".concat(u.F$Y.headquarter)},u.F$Y.description(u.F$Y.headquarter)),p.createElement(b,{value:"".concat(u.F$Y.city)},u.F$Y.description(u.F$Y.city)),p.createElement(b,{value:"".concat(u.F$Y.district)},u.F$Y.description(u.F$Y.district)),p.createElement(b,{value:"".concat(u.F$Y.knight)},u.F$Y.description(u.F$Y.knight)),p.createElement(b,{value:"".concat(u.F$Y.headquarters)},u.F$Y.description(u.F$Y.headquarters)),p.createElement(b,{value:"".concat(u.F$Y.managementCost)},u.F$Y.description(u.F$Y.managementCost)),p.createElement(b,{value:"".concat(u.F$Y.operatingSupport)},u.F$Y.description(u.F$Y.operatingSupport)),p.createElement(b,{value:"".concat(u.F$Y.vehicleDirectly)},u.F$Y.description(u.F$Y.vehicleDirectly)),p.createElement(b,{value:"".concat(u.F$Y.vehicleIndirect)},u.F$Y.description(u.F$Y.vehicleIndirect)))})),e}return n}(p.Component);t.Z=v},34757:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});n(20186);var a=n(75385),r=(n(52560),n(71577)),c=(n(21316),n(75443)),o=(n(18085),n(55241)),i=(n(51838),n(48086)),s=n(15671),p=n(43144),l=n(97326),u=n(60136),d=n(82963),m=n(61120),f=n(4942),h=n(94315),b=n.n(h),v=n(93517),x=n.n(v),Z=n(30381),y=n.n(Z),E=n(45697),j=n.n(E),P=n(55609),g=n(67294),S=n(44654),F=n(96036),O=n(45430),D=n(97116),w=n(80385),C=(n(9070),n(20924)),Y=(n(54071),n(14072)),k=(n(29093),n(16317)),N=n(94243);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,m.Z)(e);if(t){var r=(0,m.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.Z)(this,n)}}var R=k.Z.Option,T=Y.Z.RangePicker,B=function(e){(0,u.Z)(n,e);var t=I(n);function n(){var e;(0,s.Z)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),(0,f.Z)((0,l.Z)(e),"onSearch",(function(t){var n=e.props.onSearch,a=t.time,r=$({page:1,limit:30},t);b().existy(a)&&b().not.empty(a)&&(r.startDate=Number(y()(a[0]).format("YYYYMMDD")),r.endDate=Number(y()(a[1]).format("YYYYMMDD"))),n&&n(r)})),(0,f.Z)((0,l.Z)(e),"onReset",(function(){var t=e.props.onSearch;t&&t({})})),(0,f.Z)((0,l.Z)(e),"render",(function(){var t={items:[{label:"级别",form:function(e){return e.getFieldDecorator("level")(g.createElement(k.Z,{showArrow:!0,placeholder:"请选择",mode:"multiple",allowClear:!0,showSearch:!0,optionFilterProp:"children"},g.createElement(R,{value:"".concat(w.xPU.one)},w.xPU.description(w.xPU.one)),g.createElement(R,{value:"".concat(w.xPU.two)},w.xPU.description(w.xPU.two)),g.createElement(R,{value:"".concat(w.xPU.three)},w.xPU.description(w.xPU.three)),g.createElement(R,{value:"".concat(w.xPU.four)},w.xPU.description(w.xPU.four)),g.createElement(R,{value:"".concat(w.xPU.five)},w.xPU.description(w.xPU.five)),g.createElement(R,{value:"".concat(w.xPU.six)},w.xPU.description(w.xPU.six)),g.createElement(R,{value:"".concat(w.xPU.seven)},w.xPU.description(w.xPU.seven)),g.createElement(R,{value:"".concat(w.xPU.eight)},w.xPU.description(w.xPU.eight)),g.createElement(R,{value:"".concat(w.xPU.nine)},w.xPU.description(w.xPU.nine)),g.createElement(R,{value:"".concat(w.xPU.ten)},w.xPU.description(w.xPU.ten))))}},{label:"成本归属",form:function(e){return e.getFieldDecorator("costCenterType")(g.createElement(N.Z,{showArrow:!0,allowClear:!0,showSearch:!0,mode:"multiple",optionFilterProp:"children",placeholder:"请选择成本归属"}))}},{label:"状态",form:function(e){return e.getFieldDecorator("state")(g.createElement(k.Z,{showArrow:!0,placeholder:"请选择",mode:"multiple",allowClear:!0},g.createElement(R,{value:"".concat(w.BsX.normal)},w.BsX.description(w.BsX.normal)),g.createElement(R,{value:"".concat(w.BsX.disable)},w.BsX.description(w.BsX.disable)),g.createElement(R,{value:"".concat(w.BsX.draft)},w.BsX.description(w.BsX.draft))))}},{label:"科目编码",form:function(e){return e.getFieldDecorator("coding")(g.createElement(C.Z,{type:"text",placeholder:"请输入科目编码"}))}},{label:"科目名称",form:function(e){return e.getFieldDecorator("name")(g.createElement(C.Z,{type:"text",placeholder:"请输入科目名称"}))}},{label:"创建时间",form:function(e){return e.getFieldDecorator("time",{initialValue:null})(g.createElement(T,null))}}],expand:!0,onReset:e.onReset,onSearch:e.onSearch};return g.createElement(F.IT,null,g.createElement(F.yL,t))})),e}return n}(g.Component);(0,f.Z)(B,"propTypes",{onSearch:j().func}),(0,f.Z)(B,"defaultProps",{onSearch:function(){}});var X=B,z=n(57129);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,m.Z)(e);if(t){var r=(0,m.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.Z)(this,n)}}var L=function(e){(0,u.Z)(n,e);var t=H(n);function n(e){var p;return(0,s.Z)(this,n),p=t.call(this,e),(0,f.Z)((0,l.Z)(p),"onCreate",(function(){p.props.history.push("/Expense/Subject/Create")})),(0,f.Z)((0,l.Z)(p),"onShowSizeChange",(function(e,t){var n=p.private.searchParams;n.page=e,n.limit=t,p.onSearch(n)})),(0,f.Z)((0,l.Z)(p),"onChangePage",(function(e,t){var n=p.private.searchParams;n.page=e,n.limit=t,p.onSearch(n)})),(0,f.Z)((0,l.Z)(p),"onSearch",(function(e){p.private.searchParams=e,p.private.searchParams.page||(p.private.searchParams.page=1),p.private.searchParams.limit||(p.private.searchParams.limit=30),(void 0===e.state||b().empty(e.state))&&(p.private.searchParams.state=[w.NF3.normal,w.NF3.disable,w.NF3.draft]),p.props.dispatch({type:"expenseSubject/fetchExpenseSubjects",payload:p.private.searchParams})})),(0,f.Z)((0,l.Z)(p),"onSuccessDelete",(function(){i.ZP.success("科目删除成功");var e={state:[w.NF3.normal,w.NF3.disable,w.NF3.draft]};p.props.dispatch({type:"expenseSubject/fetchExpenseSubjects",payload:e})})),(0,f.Z)((0,l.Z)(p),"onFailureDelete",(function(e){i.ZP.error(e.zh_message)})),(0,f.Z)((0,l.Z)(p),"onDelete",(function(e){(0,p.props.dispatch)({type:"expenseSubject/deleteSubject",payload:{params:{id:e.id},onSuccessCallback:p.onSuccessDelete,onFailureCallback:p.onFailureDelete}})})),(0,f.Z)((0,l.Z)(p),"onSuccessOpen",(function(){i.ZP.success("科目开启成功");var e={state:[w.NF3.normal,w.NF3.disable,w.NF3.draft]};p.props.dispatch({type:"expenseSubject/fetchExpenseSubjects",payload:e})})),(0,f.Z)((0,l.Z)(p),"onFailureOpen",(function(e){i.ZP.error(e.zh_message)})),(0,f.Z)((0,l.Z)(p),"onOpen",(function(e){(0,p.props.dispatch)({type:"expenseSubject/toggleSubjectState",payload:{params:{id:e.id,state:w.NF3.normal},onSuccessCallback:p.onSuccessOpen,onFailureCallback:p.onFailureOpen}})})),(0,f.Z)((0,l.Z)(p),"onSuccessDisable",(function(){i.ZP.success("科目停用成功");var e={state:[w.NF3.normal,w.NF3.disable,w.NF3.draft]};p.props.dispatch({type:"expenseSubject/fetchExpenseSubjects",payload:e})})),(0,f.Z)((0,l.Z)(p),"onFailureDisable",(function(e){i.ZP.error(e.zh_message)})),(0,f.Z)((0,l.Z)(p),"onDisable",(function(e){var t={id:e.id,state:w.NF3.disable};p.props.dispatch({type:"expenseSubject/toggleSubjectState",payload:{params:t,onSuccessCallback:p.onSuccessDisable,onFailureCallback:p.onFailureDisable}})})),(0,f.Z)((0,l.Z)(p),"renderContent",(function(){var e=p.props,t=e.subjectsData,n=void 0===t?{}:t,i=e.enumeratedValue,s=(void 0===i?{}:i).subjectScense,l=void 0===s?[]:s,u=x().get(n,"data",[]),d=x().get(n,"meta.count",0),m=p.private.searchParams,f=m.page,h=m.limit,b=D.Iq.account.id,v=[{title:"科目编码",dataIndex:"accountingCode",width:"12%",render:function(e){return e&&""!==e?e.length<=8?e:g.createElement(o.Z,{content:e,title:"科目编码",trigger:"hover"},g.createElement("div",null,"".concat(e.substr(0,8),"..."))):"--"}},{title:"适用场景",dataIndex:"industryCodes",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;if(!e||1!==e.length)return"--";var t=l.find((function(t){return t.value===e[0]}))||{},n=t.name,a=void 0===n?void 0:n;return a||"--"}},{title:"科目名称",dataIndex:"name",width:"13.28%",render:function(e){return e&&""!==e?e.length<=8?e:g.createElement(o.Z,{content:e,title:"科目名称",trigger:"hover"},g.createElement("div",null,"".concat(e.substr(0,8),"..."))):"--"}},{title:"级别",dataIndex:"level",width:50,render:function(e){return g.createElement("div",null,w.xPU.description(e))}},{title:"上级科目",dataIndex:"parentName",width:"13.28%",render:function(e){return e&&""!==e?e.length<=8?e:g.createElement(o.Z,{content:e,title:"上级科目",trigger:"hover"},g.createElement("div",null,"".concat(e.substr(0,8),"..."))):"--"}},{title:"是否成本类",dataIndex:"costFlag",align:"center",render:function(e){return w.HcC.description(e)||"--"}},{title:"成本归属",dataIndex:"costCenterType",render:function(e){return e?w.F$Y.description(e):"--"}},{title:"创建时间",dataIndex:"createdAt",width:140,render:function(e){return e?y()(e).format("YYYY-MM-DD HH:mm"):"--"}},{title:"创建人",dataIndex:"creatorInfo",render:function(e){return e&&e.name?e.name:"--"}},{title:"科目描述",dataIndex:"description",render:function(e){return e&&""!==e?e.length<=8?e:g.createElement(o.Z,{content:e,title:"科目描述",trigger:"hover"},g.createElement("div",null,e.substr(0,8))):"--"}},{title:"状态",dataIndex:"state",render:function(e){return g.createElement("div",null,w.NF3.description(e))}},{title:"操作",dataIndex:"operation",render:function(e,t){var n=t.state,a=t.creatorInfo,r=[];switch(n){case w.NF3.draft:O.ZP.canOperateExpenseSubjectDetail()&&a.id!==b&&r.push(g.createElement(S.Link,{key:"disableDraft",to:{pathname:"/Expense/Subject/Details",query:{subjiectId:t.id}}},"查看")),O.ZP.canOperateExpenseSubjectUpdate()&&a.id===b&&r.push(g.createElement(S.Link,{className:z.Z["app-comp-expense-subject-operation-update"],key:"draftUpadate",to:{pathname:"/Expense/Subject/Update",query:{subjiectId:t.id}}},"编辑")),O.ZP.canOperateExpenseSubjectDelete()&&a.id===b&&r.push(g.createElement(c.Z,{placement:"top",key:"draftDelete",title:"你确定要删除该费用科目吗?",onConfirm:function(){p.onDelete(t)},okText:"确认",cancelText:"取消"},g.createElement("a",{className:z.Z["app-comp-expense-subject-operation-detele"]},"删除"))),O.ZP.canOperateExpenseSubjectEnable()&&a.id===b&&r.push(g.createElement(c.Z,{placement:"top",key:"draftOpen",title:"你确定要启用该费用科目吗?",onConfirm:function(){p.onOpen(t)},okText:"确认",cancelText:"取消"},g.createElement("a",{className:z.Z["app-comp-expense-subject-operation-enable"]},"启用")));break;case w.NF3.normal:O.ZP.canOperateExpenseSubjectDetail()&&r.push(g.createElement(S.Link,{key:"normalDetails",to:{pathname:"/Expense/Subject/Details",query:{subjiectId:t.id}}},"查看")),O.ZP.canOperateExpenseSubjectDisable()&&a.id===b&&r.push(g.createElement(c.Z,{placement:"top",key:"normalDisable",title:"你确定要停用该费用科目吗?",onConfirm:function(){p.onDisable(t)},okText:"确认",cancelText:"取消"},g.createElement("a",{className:z.Z["app-comp-expense-subject-operation-disable"]},"停用")));break;case w.NF3.disable:O.ZP.canOperateExpenseSubjectDetail()&&r.push(g.createElement(S.Link,{key:"disableDetails",to:{pathname:"/Expense/Subject/Details",query:{subjiectId:t.id}}},"查看")),O.ZP.canOperateExpenseSubjectEnable()&&a.id===b&&r.push(g.createElement(c.Z,{placement:"top",key:"disableOpen",title:"你确定要启用该费用科目吗?",onConfirm:function(){p.onOpen(t)},okText:"确认",cancelText:"取消"},g.createElement("a",{className:z.Z["app-comp-expense-subject-operation-enable"]},"启用")));break;default:O.ZP.canOperateExpenseSubjectDetail()&&r.push(g.createElement(S.Link,{to:{pathname:"/Expense/Subject/Details",query:{subjiectId:t.id}}},"查看"))}return g.createElement("span",null,r)}}],Z={pageSize:h||30,onChange:p.onChangePage,total:d,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:p.onShowSizeChange};f&&(Z.current=f);var E={columns:v,pagination:Z,dataSource:u,rowKey:function(e,t){return t},onShowSizeChange:p.onShowSizeChange},j=g.createElement("span",null,O.ZP.canOperateExpenseSubjectCreate()?g.createElement(r.Z,{onClick:function(){p.onCreate()},type:"primary"},"新建科目"):null);return g.createElement(F.IT,{title:"科目列表",titleExt:j,className:z.Z["app-comp-expense-subject"]},g.createElement(a.Z,E))})),(0,f.Z)((0,l.Z)(p),"render",(function(){return g.createElement("div",null,g.createElement(X,{onSearch:p.onSearch}),p.renderContent())})),p.state={},p.private={searchParams:{state:[w.NF3.normal,w.NF3.disable,w.NF3.draft]}},p}return(0,p.Z)(n,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"expenseSubject/fetchExpenseSubjects",payload:{isAll:!0}}),this.props.dispatch({type:"applicationCommon/getEnumeratedValue",payload:{enumeratedType:"subjectScense"}})}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"expenseSubject/resetSubjects"}),e({type:"applicationCommon/resetEnumeratedValue"})}}]),n}(g.Component);(0,f.Z)(L,"propTypes",{subjectsData:j().object}),(0,f.Z)(L,"defaultProps",{subjectsData:{}});var M=(0,P.connect)((function(e){return{subjectsData:e.expenseSubject.subjectsData,enumeratedValue:e.applicationCommon.enumeratedValue}}))(L)},57129:function(e,t){t.Z={"app-comp-expense-subject-operation-update":"RpJQ2mLrg7Xi8ec6gsMZ","app-comp-expense-subject":"PN7e9tv0En5YZ_HMkT2O","app-comp-expense-subject-operation-detele":"fn5P_0ya077Nru8ZeKZq","app-comp-expense-subject-operation-enable":"pc8gj8FKRzH6BrevLQGm","app-comp-expense-subject-operation-disable":"fipYabxrAmO8k8eoHmNO","app-comp-expense-subject-update-save":"f2Ex550dRuIQAovMMXgw","app-comp-expense-subject-update-submit":"IWGzV3xSPyTIPE_22TzI","app-comp-expense-subject-update-button":"wNJB1W725VHyFTr415NA","app-comp-expense-subject-create-save":"RUK2U5uLgZm_csoEHFQ4","app-comp-expense-subject-create-primary":"fE0tpD6WcilsXwnB4VwF","app-comp-expense-subject-create-button":"f91EN3DBQNoGu5MOLXTx","app-comp-expense-subject-detail-common-title":"fkLwf_kttofnJHjPWp7v","app-comp-expense-subject-detail-common-content":"uJeeC13TvHh47jG9aLLA","app-comp-expense-subject-detail-common-text":"dukmSL9TTFMXGm0ROaK0","app-comp-expense-subject-detail-common-button":"VHgoFTiAzeXBvSlVtwZJ","app-comp-expense-subject-detail-common-distance":"OpbXe6PevRXzPp5HqRK0"}}}]);