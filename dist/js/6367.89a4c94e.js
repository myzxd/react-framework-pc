"use strict";(self.webpackChunkaoaoBoss=self.webpackChunkaoaoBoss||[]).push([[6367],{26367:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});n(20186);var r=n(75385),a=n(4942),o=n(29439),c=n(93517),i=n.n(c),u=n(30381),d=n.n(u),l=n(55609),f=n(67294),s=n(96036),p=n(80385),y=(n(35668),n(86585)),m=(n(54071),n(14072).Z.RangePicker);var g=function(e){var t,n=function(e){return e&&e>d()().endOf("day")},r=function(t){e.onSearch&&e.onSearch(t)},a=function(){r&&r({})};return f.createElement(f.Fragment,null,(t=[f.createElement(y.Z.Item,{label:"签约完成时间",name:"date"},f.createElement(m,{disabledDate:n}))],f.createElement(s.j6,{items:t,onReset:a,onSearch:r})))};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=(0,l.connect)((function(e){return{contractData:e.employeeManage.contractData}}))((function(e){var t=(0,f.useState)({page:1,limit:30}),n=(0,o.Z)(t,2),a=n[0],c=n[1],u=(0,f.useState)({}),l=(0,o.Z)(u,2),y=l[0],m=l[1],_=e.dispatch,b=e.contractData,O=e.location.query,k=void 0===O?{}:O,w=k.staffId,I=k.identityCardId;(0,f.useEffect)((function(){return _({type:"employeeManage/fetchContractInfoData",payload:h({meta:a,id:w,identity:I,state:[p.pHH.one,p.pHH.two,p.pHH.three,p.pHH.four]},y)}),function(){_({type:"employeeManage/reduceEmployeeContractInfo",payload:{}})}}),[_,a,y,w,I]);var S,j,v=function(e,t){c({page:e,limit:t})},E=function(e,t){c({page:e,limit:t})};return f.createElement(s.IT,{title:"".concat(k.name||"","历史合同/承揽协议信息")},f.createElement(g,{onSearch:m}),(S=[{title:"协议编号",dataIndex:"contract_no",key:"contract_no",render:function(e){return e||"--"}},{title:"甲方",dataIndex:["third_part_info","name"],key:"third_part_info.name",render:function(e){return e||"--"}},{title:"状态",dataIndex:"state",key:"state",render:function(e){return e?p.pHH.description(e):"--"}},{title:"失效原因",dataIndex:"失效原因",key:"失效原因",render:function(e,t){if(t.delete_reason||t.delete_reason){var n=[];return t.delete_reason&&n.push(t.delete_reason),t.failure_reason&&n.push(t.failure_reason),n.join(", ")}return"--"}},{title:"周期",dataIndex:"contract_cycle",key:"contract_cycle",render:function(e){return e?"".concat(e):"--"}},{title:"生效日期",dataIndex:"signed_date",key:"signed_date",render:function(e,t){var n=t.expired_at;return e&&n?"".concat(e,"-").concat(n):"--"}},{title:"签约方式",dataIndex:"sign_type",key:"sign_type",render:function(e){return e?p.B1m.description(e):"--"}},{title:"签约完成时间",dataIndex:"done_at",key:"done_at",render:function(e){return e?d()(e).format("YYYY-MM-DD"):"--"}},{title:"操作",dataIndex:"contract_asset_url",key:"contract_asset_url",render:function(e){return e?f.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e,download:!0},"下载电子合同"):f.createElement("a",{target:"_blank",rel:"noopener noreferrer",download:!0,style:{color:"rgba(0,0,0,.25)"}},"下载电子合同")}}],j={current:a.page,defaultPageSize:30,onChange:E,showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:v,showTotal:function(e){return"总共".concat(e,"条")},pageSizeOptions:["10","20","30","40"],total:i().get(b,"_meta.count",0)},f.createElement(r.Z,{rowKey:function(e){return e._id},pagination:j,columns:S,dataSource:i().get(b,"data",[]),bordered:!0})))}))}}]);