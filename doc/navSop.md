# 项目导航及面包屑配置使用sop

> 题目: 导航及面包屑配置标准操作规程

> 作者: 乔亚军 (dave-qiao)

> 日期: 2017/10/20

> 目的: 规范前端开发人员快速开发导航及面包屑

> 背景知识: Menu(侧边导航提供多级结构来收纳和排列网站架构)、Breadcrumb(显示当前页面在系统层级结构中的位置)

> 原理: React组件的使用及props格式的组织、Object、Array

> 内容: 整理如下

## 1.根据需求确认导航、面包屑配置数据结构

* 现有数据结构
  * 二级导航数据结构
  ```
    // 查询管理
    {
        iconType: 'search',  // 父级导航标题前的icon
        title: '查询管理',  // 父级导航标题
        MenuItem: [  // 子导航（所有子导航为数组，元素为对象）
            {
                url: 'Search/Business', // 子导航导航跳转地址（与路由地址相同）
                text: '业务量查询', // 子导航标题
                key: '1-1',  // 子导航地址对应的key(导航高亮会根据key匹配)
            },
        ]
    },
  ```
  * 三级导航数据结构
  ```
    {
        iconType: 'database',  // 一级导航icon
        title: '物资管理',  // 一级导航标题
        MenuItem: [  // 一级导航下的二级导航列表
            {
                children: 'true', // 如果二级导航下还有子导航（三级导航）则设为'true'(类型为String)
                title: '库存信息', // 二级导航标题
                key: '1-1',  // 二级导航key
                MenuItemChildren: [
                    {
                        url: 'Materiel/Stores/Search', // 三级导航跳转地址（与路由地址相同）
                        text: '查看库存',  // 三级导航标题
                        key: '1-1-1',  // 三级导航高亮key
                    },
                ],
            },
        ]
    },
  ```
  * 面包屑数据结构
  ```
    {
        '/Search/Business': ['查询管理', '业务量查询']  // 对应关系为 路由地址：['一级导航名称'、'二级导航名称'、'三级导航名称']
    }
  ```
  * 导航高亮key数据结构
  ```
    {
        '/Search/Business': '1-1'  // 对应关系为 路由地址：'导航设置的key值'
    }
  ```


## 2.二级导航设置及面包屑设置

* 2.1 根据原型图整理出新增的模块导航列表[地址]
  * 2.1.1 一级导航的iconType需要设计师给出
  * 2.1.2 组织数据结构
  * 2.1.3 example(如下)
  ```
   {
        iconType: '新图标需要注意具体大小写',  // 父级导航标题前的icon
        title: '新标题需要产品给出简短可概述的名字',  // 父级导航标题
        MenuItem: [  // 子导航（所有子导航为数组，元素为对象）
            {
                url: '新的地址需要与路由地址相同（注意小驼峰写法）', // 子导航导航跳转地址（与路由地址相同）
                text: '新的子导航标题', // 子导航标题
                key: '设置key应注意其格式（根据导航级别递增长度、根据统计导航个数递增大小）',  // 子导航地址对应的key(导航高亮会根据key匹配)
            },
        ]
   },
  ```
* 2.2 面包屑设置
  * 2.2.1 面包屑由路由自动实现，1. 需要注册模块时添加模块名称 2.在导航栏中，添加模块的对应菜单关系

## 3.三级导航设置

* 3.1 新增的模块需要在layout子路由基础上增设子路由[本地链接](./../src/routes/router.js)
  * 3.1.1 example
  ```
    {
        iconType: '新图标需要注意具体大小写',  // 一级导航icon
        title: '新标题需要产品给出简短可概述的名字',  // 一级导航标题
        MenuItem: [  // 一级导航下的二级导航列表
            {
                children: '根据是否有三级导航设置值（true|false）', // 如果二级导航下还有子导航（三级导航）则设为'true'(类型为String)
                title: '新的二级导航标题',
                key: '二级导航key',
                MenuItemChildren: [
                    {
                        url: '三级导航跳转地址（与路由地址相同）',
                        text: '三级导航标题',  
                        key: '三级导航高亮key',
                    },
                ],
            },
        ]
    },
  ```
