# 角色权限设置使用sop

> 题目: 角色权限配置标准操作规程

> 作者: 乔亚军 (dave-qiao)

> 日期: 2017/10/20

> 目的: 规范本项目中前端开发人员快速规范开发角色权限配置

> 背景知识: 项目需求为不同的角色拥有不同的模块权限、功能权限、数据权限

> 原理: 导航动态加载、路由分配及重定向、页面功能filter、数据过滤、接口拦截[详细讲解](./roleFilter.md)

> 内容: 整理如下

## 1.配置路由
*  1.1 未配置，[去配置](./routerSop.md)
*  1.2 已配置则进入下个流程

## 2.配置导航
*  2.1 未配置，[去配置](./nav.md)
*  2.2 已配置则进入下个流程

## 3.配置权限
*  3.1 根据需求整理出权限表（包括角色对应得模块权限、功能权限、菜单列表）
*  3.2 根据不同角色设置不同的菜单权限（filterNavItem），与每个角色枚举值相对应。[设置](./../src/routes/role/role.js)
*  3.3 根据不同角色不同的路由权限(routes)，与每个角色枚举值相对应。[设置](./../src/application/service/router/routes.js)
*  3.4 根据角色对应的功能增设对应的钩子(Permission)。[设置](./../src/routes/role/role.js)

## 4.检查是否配置成功
*  4.1 登录对应的角色查看菜单栏是否符合权限表
*  4.2 登录对应的角色检查路由模块是否符合权限表
*  4.3 编写测试单元测试权限filter的钩子是否符合权限表
